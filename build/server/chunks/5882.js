"use strict";exports.id=5882,exports.ids=[5882],exports.modules={55882:(e,r,t)=>{t.d(r,{LV:()=>DropdownWithPrinterQuery,Lt:()=>Dropdown});var n=t(28793),a=t(3966),s=t.n(a),i=t(48081),l=t(78364),d=t(93329),o=t(88470),c=t(23681),x=t(57748),m=t(99653),p=t(16779),u=t(65314),h=t(77576),b=t(15611);let OnDropdownOpened=({open:e,onShown:r})=>((0,a.useEffect)(()=>{e&&r()},[e,r]),null),useDropdownPrinterQueryState=(e,r,t)=>{let[n,s]=(0,a.useState)(!1),i=(0,h.useSerializedPrinterConfiguration)(),l=r??(t?{}:void 0);l&&null!=t&&(l[t]=i);let d=p.SX.printer[e].useQuery(l,{enabled:n,keepPreviousData:!0});return{options:d.data??[],onShown:()=>s(!0),isFetching:d.isFetching}},DropdownWithPrinterQuery=e=>{let{query:r,vars:t,serializedPrinterConfiguration:a,...i}=e,l=useDropdownPrinterQueryState(r,t,a);return n.jsx(s().Suspense,{children:n.jsx(Dropdown,{...i,...l})})},Dropdown=e=>{let{onSelect:r,value:t}=e,s=(0,a.useCallback)(t=>{let n=e.options.find(e=>e.id===t);n&&r?.(n)},[r,e.options]),p=!1==e.sort?e.options:e.options.slice(0).sort((e,r)=>e.title.localeCompare(r.title)),h=(0,c.m)("relative flex w-full cursor-default items-center justify-between rounded-md bg-white py-1.5 pl-3 pr-3 text-left text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 focus:outline-none focus:ring-2 focus:ring-brand-600 dark:bg-zinc-800 dark:text-zinc-300 dark:ring-zinc-700 dark:focus:ring-brand-400 sm:text-sm sm:leading-6",e.error?"ring-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700":"ring-zinc-300 text-zinc-900 placeholder-zinc-300 focus:ring-brand-600 dark:ring-zinc-700 dark:text-zinc-100 dark:placeholder-zinc-700 dark:focus:ring-brand-400 "),[g]=(0,b.u)();return n.jsx(i.R,{value:t?.id??null===t?null:void 0,onChange:s,disabled:e.disabled,children:({open:r})=>(0,n.jsxs)(n.Fragment,{children:[n.jsx(i.R.Label,{className:(0,c.m)("block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300",e.error&&"text-red-600 dark:text-red-400"),children:e.label}),e.onShown&&n.jsx(OnDropdownOpened,{open:r,onShown:e.onShown}),(0,n.jsxs)("div",{className:"relative mt-1",children:[(0,n.jsxs)(i.R.Button,{className:h,disabled:e.disabled,title:t?.title,children:[n.jsx("span",{className:"flex-1 truncate",children:t?.title??"Pick from the list..."}),n.jsx("span",{className:(0,x.d)("flex items-center space-x-1",e.disabled&&"-mr-1.5"),children:e.badge&&(Array.isArray(e.badge)?e.badge:[e.badge]).map((r,t)=>(0,a.createElement)(m.Ct,{...r,key:t,color:r.color??(e.disabled?"plain":r.color),size:"sm"}))}),!e.disabled&&n.jsx("span",{className:"pointer-events-none -mr-4 flex items-center pr-2",children:n.jsx(d,{className:"h-5 w-5 text-zinc-400","aria-hidden":"true"})})]}),n.jsx("div",{ref:g,children:e.error&&n.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:e.error})}),n.jsx(l.u,{show:r,as:a.Fragment,enter:"transition duration-150 ease-out",enterFrom:"transform translate-y-1 opacity-0",enterTo:"transform translate-y-0 opacity-100",leave:"transition duration-200 ease-out",leaveFrom:"transform translate-y-0 opacity-100",leaveTo:"transform translate-y-1 opacity-0",children:(0,n.jsxs)(i.R.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-zinc-400 scrollbar-thumb-rounded-md focus:outline-none dark:bg-zinc-800 dark:scrollbar-thumb-zinc-600 sm:text-sm",children:[p.map(e=>n.jsx(i.R.Option,{className:({active:e,disabled:r})=>(0,c.m)(e?"dark bg-brand-600 text-white":"text-zinc-900 dark:text-zinc-300",r&&"text-zinc-400 dark:text-zinc-500","relative cursor-default select-none py-2 pl-3 pr-9"),disabled:e.disabled,value:e.id,children:({selected:r,active:t})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:(0,x.d)(r?"font-semibold":"font-normal","flex items-center space-x-2 truncate"),children:[n.jsx("span",{children:e.title})," ",e.badge&&(Array.isArray(e.badge)?e.badge.map((e,r)=>(0,a.createElement)(m.Ct,{...e,color:t?"plain":e.color,size:"sm",key:r})):n.jsx(m.Ct,{...e.badge,color:t?"plain":e.badge.color,size:"sm"}))]}),r?n.jsx("span",{className:(0,x.d)(t?"text-white":"text-brand-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:n.jsx(o,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},e.id)),e.isFetching&&n.jsx("div",{className:"flex justify-center px-3 py-2 text-sm text-zinc-400 dark:text-zinc-500",children:n.jsx(u.$,{})}),!e.isFetching&&0===p.length&&n.jsx("div",{className:"px-3 py-2 text-center text-sm text-zinc-400 dark:text-zinc-500",children:"No options available"})]})})]})]})})}}};