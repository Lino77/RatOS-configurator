"use strict";exports.id=6557,exports.ids=[6557],exports.modules={46557:(t,e,n)=>{n.d(e,{n:()=>useKlippyStateHandler});var i=n(3966),o=n(28874);let useKlippyStateHandler=()=>{let{query:t,lastMessage:e}=(0,o.oK)({passThroughUpdateMethods:["notify_klippy_ready","notify_klippy_shutdown","notify_klippy_disconnected"]}),[n,s]=(0,i.useState)("unknown"),p=(0,i.useCallback)(async()=>{if(null!=t)try{let e=await t("server.info");if(e?.klippy_state==null)return;let n=e.klippy_state;s(n),"startup"===n&&setTimeout(()=>{p()},2e3)}catch(t){s("unknown")}},[t,s]);return(0,i.useEffect)(()=>{null!=t&&p()},[t,p]),(0,i.useEffect)(()=>{"method"in e&&e?.method==="notify_klippy_ready"&&s("ready"),"method"in e&&e?.method==="notify_klippy_shutdown"&&s("shutdown"),"method"in e&&e?.method==="notify_klippy_disconnected"&&(s("unknown"),p())},[e,p,s]),n}}};