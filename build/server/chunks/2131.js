"use strict";exports.id=2131,exports.ids=[2131,9013,439],exports.modules={92249:(e,t,r)=>{r.d(t,{M_:()=>searchFileByLine,Sw:()=>extractLinesFromFile,u5:()=>replaceInFileByLine,xg:()=>getScriptRoot});var i=r(57147),a=r(73292),n=r(22037),o=r(14521);let getScriptRoot=()=>process.env.RATOS_SCRIPT_DIR??__dirname.split("configurator/")[0]+"configurator/scripts/",replaceInFileByLine=async(e,t,r)=>{if(!(0,i.existsSync)(e))throw Error("Firmware config file does not exist: "+e);let c=(0,i.createReadStream)(e),l=(0,i.createWriteStream)(e+".tmp"),s=(0,o.createInterface)({input:c,crlfDelay:1/0});for await(let e of s){if(null==r){if(t instanceof RegExp?e.match(t):e.includes(t))continue;l.write(e+n.EOL);continue}l.write(e.replace(t,r)+n.EOL)}s.close(),await new Promise((e,t)=>{l.close(r=>{if(r)throw t(r);e(null)})}),await new Promise((e,t)=>{c.close(r=>{if(r)throw t(r);e(null)})}),await (0,a.copyFile)(e+".tmp",e),await (0,a.unlink)(e+".tmp")},searchFileByLine=async(e,t)=>{if(!(0,i.existsSync)(e))throw Error("Firmware config file does not exist: "+e);let r=(0,i.createReadStream)(e),a=(0,o.createInterface)({input:r,crlfDelay:1/0}),n=!1,c=0;for await(let e of a)!n&&(c++,(t instanceof RegExp?e.match(t):e.includes(t))&&(n=c));return await new Promise((e,t)=>{r.close(r=>{if(r)throw t(r);e(null)})}),n},extractLinesFromFile=async(e,t,r)=>{if(!(0,i.existsSync)(e))throw Error("Firmware config file does not exist: "+e);let a=(0,i.createReadStream)(e),n=(0,o.createInterface)({input:a,crlfDelay:1/0}),c=[],l=0;for await(let e of n)++l>=t&&l<=(r??1/0)&&c.push(e);return await new Promise((e,t)=>{a.close(r=>{if(r)throw t(r);e(null)})}),c.join("\n")}},49013:(e,t,r)=>{r.d(t,{getLogger:()=>getLogger});var i=r(58545),a=r.n(i),n=r(11641);let o=null,getLogger=()=>{if(null!=o)return o;let e=n.serverSchema.parse(process.env),t={target:"pino/file",options:{destination:e.LOG_FILE,append:!0}};return o=a()({timestamp:!0,transport:t})}},79068:(e,t,r)=>{r.d(t,{$y:()=>o,Nd:()=>n,qR:()=>c});var i=r(56368);let a=i.initTRPC.context().meta().create(),n=a.router,o=a.procedure,c=a.middleware}};