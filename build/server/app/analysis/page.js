(()=>{var e={};e.id=2490,e.ids=[2490],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},38316:e=>{"use strict";e.exports=require("zod")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},14521:e=>{"use strict";e.exports=require("readline")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},26144:e=>{"use strict";e.exports=require("vm")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},88020:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var a=t(46855),n=t(12875),s=t(7611),o=t.n(s),i=t(32600),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let c=["",{children:["analysis",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,88754)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,29073)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,50131)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,99452)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/layout.tsx"],template:[()=>Promise.resolve().then(t.bind(t,22709)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/template.tsx"],error:[()=>Promise.resolve().then(t.bind(t,62090)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,44859)),"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,28626,23)),"next/dist/client/components/not-found-error"]}],u=["/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/page.tsx"],d="/analysis/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/analysis/page",pathname:"/analysis",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},24707:(e,r,t)=>{Promise.resolve().then(t.bind(t,88981)),Promise.resolve().then(t.bind(t,68425))},64497:(e,r,t)=>{"use strict";t.d(r,{k:()=>useGcodeCommand});var a=t(3966),n=t(28874);let useGcodeCommand=()=>{let e=(0,n.xH)("printer.gcode.script");return(0,a.useCallback)(async(r,...t)=>{let a=[r[0]];t.forEach((e,t)=>{a.push(e.toString(),r[t+1])});let n=a.join(""),s=await e.mutateAsync({script:n});console.log(n,s)},[])}},88981:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Analysis:()=>Analysis});var a=t(28793),n=t(3966),s=t(64497),o=t(57748),i=t(73835),l=t(65314),c=t(21374),u=t(93261),d=t(42505),x=t(20010),p=t(36849),m=t(12968),b=t(62657),f=t(21827),h=t(71315),g=t(64554),w=t(5951),j=t(68455);c.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useRealtimeAnalysisChart=e=>{let[r,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(void 0),o=(0,d.YC)(),i=(0,g.useRecoilValue)(w.OS),l=e??o[0].getYAccelerometerName(),u=("controlboard"===l?i?.name:"toolboard_t0"===l?o[0]?.getToolboard()?.name:"toolboard_t1"===l?o[1]?.getToolboard()?.name:"rpi"===l?"Raspberry Pi":"N/A")??"N/A",x=(0,p.ZA)(),m=(0,p.QR)("x"),h=(0,p.QR)("y"),y=(0,p.QR)("z"),M=m.data.current?.yAxis??null,v=h.data.current?.yAxis??null,_=y.data.current?.yAxis??null,S=(0,b.Tv)([M,v,_]),N=x.surface.current?.yAxes.getById(p.ck)??null,I=(0,b.Tv)(N,p.as),A=(0,b.Dv)(a),R=(0,n.useRef)(new Date().getTime());(0,n.useEffect)(()=>{r&&(R.current=new Date().getTime())},[r]);let C=(0,b.ag)(e=>{let r=x.surface.current;if(null==r)return;let t=new Date().getTime()-R.current;R.current=new Date().getTime();let a=x.data.current?.animationSeries;if(null==a)throw Error("No animation data series");if(e.x.frequencies.length<p.LM){let r=Array(p.LM-e.x.frequencies.length).fill(0);e.x.frequencies.unshift(...r),e.x.estimates.unshift(...r)}if(e.y.frequencies.length<p.LM){let r=Array(p.LM-e.y.frequencies.length).fill(0);e.y.frequencies.unshift(...r),e.y.estimates.unshift(...r)}if(e.z.frequencies.length<p.LM){let r=Array(p.LM-e.z.frequencies.length).fill(0);e.z.frequencies.unshift(...r),e.z.estimates.unshift(...r)}if(e.total.frequencies.length<p.LM){let r=Array(p.LM-e.total.frequencies.length).fill(0);e.total.frequencies.unshift(...r),e.total.estimates.unshift(...r)}a.x.clear(),a.y.clear(),a.z.clear(),a.total.clear(),a.x.appendRange(e.x.frequencies,e.x.estimates),a.y.appendRange(e.y.frequencies,e.y.estimates),a.z.appendRange(e.z.frequencies,e.z.estimates),a.total.appendRange(e.total.frequencies,e.total.estimates),r.renderableSeries.getById("x").runAnimation(new c.LineAnimation({duration:t,ease:c.easing.inOutCirc,dataSeries:a.x})),r.renderableSeries.getById("y").runAnimation(new c.LineAnimation({duration:t,ease:c.easing.inOutCirc,dataSeries:a.y})),r.renderableSeries.getById("z").runAnimation(new c.LineAnimation({duration:t,ease:c.easing.inOutCirc,dataSeries:a.z})),r.renderableSeries.getById("total").runAnimation(new c.MountainAnimation({duration:t,ease:c.easing.inOutCirc,dataSeries:a.total})),I(new c.NumberRange(e.total.powerRange.min,e.total.powerRange.max))}),k=(0,b.Gs)(A.sampleRate,C.onData),q=(0,b.O3)(A,async(e,r,t,a)=>{let n=(0,f.iQ)(r),s=(0,f.iQ)(t),o=(0,f.iQ)(a);r.dispose(),t.dispose(),a.dispose(),Promise.all([e.array(),n.array(),s.array(),o.array()]).then(([e,r,t,a])=>{m.data.current?.signalData.appendRange(e,r),h.data.current?.signalData.appendRange(e,t),y.data.current?.signalData.appendRange(e,a),m.data.current?.historyData.appendRange(e,r),h.data.current?.historyData.appendRange(e,t),y.data.current?.historyData.appendRange(e,a)}),S(),k(e,n,s,o,!0)});return(0,b.kP)(q),(0,b.ko)({sensor:l,enabled:r,onDataUpdate:A.onData,onSubscriptionSuccess:(0,n.useCallback)(e=>{s(e)},[]),onSubscriptionFailure:(0,n.useCallback)(e=>{t(!1),j.A.error("Failed to subscribe to ADXL345",{description:e.message})},[])}),(0,n.useMemo)(()=>({isChartEnabled:r,setIsChartEnabled:t,psds:C,currentAccelerometer:l,currentAccelerometerHardwareName:u,chartProps:{xSignalChart:m,ySignalChart:h,zSignalChart:y,psdChart:x}}),[r,C,l,u,m,h,y,x])},RealtimeAnalysisChart=({xSignalChart:e,ySignalChart:r,zSignalChart:t,psdChart:n})=>(0,a.jsxs)("div",{className:"flex max-h-full min-h-full flex-col space-y-4 @container",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 @screen-lg:grid-cols-3",children:[(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[a.jsx("div",{className:(0,o.d)("flex-none rounded-full bg-yellow-400/10 p-1 text-yellow-400"),children:a.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})}),a.jsx("span",{className:"text-zinc-100",children:"X Signal"})]}),a.jsx(m.iB,{...e.forwardProps,className:"flex-1 rounded-lg",fallback:a.jsx(h.I,{className:"ml-[150px] bg-zinc-900"})})]}),(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[a.jsx("div",{className:(0,o.d)("flex-none rounded-full bg-sky-400/10 p-1 text-sky-400"),children:a.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})}),a.jsx("span",{className:"text-zinc-100",children:"Y Signal"})]}),a.jsx(m.iB,{...r.forwardProps,className:"flex-1 rounded-lg",fallback:a.jsx(h.I,{className:"ml-[150px] bg-zinc-900"})})]}),(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[a.jsx("div",{className:(0,o.d)("flex-none rounded-full bg-rose-400/10 p-1 text-rose-400"),children:a.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})}),a.jsx("span",{className:"text-zinc-100",children:"Z Signal"})]}),a.jsx(m.iB,{...t.forwardProps,className:"flex-1 rounded-lg",fallback:a.jsx(h.I,{className:"ml-[150px] bg-zinc-900"})})]})]}),a.jsx(x.Z,{className:"flex flex-1 overflow-hidden",children:a.jsx(m.iB,{...n.forwardProps,className:"flex-1",fallback:a.jsx(h.I,{className:"ml-[150px] bg-zinc-900"})})})]});var y=t(92515),M=t.n(y),v=t(16779),_=t(65995),S=t(89105),N=t(18835),I=t(67174),A=t(35061),R=t(68579),C=t(23152),k=t(99966),q=t(52680),O=t(55467),P=t(64408),D=t(11294),T=t(39763),Z=t(21138),z=t(42446),E=t(51873),L=t(54670),F=t(58709),B=t(69678),$=t(53264),G=t(81297),Q=t(6663),U=t(70120),X=t(85889);let H=n.forwardRef(({className:e,...r},t)=>(0,a.jsxs)(U.fC,{ref:t,className:(0,X.cn)("relative flex w-full touch-none select-none items-center",e),...r,children:[a.jsx(U.fQ,{className:(0,X.cn)("relative h-1.5 w-full grow rounded-full bg-zinc-400/10","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[0px_-1px_0px_0px_hsl(var(--zinc-400)_/_15%)_inset,_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]"),children:a.jsx(U.e6,{className:(0,X.cn)("absolute h-full rounded-full bg-brand-400/80","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[inset_0px_-1px_0px_0px_hsl(var(--brand-200)_/_20%),_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]")})}),a.jsx(U.bU,{className:(0,X.cn)("block h-4 w-4 rounded-full border border-zinc-700 bg-zinc-700 shadow transition-colors","focus-visible:outline-none focus-visible:ring-0 disabled:pointer-events-none disabled:opacity-50","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.03)]","dark:before:inset-px dark:before:rounded-full","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_hsl(var(--zinc-900)),_0px_1px_0px_0px_hsl(var(--zinc-400)_/_20%)_inset]")})]}));(0,X.h)(H,U.fC.displayName);var Y=t(23135);c.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useOscillator=(e,r=!1)=>{let[t,a]=(0,n.useState)(0),s=(0,n.useRef)(t);s.current=t;let[o,i]=(0,n.useState)("x"),l=(0,n.useRef)(o);l.current=o;let c=(0,n.useRef)(!1),u=(0,n.useRef)(r);u.current=r;let d=(0,n.useCallback)(async()=>{if(s.current<=0)return;let r=500/s.current,t=Math.floor(Math.max(250,500-500%r));c.current=!0;let a="a"===l.current?"1,1":"b"===l.current?"1,-1":l.current,n=new Date().getTime();try{await e`
			OSCILLATE FREQ=${s.current} TIME=${t/1e3} AXIS=${a}
			`;let r=new Date().getTime()-n;c.current=!1,s.current>0&&u.current&&r>t/2?d():setTimeout(()=>{d()},t-r)}catch(e){c.current=!1,(0,N.j)().error(e,"Failed to oscillate"),j.A.error("Failed to oscillate",{description:`
					<div>
						<p>An error occurred while trying to oscillate the printer:</p>
						<pre class="text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap">${e instanceof Error?e.message:e instanceof String?e:"Unknown error"}</pre>
					</div>
				`})}},[e]);return(0,n.useEffect)(()=>{t>0&&!c.current&&r&&d()},[d,t,r]),{frequency:t,setFrequency:a,axis:o,setAxis:i}},V={onError(e,r){(0,N.j)().error("Failed to save macro sequence recording",{error:e,variables:{...r,psd:"removed from log.."}})}},Analysis=()=>{let e=(0,S.useRouter)(),r=(0,d.YC)(),[t,c]=(0,n.useState)(r[0].getYAccelerometerName()),{isChartEnabled:x,setIsChartEnabled:p,chartProps:m,psds:b,currentAccelerometer:f,currentAccelerometerHardwareName:h}=useRealtimeAnalysisChart(t),[g]=v.SX.analysis.getMacros.useSuspenseQuery({limit:10}),{mutateAsync:w}=v.SX.analysis.saveRecording.useMutation(V),[y,U]=(0,n.useState)(!1),[X,K]=(0,n.useState)(!1),J=(0,n.useRef)(null),W=(0,s.k)(),{frequency:ee,setFrequency:er,axis:et,setAxis:ea}=useOscillator(W,x&&!X),en=(0,n.useRef)(new AbortController),es=(0,n.useCallback)((e,...r)=>async()=>{en.current=new AbortController,er(0),K(!0),p(!0);try{await e(en.current.signal,...r)}catch(e){en.current.signal.aborted||e instanceof DOMException&&"AbortError"===e.name?((0,N.j)().info(e,"Macro run aborted"),j.A.info("Macro run aborted",{description:"The macro run was aborted"})):((0,N.j)().error("Macro run failed",e),j.A.error("Macro failed",{description:e instanceof Error?e.message:e instanceof String?e:"An unknown error occurred while running the macro"}))}finally{K(!1),U(!1),p(!1),J.current=null}},[er,p]),eo=(0,n.useMemo)(()=>y?a.jsx(i.jXb,{className:"h-4 w-4 scale-150 text-red-400"}):X?a.jsx(l.$,{noMargin:!0,className:"h-4 w-4 group-data-[state=open]:text-white"}):a.jsx(I.Z,{className:"h-5 w-5 text-white group-data-[state=open]:text-white lg:text-white/60"}),[X,y]),ei=(0,n.useCallback)(r=>es(async t=>{J.current=r;let a=_.Z(),n=[],s=r.sequences.map(e=>async()=>{if(t.aborted)throw new DOMException("Macro run aborted by user","AbortError");let s=new Date().getTime();if(c(e.recording?.accelerometer),e.recording?.capturePSD&&(await b.startAccumulation(),U(!0)),t.aborted)throw await b.stopAccumulation(),U(!1),new DOMException("Macro run aborted by user","AbortError");if(await W`
						${e.gcode}
						M400
					`,e.recording?.capturePSD){let o=await b.stopAccumulation();if(U(!1),t.aborted)throw new DOMException("Macro run aborted by user","AbortError");n.push(w({recording:{id:_.Z(),macroRecordingRunId:a,macroId:r.id,sequenceId:e.id,startTimeStamp:s,endTimeStamp:new Date().getTime(),psd:o,name:e.name,accelerometer:f,recordingHardwareName:h}}))}});if(await s.reduce((e,r)=>e.then(r),Promise.resolve()),t.aborted)throw new DOMException("Macro run aborted by user","AbortError");let o=j.A.loading("Saving recordings...",{description:"Please wait for recordings to be saved."});try{await Promise.all(n),j.A.success("Macro run completed",{id:o,description:`Macro "${r.name}" completed successfully`,action:{label:"View Result",onClick:()=>e.push(`/analysis/macros/${r.id}/recordings/${a}`)}})}catch(e){j.A.error("Macro run failed",{id:o,description:`An error occurred while saving macro result data for "${r.name}"`})}}),[W,w,b,f,h,e,es]);return(0,u.Ty)("analysis",(0,n.useCallback)(e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[a.jsx(e.MenubarIcon,{Icon:A.Z,className:(0,o.d)(x&&"text-brand-400")})," ",a.jsx("span",{className:"hidden lg:inline",children:"Stream"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[a.jsx(e.MenubarContentIcon,{Icon:R.Z})," Accelerometer"]}),a.jsx(e.MenubarSubContent,{children:(0,a.jsxs)(e.MenubarRadioGroup,{value:t,onValueChange:e=>c(e),children:[(0,a.jsxs)(e.MenubarRadioItem,{value:"rpi",className:(0,o.d)("x"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:C.Z}),"Host"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"controlboard",className:(0,o.d)("y"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:k.Z}),"Control Board"]}),r[0].hasToolboard()&&(0,a.jsxs)(e.MenubarRadioItem,{value:"toolboard_t0",className:(0,o.d)("a"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:q.Z}),"Toolboard T0"]}),r.length>1&&r[1].hasToolboard()&&(0,a.jsxs)(e.MenubarRadioItem,{value:"toolboard_t1",className:(0,o.d)("b"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:q.Z}),"Toolboard T1"]})]})})]}),a.jsx(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarItem,{disabled:x||X,onClick:async()=>{p(!0)},children:[a.jsx(e.MenubarContentIcon,{Icon:O.Z})," Start"]}),(0,a.jsxs)(e.MenubarItem,{disabled:!x||X,onClick:async()=>{p(!1)},children:[a.jsx(e.MenubarContentIcon,{Icon:P.Z})," Stop"]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[a.jsx(e.MenubarIcon,{Icon:D.Z})," ",a.jsx("span",{className:"hidden lg:inline",children:"Tools"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(e.MenubarItem,{disabled:X,onSelect:es(async()=>{await W`MAYBE_HOME`}),children:[a.jsx(e.MenubarContentIcon,{Icon:T.Z}),"Home Printer"]}),a.jsx(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[a.jsx(e.MenubarContentIcon,{Icon:Z.Z})," Oscillator"]}),(0,a.jsxs)(e.MenubarSubContent,{children:[(0,a.jsxs)(e.MenubarRadioGroup,{value:et,onValueChange:e=>ea(e),children:[(0,a.jsxs)(e.MenubarRadioItem,{value:"x",className:(0,o.d)("x"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:z.Z})," Oscillate in X"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"y",className:(0,o.d)("y"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:E.Z})," Oscillate in Y"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"a",className:(0,o.d)("a"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:L.Z})," Oscillate in A"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"b",className:(0,o.d)("b"===et&&ee>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[a.jsx(e.MenubarContentIcon,{Icon:F.Z})," Oscillate in B"]})]}),a.jsx(e.MenubarSeparator,{}),(0,a.jsxs)("div",{className:"min-w-48 p-4",children:[(0,a.jsxs)("h3",{className:"-mt-2 text-center text-2xl font-medium tracking-tight",children:[a.jsx(Y.I,{type:"number",size:1,max:200,min:0,onKeyUp:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),className:"m-0 inline min-w-0 border-none bg-transparent p-0 text-right font-mono text-3xl font-medium tracking-tight",value:ee.toFixed(1),style:{width:ee.toFixed(1).length+"rem"},onChange:e=>er(parseFloat(e.target.value))}),"Hz"]}),a.jsx(H,{min:0,className:"mt-4",max:200,value:[ee],onValueChange:e=>er(e[0]),step:.1})]})]})]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[eo," ",a.jsx("span",{className:"hidden lg:inline",children:"Macros"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[g.result?.map(r=>a.jsxs(e.MenubarItem,{disabled:X,onSelect:ei(r),className:o.d(J.current?.id===r.id&&"text-brand-400 opacity-100"),children:[J.current?.id===r.id?eo:a.jsx(e.MenubarContentIcon,{Icon:O.Z}),r.name]},r.id)),a.jsx(e.MenubarSeparator,{}),a.jsx(e.MenubarItem,{disabled:X,asChild:!0,className:"pr-8",children:(0,a.jsxs)(M(),{href:"/analysis/macros",children:[a.jsx(e.MenubarContentIcon,{Icon:B.Z})," View All Macros",a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($.Z,{className:"h-4 w-4"})})]})}),a.jsx(e.MenubarItem,{disabled:X,asChild:!0,className:"pr-8",children:(0,a.jsxs)(M(),{href:"/analysis/macros/new",children:[a.jsx(e.MenubarContentIcon,{Icon:G.Z})," New Macro",a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($.Z,{className:"h-4 w-4"})})]})}),a.jsx(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarItem,{disabled:!X,onClick:()=>en.current.abort(),children:[a.jsx(e.MenubarContentIcon,{Icon:Q.Z,className:(0,o.d)(X&&"text-red-400")}),"Abort ",J.current?.name||""]})]})]})]}),[x,t,et,ee,r,X,es,eo,g.result,p,W,ea,er,ei])),a.jsx(RealtimeAnalysisChart,{...m})}},23135:(e,r,t)=>{"use strict";t.d(r,{I:()=>o});var a=t(28793),n=t(3966),s=t(85889);let o=n.forwardRef(({className:e,type:r,...t},n)=>a.jsx("input",{type:r,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground","focus:border-brand-400/70 focus:outline-none focus:ring-1 focus:ring-transparent disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));(0,s.h)(o,"Input")},88754:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Page,metadata:()=>d});var a=t(86700);t(93215);var n=t(23646);let s=(0,n.createProxy)(String.raw`/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/analysis.tsx`),{__esModule:o,$$typeof:i}=s;s.default;let l=s.Analysis;var c=t(64702),u=t(50131);let d={title:"Resonance Analysis",description:"Real time accelerometer data"};function Page(){return a.jsx(c.r,{fallback:a.jsx(u.default,{}),children:a.jsx("div",{className:"h-full p-4 @container",children:a.jsx(l,{})})})}}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[523,9639,6760,3e3,5995,3800,5796,4854,8425,6262,901,3762,2505],()=>__webpack_exec__(88020));module.exports=t})();