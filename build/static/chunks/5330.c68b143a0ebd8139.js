!function(){var e,t,r,a,n,i,u,s,c={4112:function(){},23062:function(){},60840:function(e,t,r){"use strict";var a=r(23377),n=r(93660),i=r(8526),u=r(7158),s=r(14444),c=r(31533),o=r(64772),l=r(48804),_=r(77446),p=r(71708),f=r(58905),b=r(62434),h=r(55044),g=r(20295),d=r(68131),w=r(53692),m=r(48308),y=r(8873),k=r(24189),S=r(82783);r(83675);var q=r(68995);let detrendSignal=e=>(0,S.lub)(()=>(0,S.luU)(e,(0,S.J69)(e,0,!0))),getFFTSize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return 1<<Math.floor(e*t-1).toString(2).length};async function powerSpectralDensity(e,t,r){let{fftSize:a,_scaling:n}=Object.assign({fftSize:getFFTSize(t,.5),_scaling:"psd"},r);if("psd"!=n&&"none"!=n)throw Error("Unknown scaling");let i="none"===n?1:2,u=S.tdS.hannWindow(a),s=await (0,S.lub)(()=>(0,S.hiC)((0,S.hiC)(1,(0,S.Smz)((0,S.sQ3)(u,2))),t)).array(),c=(null==r?void 0:r.isDetrended)?e:detrendSignal(e),o=S.tdS.stft(c,a,Math.floor(a/2),a,S.tdS.hannWindow),l=await o.array();o.dispose(),c.dispose(),u.dispose();let _=l.map(e=>{let r=[],u=[],c=0,o=0,l=t/a;for(var _=0;_<e.length-1;_+=2){let t=(0===_?0:_/2)*l;if(t>200)continue;let a=(_+2)/2*l,p=e[_]**2+e[_+1]**2;p*=s,"psd"==n&&_>0&&a<200&&(p*=i),p>c&&(c=p),p<o&&(o=p),r.push(p),u.push(t)}return{estimates:r,frequencies:u,powerRange:new q.NumberRange(o,c)}}),p=welch(_);return p}let WelchError=class WelchError extends Error{constructor(e){super(e),this.name="WelchError"}};let welch=async e=>{if(0==e.length)throw new WelchError("Unable to calculate any PSD estimates");let t=e[0].estimates.length,r=new Float64Array(t).fill(0);for(let a=0;a<e.length;a++)for(let n=0;n<t;n++)r[n]+=e[a].estimates[n];let a=0,n=0;for(let i=0;i<t;i++)r[i]=r[i]/e.length,r[i]>a&&(a=r[i]),r[i]<n&&(n=r[i]);return{estimates:r,frequencies:Float64Array.from(e[0].frequencies),powerRange:new q.NumberRange(n,a)}},sumPSDs=e=>{let t=e[0].estimates.length,r=new Float64Array(t).fill(0);for(let a=0;a<e.length;a++)for(let n=0;n<t;n++)r[n]+=e[a].estimates[n];let{minPower:a,maxPower:n}=e.reduce((e,t)=>(t.powerRange.min<e.minPower&&(e.minPower=t.powerRange.min),t.powerRange.max>e.maxPower&&(e.maxPower=t.powerRange.max),e),{minPower:0,maxPower:0});return{estimates:r,frequencies:Float64Array.from(e[0].frequencies),powerRange:new q.NumberRange(a,n)}};var v=r(73875),P=r(10158),j=r(89727);let bufferFifo=e=>(0,j.z)((0,s.R)((t,r)=>{let a=[...t,r].slice(-e);return a},[]),(0,c.h)(t=>t.length>=e));var x=r(74958),T=r.n(x);let O={timestamp:!0,level:"info"};var z=r(67763),R=r(61863);function getBaseUrl(){return"/configure"}r(28070),(0,R.t)({config:()=>({links:[(0,z.N8)({url:"".concat(getBaseUrl(),"/api/trpc"),maxURLLength:2083})]}),overrides:{useMutation:{async onSuccess(e){await e.originalFn(),await e.queryClient.invalidateQueries()}}},ssr:!1});let C=(0,z.K5)({links:[(0,z.N8)({url:"".concat(getBaseUrl(),"/api/trpc"),maxURLLength:2083})]});var D=r(94594);let E=D.z.enum(["trace","debug","info","warn","error","fatal"]),F=D.z.object({ts:D.z.number(),messages:D.z.array(D.z.any()),bindings:D.z.array(D.z.record(D.z.string(),D.z.any())),level:D.z.object({label:E,value:D.z.number()})}),send=async function(e,t){C.clientLog.mutate({level:e,logEvent:F.parse(t)})},L=null,getLogger=()=>null!=L?L:L=T()({...O,browser:{transmit:{send}}}),U=!1;async function loadTFJS(){if(U)return!0;if("undefined"!=typeof globalThis&&globalThis.navigator&&globalThis.navigator.gpu)try{getLogger().info("Loading webgpu backend"),await r.e(7754).then(r.bind(r,17754)),await (0,S.CQI)("webgpu"),getLogger().info("WebGPU backend loaded")}catch(e){getLogger().error(e,"Failed to load webgpu backend, falling back to webgl"),await Promise.resolve().then(r.bind(r,83675)),await (0,S.CQI)("webgl")}else getLogger().info("WebGPU not available, falling back to WebGL"),await Promise.resolve().then(r.bind(r,83675)),await (0,S.CQI)("webgl");await (0,S.Cd_)(),U=!0}let runPSD=async function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let t=new v.Z(e.length).div(new v.Z(e[e.length-1][0]).minus(e[0][0]).shiftedBy(-3)).decimalPlaces(0,v.Z.ROUND_FLOOR).toNumber(),r=(0,S.lub)(()=>{let t=(0,S.odF)(e.map(e=>[e[1],e[2],e[3]])),[r,a,n]=(0,S.Vl2)(t,3,1),i=(0,S.XLQ)(r,[r.shape[0]]),u=(0,S.XLQ)(a,[a.shape[0]]),s=(0,S.XLQ)(n,[n.shape[0]]);return{x:i,y:u,z:s}});try{let[e,a,n]=await Promise.all([powerSpectralDensity(r.x,t,{isDetrended:!0}),powerSpectralDensity(r.y,t,{isDetrended:!0}),powerSpectralDensity(r.z,t,{isDetrended:!0})]);return Object.values(r).forEach(e=>e.dispose()),{x:e,y:a,z:n,total:sumPSDs([e,a,n])}}catch(e){if(e instanceof WelchError)return null;throw e}},createPSDProcessor=async(e,t,r)=>{let m=new a.x,y=m.asObservable().pipe((0,n.d)({bufferSize:1,refCount:!1}));y.subscribe();let k=!0;return await loadTFJS(),r.pipe((0,i.x)(),(0,u.w)((r,a)=>{if(a)return e.pipe((0,s.R)((e,t)=>(e.push(t),e),[]),(0,c.h)(e=>e.length>3200),(0,o.U)(e=>({samples:e,onAccumulationComplete:a})));if(!a&&r.onAccumulationComplete){let e=r.onAccumulationComplete;runPSD(r.samples,!0).then(t=>{e(t)})}return t.pipe((0,l.w)(t=>e.pipe(bufferFifo(t))),(0,o.U)(e=>({samples:e,onAccumulationComplete:!1})))},{samples:[],onAccumulationComplete:!1}),(0,_.P)(()=>y,{leading:k,trailing:!0}),(0,p.b)(e=>{let{samples:t,onAccumulationComplete:r}=e;return k&&(k=!1),(0,f.x)((0,b.D)(runPSD(t).then(e=>null==e?(m.next({}),h.E):(m.next({}),(0,g.of)(e)))),d.z).pipe((0,w.J)())}))};(0,P.YX)(class{work(e){return e.pipe((0,m.z)(e=>{switch(e.command){case"accumulate":if(!this.isAccumulating&&!0===e.payload)return this.isAccumulating=!0,(0,y.T)((0,g.of)({type:"accumulation_started"}),(0,f.x)((0,b.D)(new Promise((e,t)=>{this.accumulationSubject.next(t=>{if(null==t){e(h.E);return}e((0,g.of)(t))})})).pipe((0,w.J)(),(0,o.U)(e=>({type:"accumulation_finished",psd:e}))),d.z));return this.isAccumulating=!1,this.accumulationSubject.next(!1),h.E;case"sampleInput":if(this.signalPassThroughSubject.next(e.payload),null==this.processor){this.processor=createPSDProcessor(this.signalPassThrough$,this.sampleRatePassThrough$,this.accumulation$);let e=(0,b.D)(this.processor).pipe((0,m.z)(e=>{let t=e.pipe((0,o.U)(e=>({type:"psd",psd:e})),(0,n.d)({bufferSize:1,refCount:!1}));return t}));return(0,k.z)((0,b.D)(this.processor)).then(()=>{setTimeout(()=>{this.accumulationSubject.next(!1)},1e3)}),e}return h.E;case"specSampleRateInput":return this.isAccumulating||this.accumulationSubject.next(!1),this.sampleRatePassThroughSubject.next(e.payload),h.E;default:return h.E}}))}selectTransferables(e){switch(e.type){case"psd":case"accumulation_finished":return[e.psd.x.estimates.buffer,e.psd.x.frequencies.buffer,e.psd.y.estimates.buffer,e.psd.y.frequencies.buffer,e.psd.z.estimates.buffer,e.psd.z.frequencies.buffer,e.psd.total.estimates.buffer,e.psd.total.frequencies.buffer];default:return[]}}constructor(){this.isAccumulating=!1,this.processor=null,this.signalPassThroughSubject=new a.x,this.signalPassThrough$=this.signalPassThroughSubject.asObservable(),this.sampleRatePassThroughSubject=new a.x,this.sampleRatePassThrough$=this.sampleRatePassThroughSubject.asObservable().pipe((0,n.d)({bufferSize:1,refCount:!1})),this.accumulationSubject=new a.x,this.accumulation$=this.accumulationSubject.asObservable().pipe((0,n.d)({bufferSize:1,refCount:!1})),this.signalPassThroughSubject=new a.x,this.signalPassThrough$=this.signalPassThroughSubject.asObservable(),this.sampleRatePassThroughSubject=new a.x,this.sampleRatePassThrough$=this.sampleRatePassThroughSubject.asObservable().pipe((0,n.d)({bufferSize:1,refCount:!1})),this.sampleRatePassThrough$.subscribe(),this.accumulationSubject=new a.x,this.accumulation$=this.accumulationSubject.asObservable().pipe((0,n.d)({bufferSize:1,refCount:!1}))}})}},o={};function __webpack_require__(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}},a=!0;try{c[e].call(r.exports,r,r.exports,__webpack_require__),a=!1}finally{a&&delete o[e]}return r.exports}__webpack_require__.m=c,__webpack_require__.x=function(){var e=__webpack_require__.O(void 0,[364,6986,6639,5744,9300,966,1880,8833,5233],function(){return __webpack_require__(60840)});return __webpack_require__.O(e)},e=[],__webpack_require__.O=function(t,r,a,n){if(r){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[r,a,n];return}for(var u=1/0,i=0;i<e.length;i++){for(var r=e[i][0],a=e[i][1],n=e[i][2],s=!0,c=0;c<r.length;c++)u>=n&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](r[c])})?r.splice(c--,1):(s=!1,n<u&&(u=n));if(s){e.splice(i--,1);var o=a();void 0!==o&&(t=o)}}return t},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,a){if(1&a&&(e=this(e)),8&a||"object"==typeof e&&e&&(4&a&&e.__esModule||16&a&&"function"==typeof e.then))return e;var n=Object.create(null);__webpack_require__.r(n);var i={};t=t||[null,r({}),r([]),r(r)];for(var u=2&a&&e;"object"==typeof u&&!~t.indexOf(u);u=r(u))Object.getOwnPropertyNames(u).forEach(function(t){i[t]=function(){return e[t]}});return i.default=function(){return e},__webpack_require__.d(n,i),n},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce(function(t,r){return __webpack_require__.f[r](e,t),t},[]))},__webpack_require__.u=function(e){return 3692===e?"static/chunks/3692.ffafe43b788f421f.js":7754===e?"static/chunks/7754.a1decb8ef56ba7aa.js":5744===e?"static/chunks/3c0d6de1.ff9795f876c0ff96.js":9300===e?"static/chunks/de4cc4ef.0767e38f5ce3ecce.js":5233===e?"static/chunks/5233.93747fa32306c227.js":"static/chunks/"+(({364:"3e8a0735",6639:"a926f453",6986:"0efacefc",9321:"fa86fe2e"})[e]||e)+"-"+({364:"ff241942f5aa2446",966:"bbd3d7023d7429a5",1880:"e37041295ac7e434",6639:"b3170b112785abbc",6986:"15aa0f67458d661e",8833:"3bb230dff7eee463",9321:"e962572a02b89204"})[e]+".js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.tt=function(){return void 0===a&&(a={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(a=trustedTypes.createPolicy("nextjs#bundler",a))),a},__webpack_require__.tu=function(e){return __webpack_require__.tt().createScriptURL(e)},__webpack_require__.p="/configure/_next/",n={5330:1},__webpack_require__.f.i=function(e,t){n[e]||importScripts(__webpack_require__.tu(__webpack_require__.p+__webpack_require__.u(e)))},u=(i=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(i),i.push=function(e){var t=e[0],r=e[1],a=e[2];for(var i in r)__webpack_require__.o(r,i)&&(__webpack_require__.m[i]=r[i]);for(a&&a(__webpack_require__);t.length;)n[t.pop()]=1;u(e)},s=__webpack_require__.x,__webpack_require__.x=function(){return Promise.all([364,6986,6639,5744,9300,966,1880,8833,5233].map(__webpack_require__.e,__webpack_require__)).then(s)},_N_E=__webpack_require__.x()}();
//# sourceMappingURL=5330.c68b143a0ebd8139.js.map