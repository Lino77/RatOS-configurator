{"version":3,"file":"static/chunks/app/template-27b0df3de32aaa09.js","mappings":"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","sources":["webpack://_N_E/ignored|/home/runner/work/RatOS-configurator/RatOS-configurator/src/node_modules/.pnpm/pump@3.0.0/node_modules/pump|fs","webpack://_N_E/?bcd1","webpack://_N_E/./helpers/logger.ts","webpack://_N_E/./zods/util.tsx","webpack://_N_E/./app/_helpers/logger.ts","webpack://_N_E/./app/_hooks/navigation.ts","webpack://_N_E/./components/common/patterns.tsx","webpack://_N_E/./app/sidebar-nav.tsx","webpack://_N_E/./components/ui/tooltip.tsx","webpack://_N_E/./components/ui/sonner.tsx","webpack://_N_E/./app/template.tsx","webpack://_N_E/./components/sync-with-moonraker.tsx","webpack://_N_E/./helpers/trpc.ts","webpack://_N_E/./helpers/utils.ts","webpack://_N_E/<anon>"],"sourcesContent":["/* (ignored) */","import(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/template.tsx\")","import { LoggerOptions } from 'pino';\n\nexport const globalPinoOpts: LoggerOptions = {\n\ttimestamp: true,\n};\n","import { z } from 'zod';\n\nexport const PinoLogLevel = z.enum(['trace', 'debug', 'info', 'warn', 'error', 'fatal']);\n\nexport const PinoLogEvent = z.object({\n\tts: z.number(),\n\tmessages: z.array(z.any()),\n\tbindings: z.array(z.record(z.string(), z.any())),\n\tlevel: z.object({\n\t\tlabel: PinoLogLevel,\n\t\tvalue: z.number(),\n\t}),\n});\n","import pino from 'pino';\nimport { globalPinoOpts } from '@/helpers/logger';\nimport { trpcClient } from '@/helpers/trpc';\nimport { PinoLogEvent } from '@/zods/util';\nimport { write } from 'pino-pretty-browser';\n\nconst send = async function (level: pino.Level, logEvent: pino.LogEvent) {\n\ttrpcClient.clientLog.mutate({ level, logEvent: PinoLogEvent.parse(logEvent) });\n};\n\nlet logger: pino.Logger | null = null;\nexport const getLogger = () => {\n\tif (logger != null) {\n\t\treturn logger;\n\t}\n\tlogger = pino({\n\t\t...globalPinoOpts,\n\t\tbrowser: {\n\t\t\tasObject: true,\n\t\t\tserialize: true,\n\t\t\ttransmit: {\n\t\t\t\tsend,\n\t\t\t},\n\t\t\twrite: write,\n\t\t},\n\t});\n\treturn logger;\n};\n","'use client';\nimport { usePathname, useRouter } from 'next/navigation';\nimport React, { useCallback } from 'react';\nimport type { Route } from 'next';\nimport { AreaChart, LucideProps, Monitor, Video, Wand, Wand2 } from 'lucide-react';\n\nexport const useLocalPathname = () => {\n\tconst pathname = (usePathname() ?? '/').replace('/configure', '') as Route;\n\treturn pathname;\n};\n\nexport const useIsRouteActive = () => {\n\tconst pathname = useLocalPathname();\n\treturn useCallback(\n\t\t(href: string) => {\n\t\t\treturn pathname.startsWith(href);\n\t\t},\n\t\t[pathname],\n\t);\n};\n\nexport type NavigationItem = {\n\tname: string;\n\thref: Route;\n\tcurrent: boolean;\n\ticon: React.ComponentType<any>;\n\ticonClass?: string;\n};\n\nconst routes: NavigationItem[] = [\n\t{ name: 'Setup Wizard', href: '/wizard', current: false, icon: Wand2 },\n\t{ name: 'Dashboard', href: '/', current: false, icon: Monitor },\n\t{ name: 'Visual Calibration', href: '/calibration', current: false, icon: Video },\n\t{ name: 'Resonance Analysis', href: '/analysis', current: false, icon: AreaChart },\n\t// { name: 'Boards', href: '/', current: false, icon: Cpu },\n\t// { name: 'Motion', href: '/motion', current: false, icon: ArrowsPointingOutIcon, iconClass: 'rotate-45' },\n\t// { name: 'Toolhead', href: '/toolhead', current: false, icon: ArrowDownOnSquareIcon },\n];\n\nexport const useNavigation = () => {\n\tconst isRouteActive = useIsRouteActive();\n\tlet prevActive: number | null = null;\n\tconst result: typeof routes = [];\n\troutes.forEach((n, i) => {\n\t\tn.current = isRouteActive(n.href);\n\t\tif (n.current) {\n\t\t\tif (prevActive !== null && result[prevActive]?.href.length < n.href.length) {\n\t\t\t\tresult[prevActive].current = false;\n\t\t\t\tprevActive = i;\n\t\t\t} else if (prevActive !== null) {\n\t\t\t\tn.current = false;\n\t\t\t} else {\n\t\t\t\tprevActive = i;\n\t\t\t}\n\t\t}\n\t\tresult.push(n);\n\t});\n\treturn result;\n};\n\ninterface RedirecterProps extends React.PropsWithChildren {\n\thasLastPrinterSettings: boolean;\n}\n\nexport const Redirecter: React.FC<RedirecterProps> = (props) => {\n\tconst router = useRouter();\n\tconst isRouteActive = useIsRouteActive();\n\tif (!props.hasLastPrinterSettings && !isRouteActive('/wizard')) {\n\t\trouter.replace('/wizard');\n\t} else {\n\t\treturn props.children;\n\t}\n};\n","import { useId } from 'react';\nimport { BackgroundBeams } from '@/components/common/background-beams';\n\nexport function HeroPattern() {\n\treturn (\n\t\t<div className=\"absolute inset-0 -z-10 mx-auto max-w-7xl overflow-hidden lg:left-72\">\n\t\t\t<div className=\"absolute left-1/2 top-0 -ml-[50%] h-[25rem] w-full bg-background dark:[mask-image:linear-gradient(white,transparent)]\">\n\t\t\t\t<div className=\"absolute inset-0 bg-gradient-to-r from-brand-400/60 to-lime-400/15 [mask-image:radial-gradient(farthest-side_at_top,white,transparent)]\"></div>\n\t\t\t\t{/* <div className=\"absolute inset-0 [mask-image:radial-gradient(farthest-side_at_top,white_60%,transparent)]\">\n\t\t\t\t\t<BackgroundBeams />\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"relative flex h-full w-full items-center justify-center bg-grid-small-black/[0.2] [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] dark:bg-grid-small-brand-400/[0.3]\">\n\t\t\t\t\t{/* Radial gradient for the container to give a faded look */}\n\t\t\t\t\t<div className=\"pointer-events-none absolute inset-0 flex items-center justify-center [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { ArrowLeftOnRectangleIcon } from '@heroicons/react/24/outline';\nimport Link from 'next/link';\nimport { twMerge, twJoin } from 'tailwind-merge';\nimport { NavigationItem, useNavigation } from '@/app/_hooks/navigation';\nimport { ArrowTopRightOnSquareIcon, ArrowDownTrayIcon } from '@heroicons/react/20/solid';\n\nconst mainsail = '/';\nconst externalNav = [\n\t{ name: 'Debug Zip', href: '/configure/api/debug-zip', icon: ArrowDownTrayIcon },\n\t{ name: 'Donate', href: 'https://github.com/sponsors/miklschmidt', icon: ArrowTopRightOnSquareIcon },\n\t{ name: 'Documentation', href: 'https://os.ratrig.com/docs/introduction', icon: ArrowTopRightOnSquareIcon },\n\t{ name: 'Blog', href: 'https://os.ratrig.com/blog', icon: ArrowTopRightOnSquareIcon },\n];\n\nexport const SidebarNav = () => {\n\tconst navigation = useNavigation();\n\treturn (\n\t\t<nav className=\"flex flex-1 flex-col\">\n\t\t\t<ul role=\"list\" className=\"flex flex-1 flex-col gap-y-7\">\n\t\t\t\t<li>\n\t\t\t\t\t<ul role=\"list\" className=\"-mx-2 space-y-1\">\n\t\t\t\t\t\t{navigation.map((item) => (\n\t\t\t\t\t\t\t<li key={item.name}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\tclassName={twMerge(\n\t\t\t\t\t\t\t\t\t\titem.current ? 'bg-zinc-800 text-white' : 'text-zinc-400 hover:bg-zinc-800 hover:text-white',\n\t\t\t\t\t\t\t\t\t\t'group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<item.icon className={twJoin('h-6 w-6 shrink-0', item.iconClass)} aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<div className=\"text-xs font-semibold leading-6 text-zinc-400\">External Links</div>\n\t\t\t\t\t<ul role=\"list\" className=\"-mx-2 mt-2 space-y-1\">\n\t\t\t\t\t\t{externalNav.map((extNav) => (\n\t\t\t\t\t\t\t<li key={extNav.name}>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={extNav.href}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\t\t'text-zinc-400 hover:bg-zinc-800 hover:text-white',\n\t\t\t\t\t\t\t\t\t\t'group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border border-zinc-700 bg-zinc-800 text-[0.625rem] font-medium text-zinc-400 group-hover:text-white\">\n\t\t\t\t\t\t\t\t\t\t<extNav.icon className=\"h-4 w-4\" aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"truncate\">{extNav.name}</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"mt-auto\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={mainsail}\n\t\t\t\t\t\tclassName=\"group -mx-2 flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-zinc-400 hover:bg-zinc-800 hover:text-white\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowLeftOnRectangleIcon className=\"h-6 w-6 shrink-0\" aria-hidden=\"true\" />\n\t\t\t\t\t\tMainsail\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};\n","'use client';\n\nimport * as React from 'react';\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\n\nimport { cn, setDisplayName } from '@/helpers/utils';\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n\tReact.ElementRef<typeof TooltipPrimitive.Content>,\n\tReact.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n\t<TooltipPrimitive.Content\n\t\tref={ref}\n\t\tsideOffset={sideOffset}\n\t\tclassName={cn(\n\t\t\t'z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nsetDisplayName(TooltipContent, TooltipPrimitive.Content.displayName);\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","'use client';\n\nimport { Toaster as Sonner } from 'sonner';\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n\treturn (\n\t\t<Sonner\n\t\t\ttheme=\"dark\"\n\t\t\tclassName=\"toaster group\"\n\t\t\ttoastOptions={{\n\t\t\t\tclassNames: {\n\t\t\t\t\ttoast: 'group toast group-[.toaster]:border-border group-[.toaster]:shadow-lg items-start',\n\t\t\t\t\tdescription: 'group-[.toast]:text-muted-foreground',\n\t\t\t\t\tactionButton: 'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',\n\t\t\t\t\tcancelButton: 'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',\n\t\t\t\t\t// error: 'group-[.toaster]:bg-red-400/10 group-[.toaster]:text-red-400',\n\t\t\t\t\t// success:\n\t\t\t\t\t// \t'group-[.toaster]:bg-brand-400/10 group-[.toaster]:text-brand-400 group-[.toaster]:border-brand-400/30',\n\t\t\t\t\t// warning: 'group-[.toaster]:bg-yellow-400/10 group-[.toaster]:text-yellow-400',\n\t\t\t\t\t// info: 'group-[.toaster]:bg-sky-400/10 group-[.toaster]:text-sky-400',\n\t\t\t\t\ticon: 'mt-0.5',\n\t\t\t\t},\n\t\t\t}}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nexport { Toaster };\n","'use client';\n\nimport { useState, Fragment } from 'react';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { twJoin, twMerge } from 'tailwind-merge';\nimport logoWhite from '@/public/logo-white.svg';\nimport Image from 'next/image';\nimport { trpc } from '@/utils/trpc';\nimport { RecoilRoot } from 'recoil';\nimport { SyncWithMoonraker } from '@/components/sync-with-moonraker';\nimport { QueryClientProvider, QueryClient } from '@tanstack/react-query';\nimport { HeroPattern } from '@/components/common/patterns';\nimport { SidebarNav } from '@/app/sidebar-nav';\nimport { motion } from 'framer-motion';\nimport { Button } from '@/components/common/button';\nimport { MenuBarProvider, TopMenu, useMenuBarProvider } from '@/app/topmenu';\nimport { TooltipProvider } from '@/components/ui/tooltip';\nimport { Toaster } from '@/components/ui/sonner';\n\nconst getCurrentTheme = () => {\n\tif (typeof window !== 'undefined') {\n\t\tif (window.localStorage.theme === 'light') {\n\t\t\treturn 'light' as const;\n\t\t}\n\t}\n\treturn 'dark' as const;\n};\n// Create a client\nconst queryClient = new QueryClient();\n\nfunction Template({ children }: { children: React.ReactNode }) {\n\t// const [theme, setTheme] = useState<'dark' | 'light' | null>(null);\n\tconst [sidebarOpen, setSidebarOpen] = useState(false);\n\tconst menu = useMenuBarProvider();\n\n\t// const onThemeChange = () => {\n\t// \tif (getCurrentTheme() === 'dark') {\n\t// \t\tdocument.documentElement.classList.add('dark', 'scrollbar-thumb-zinc-600');\n\t// \t} else {\n\t// \t\tdocument.documentElement.classList.remove('dark', 'scrollbar-thumb-zinc-400');\n\t// \t}\n\t// };\n\n\t// useEffect(() => {\n\t// \tsetTheme(getCurrentTheme());\n\t// }, []);\n\n\t// useEffect(() => {\n\t// \tonThemeChange();\n\t// }, [theme]);\n\n\t// const setDarkMode = () => {\n\t// \twindow.localStorage.theme = 'dark';\n\t// \tsetTheme('dark');\n\t// };\n\n\t// const setLightMode = () => {\n\t// \twindow.localStorage.theme = 'light';\n\t// \tsetTheme('light');\n\t// };\n\n\t// const setOSDefault = () => {\n\t// \twindow.localStorage.removeItem('theme');\n\t// };\n\n\treturn (\n\t\t<QueryClientProvider client={queryClient}>\n\t\t\t<RecoilRoot>\n\t\t\t\t<SyncWithMoonraker>\n\t\t\t\t\t<TooltipProvider>\n\t\t\t\t\t\t<MenuBarProvider {...menu.providerProps}>\n\t\t\t\t\t\t\t<div className=\"relative flex min-h-full\">\n\t\t\t\t\t\t\t\t<div className=\"ml-0 min-h-full flex-1 pt-14 transition-all lg:ml-72\">\n\t\t\t\t\t\t\t\t\t<HeroPattern />\n\t\t\t\t\t\t\t\t\t{/* page content */}\n\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Transition.Root show={sidebarOpen} as={Fragment}>\n\t\t\t\t\t\t\t\t\t<Dialog as=\"div\" className=\"relative z-40 lg:hidden\" onClose={setSidebarOpen}>\n\t\t\t\t\t\t\t\t\t\t<Transition.Child\n\t\t\t\t\t\t\t\t\t\t\tas={Fragment}\n\t\t\t\t\t\t\t\t\t\t\tenter=\"transition-opacity ease-linear duration-300\"\n\t\t\t\t\t\t\t\t\t\t\tenterFrom=\"opacity-0\"\n\t\t\t\t\t\t\t\t\t\t\tenterTo=\"opacity-100\"\n\t\t\t\t\t\t\t\t\t\t\tleave=\"transition-opacity ease-linear duration-300\"\n\t\t\t\t\t\t\t\t\t\t\tleaveFrom=\"opacity-100\"\n\t\t\t\t\t\t\t\t\t\t\tleaveTo=\"opacity-0\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fixed inset-0 bg-background/80\" />\n\t\t\t\t\t\t\t\t\t\t</Transition.Child>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"fixed inset-0 flex\">\n\t\t\t\t\t\t\t\t\t\t\t<Transition.Child\n\t\t\t\t\t\t\t\t\t\t\t\tas={Fragment}\n\t\t\t\t\t\t\t\t\t\t\t\tenter=\"transition ease-in-out duration-300 transform\"\n\t\t\t\t\t\t\t\t\t\t\t\tenterFrom=\"-translate-x-full\"\n\t\t\t\t\t\t\t\t\t\t\t\tenterTo=\"translate-x-0\"\n\t\t\t\t\t\t\t\t\t\t\t\tleave=\"transition ease-in-out duration-300 transform\"\n\t\t\t\t\t\t\t\t\t\t\t\tleaveFrom=\"translate-x-0\"\n\t\t\t\t\t\t\t\t\t\t\t\tleaveTo=\"-translate-x-full\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dialog.Panel className=\"relative mr-16 flex w-full max-w-xs flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* mobile Sidebar */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex grow flex-col gap-y-5 overflow-y-auto border-r border-zinc-900 bg-background px-6 pb-4 dark:border-white/10\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-16 shrink-0 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image width={160} height={40} className=\"h-8 w-auto\" src={logoWhite} alt=\"Workflow\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SidebarNav />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</Dialog.Panel>\n\t\t\t\t\t\t\t\t\t\t\t</Transition.Child>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t\t\t\t</Transition.Root>\n\n\t\t\t\t\t\t\t\t{/* Static sidebar for desktop */}\n\t\t\t\t\t\t\t\t<div className=\"pointer-events-none fixed inset-y-0 z-40 flex w-72 flex-col opacity-0 transition-all lg:pointer-events-auto lg:opacity-100\">\n\t\t\t\t\t\t\t\t\t{/* Sidebar */}\n\t\t\t\t\t\t\t\t\t<div className=\"flex grow flex-col gap-y-5 overflow-y-auto border-r border-zinc-900/10 bg-background/80 px-6 pb-4 dark:border-white/10 dark:bg-background\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative -top-1 flex h-16 shrink-0 items-center transition-all lg:top-0\">\n\t\t\t\t\t\t\t\t\t\t\t<Image width={160} height={40} className=\"h-8 w-auto\" src={logoWhite} alt=\"Workflow\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<SidebarNav />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* Top menu */}\n\t\t\t\t\t\t\t\t<TopMenu setSidebarOpen={setSidebarOpen} sidebarOpen={sidebarOpen} {...menu.topMenuProps} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Toaster />\n\t\t\t\t\t\t</MenuBarProvider>\n\t\t\t\t\t</TooltipProvider>\n\t\t\t\t</SyncWithMoonraker>\n\t\t\t</RecoilRoot>\n\t\t</QueryClientProvider>\n\t);\n}\n\nexport default trpc.withTRPC(Template);\n","'use client';\n\nimport React, { useCallback, useEffect } from 'react';\nimport { useMoonraker } from '@/moonraker/hooks';\nimport { ReadItem, RecoilSync } from 'recoil-sync';\nimport { AtomEffect, DefaultValue } from 'recoil';\nimport { getLogger } from '@/app/_helpers/logger';\n\nconst moonrakerSyncEventEmitter = new EventTarget();\n\nexport const DispatchSaveAtomEvent = (itemKey: string, value: unknown) => {\n\tmoonrakerSyncEventEmitter.dispatchEvent(\n\t\tnew CustomEvent('saveAtom', {\n\t\t\tdetail: {\n\t\t\t\titemKey,\n\t\t\t\tvalue,\n\t\t\t},\n\t\t}) satisfies SaveAtomEvent,\n\t);\n};\n\nexport const moonrakerWriteEffect = <T extends any = unknown>(): AtomEffect<T> => {\n\treturn (params) => {\n\t\tparams.onSet((newValue) => {\n\t\t\tgetLogger().debug(\n\t\t\t\t{\n\t\t\t\t\tkey: params.node.key,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t},\n\t\t\t\t`RatOS Atom Sync Effect: new value was saved to moonraker \"${params.trigger}\"`,\n\t\t\t);\n\t\t\tDispatchSaveAtomEvent(params.node.key, newValue == null ? 'null' : newValue); // Moonraker doesn't save null values..\n\t\t});\n\t};\n};\n\ntype SaveAtomEvent = CustomEvent<{ itemKey: string; value: unknown }>;\n\nexport const SyncWithMoonraker: React.FC<React.PropsWithChildren> = ({ children }) => {\n\tconst moonraker = useMoonraker();\n\tconst read: ReadItem = useCallback(\n\t\tasync (itemKey) => {\n\t\t\tconst value = await moonraker.getItem('RatOS', itemKey as '__recoil');\n\t\t\treturn value != null && value != 'null' ? value : new DefaultValue();\n\t\t},\n\t\t[moonraker],\n\t);\n\n\tconst saveAtom = useCallback(\n\t\tasync (event: Event) => {\n\t\t\tconst { itemKey, value } = (event as SaveAtomEvent).detail;\n\t\t\tawait moonraker.saveItem('RatOS', itemKey as '__recoil', value);\n\t\t},\n\t\t[moonraker],\n\t);\n\n\tuseEffect(() => {\n\t\tmoonrakerSyncEventEmitter.addEventListener('saveAtom', saveAtom);\n\t\treturn () => {\n\t\t\tmoonrakerSyncEventEmitter.removeEventListener('saveAtom', saveAtom);\n\t\t};\n\t}, [saveAtom]);\n\treturn <RecoilSync read={read}>{children}</RecoilSync>;\n};\n","import { proxyClient, trpc } from '@/utils/trpc';\nexport { trpc, proxyClient as trpcClient };\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n\treturn twMerge(clsx(inputs));\n}\n\nexport function setDisplayName(Component: React.ComponentType<any>, name: string | undefined) {\n\t(Component as any).displayName = name;\n}\n"],"names":["Promise","resolve","then","__webpack_require__","bind","globalPinoOpts","timestamp","PinoLogLevel","z","enum","PinoLogEvent","object","ts","number","messages","array","any","bindings","record","string","level","label","value","send","logEvent","trpcClient","clientLog","mutate","parse","logger","getLogger","pino","browser","asObject","serialize","transmit","write","useLocalPathname","usePathname","pathname","replace","useIsRouteActive","useCallback","startsWith","href","routes","name","current","icon","Wand2","Monitor","Video","AreaChart","useNavigation","isRouteActive","prevActive","result","forEach","n","i","length","push","Redirecter","router","useRouter","hasLastPrinterSettings","props","children","HeroPattern","jsx_runtime","jsx","div","className","jsxs","externalNav","ArrowDownTrayIcon","ArrowTopRightOnSquareIcon","SidebarNav","navigation","nav","ul","role","li","map","Link","item","twMerge","twJoin","iconClass","aria-hidden","a","extNav","target","span","ArrowLeftOnRectangleIcon","TooltipProvider","TooltipPrimitive","TooltipContent","React","param","ref","sideOffset","cn","setDisplayName","displayName","Toaster","Sonner","theme","toastOptions","classNames","toast","description","actionButton","cancelButton","queryClient","QueryClient","template","trpc","withTRPC","sidebarOpen","setSidebarOpen","useState","menu","useMenuBarProvider","QueryClientProvider","client","RecoilRoot","SyncWithMoonraker","MenuBarProvider","providerProps","Transition","Root","show","as","Fragment","Dialog","onClose","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","Image","width","height","src","logoWhite","alt","TopMenu","topMenuProps","moonrakerSyncEventEmitter","EventTarget","DispatchSaveAtomEvent","itemKey","dispatchEvent","CustomEvent","detail","moonrakerWriteEffect","params","onSet","debug","key","node","newValue","concat","trigger","moonraker","useMoonraker","read","getItem","DefaultValue","saveAtom","event","saveItem","useEffect","addEventListener","removeEventListener","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","RecoilSync","_len","arguments","inputs","_key","clsx","Component"],"sourceRoot":""}