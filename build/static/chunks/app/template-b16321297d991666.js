(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[489],{75450:function(e,t,n){let r=n(49738),a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z"}),r.createElement("path",{d:"M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"}))});e.exports=a},61956:function(e,t,n){let r=n(49738),a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),r.createElement("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"}))});e.exports=a},41498:function(e,t,n){let r=n(49738),a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 00-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0112.75 17h-8.5A2.25 2.25 0 012 14.75v-8.5A2.25 2.25 0 014.25 4h5a.75.75 0 010 1.5h-5z",clipRule:"evenodd"}),r.createElement("path",{fillRule:"evenodd",d:"M6.194 12.753a.75.75 0 001.06.053L16.5 4.44v2.81a.75.75 0 001.5 0v-4.5a.75.75 0 00-.75-.75h-4.5a.75.75 0 000 1.5h2.553l-9.056 8.194a.75.75 0 00-.053 1.06z",clipRule:"evenodd"}))});e.exports=a},83077:function(e,t,n){let r=n(49738),a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 5.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))});e.exports=a},48936:function(e,t,n){let r=n(49738),a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z",clipRule:"evenodd"}))});e.exports=a},55064:function(e,t,n){let r=n(49738),a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z"}))});e.exports=a},20819:function(e,t,n){Promise.resolve().then(n.bind(n,38974))},87473:function(e,t,n){"use strict";n.r(t),n.d(t,{Redirecter:function(){return Redirecter},useIsRouteActive:function(){return useIsRouteActive},useLocalPathname:function(){return useLocalPathname},useNavigation:function(){return useNavigation}});var r=n(47348),a=n(68964),l=n(21416),i=n(33760),s=n(49738);let useLocalPathname=()=>{var e;let t=(null!==(e=(0,i.usePathname)())&&void 0!==e?e:"/").replace("/configure","");return t},useIsRouteActive=()=>{let e=useLocalPathname();return(0,s.useCallback)(t=>e===t,[e])},c=[{name:"Setup Wizard",href:"/wizard",current:!1,icon:r},{name:"Dashboard",href:"/",current:!1,icon:a},{name:"Visual Calibration",href:"/calibration",current:!1,icon:l}],useNavigation=()=>{let e=useIsRouteActive();return c.map(t=>(t.current=e(t.href),t))},Redirecter=e=>{let t=(0,i.useRouter)(),n=useIsRouteActive();if(e.hasLastPrinterSettings||n("/wizard"))return e.children;t.replace("/wizard")}},38974:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(26248),a=n(49738),l=n(75450),i=n(41498),s=n(17934),c=n(61956),o=n(83077),d=n(48936),h=n(55064),u=n(14501),m=n(78263),x=n(78723),f=n(87473),g=n(44838),v=n(50962),p={src:"/configure/_next/static/media/logo-white.6051cbc7.svg",height:443,width:1728,blurWidth:0,blurHeight:0},b=n(99407),w=n.n(b),j=n(11590),z=n.n(j),N=n(64918),y=n(55797),k=n(72931),E=n(49039),R=n(92940);let A=[{name:"Debug Zip",href:"/api/debug-zip",icon:l},{name:"Documentation",href:"https://os.ratrig.com/docs/introduction",icon:i},{name:"Blog",href:"https://os.ratrig.com/blog",icon:i},{name:"Donate",href:"https://github.com/sponsors/miklschmidt",icon:i}],getCurrentTheme=()=>"light"===window.localStorage.theme?"light":"dark",C=new E.S;var M=N.SX.withTRPC(function(e){let{children:t}=e,[n,l]=(0,a.useState)(null),[i,b]=(0,a.useState)(!1),j=(0,f.useNavigation)(),onThemeChange=()=>{"dark"===getCurrentTheme()?document.documentElement.classList.add("dark","scrollbar-thumb-zinc-600"):document.documentElement.classList.remove("dark","scrollbar-thumb-zinc-400")};(0,a.useEffect)(()=>{l(getCurrentTheme())},[]),(0,a.useEffect)(()=>{onThemeChange()},[n]);let setDarkMode=()=>{window.localStorage.theme="dark",l("dark")},setLightMode=()=>{window.localStorage.theme="light",l("light")};return(0,r.jsx)(R.aH,{client:C,children:(0,r.jsx)(y.Wh,{children:(0,r.jsx)(k.YG,{children:(0,r.jsxs)("div",{className:"min-h-full",children:[(0,r.jsx)(u.u.Root,{show:i,as:a.Fragment,children:(0,r.jsxs)(m.V,{as:"div",className:"relative z-50 lg:hidden",onClose:b,children:[(0,r.jsx)(u.u.Child,{as:a.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-zinc-900/80"})}),(0,r.jsx)("div",{className:"fixed inset-0 flex",children:(0,r.jsx)(u.u.Child,{as:a.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,r.jsxs)(m.V.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[(0,r.jsx)(u.u.Child,{as:a.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:(0,r.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>b(!1),children:[(0,r.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,r.jsx)(s,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),(0,r.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-zinc-900 px-6 pb-4 ring-1 ring-white/10",children:[(0,r.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,r.jsx)(w(),{width:160,height:40,className:"h-8 w-auto",src:p,alt:"Workflow"})}),(0,r.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,r.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,r.jsx)("li",{children:(0,r.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:j.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(z(),{href:e.href,className:(0,g.m)(e.current?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-800 hover:text-white","group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6"),children:[(0,r.jsx)(e.icon,{className:(0,v.d)("h-6 w-6 shrink-0",e.iconClass),"aria-hidden":"true"}),e.name]})},e.name))})}),(0,r.jsx)("li",{className:"mt-auto",children:(0,r.jsxs)("a",{href:"/",className:"group -mx-2 flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-zinc-400 hover:bg-zinc-800 hover:text-white",children:[(0,r.jsx)(c,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),"Mainsail"]})})]})})]})]})})})]})}),(0,r.jsx)("div",{className:"lg:z-1 hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col",children:(0,r.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-zinc-900 px-6 pb-4",children:[(0,r.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,r.jsx)(w(),{width:160,height:40,className:"h-8 w-auto",src:p,alt:"Workflow"})}),(0,r.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,r.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,r.jsx)("li",{children:(0,r.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:j.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(z(),{href:e.href,className:(0,g.m)(e.current?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-800 hover:text-white","group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6"),children:[(0,r.jsx)(e.icon,{className:(0,v.d)("h-6 w-6 shrink-0",e.iconClass),"aria-hidden":"true"}),e.name]})},e.name))})}),(0,r.jsxs)("li",{children:[(0,r.jsx)("div",{className:"text-xs font-semibold leading-6 text-zinc-400",children:"Other"}),(0,r.jsx)("ul",{role:"list",className:"-mx-2 mt-2 space-y-1",children:A.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:e.href,target:"_blank",className:(0,v.d)("text-zinc-400 hover:bg-zinc-800 hover:text-white","group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6"),children:[(0,r.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border border-zinc-700 bg-zinc-800 text-[0.625rem] font-medium text-zinc-400 group-hover:text-white",children:(0,r.jsx)(e.icon,{className:"h-4 w-4","aria-hidden":"true"})}),(0,r.jsx)("span",{className:"truncate",children:e.name})]})},e.name))})]}),(0,r.jsx)("li",{className:"mt-auto",children:(0,r.jsxs)("a",{href:"/",className:"group -mx-2 flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-zinc-400 hover:bg-zinc-800 hover:text-white",children:[(0,r.jsx)(c,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),"Mainsail"]})})]})})]})}),(0,r.jsx)(x.p,{as:"nav",className:"bg-zinc-900 lg:ml-72",children:e=>{let{open:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mx-auto max-w-7xl sm:px-6",children:(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 sm:px-0",children:[(0,r.jsx)("div",{className:"-mr-2 flex lg:hidden",children:(0,r.jsxs)(x.p.Button,{className:"inline-flex items-center justify-center rounded-md bg-zinc-800 p-2 text-zinc-400 hover:bg-zinc-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-zinc-800",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?(0,r.jsx)(s,{className:"block h-6 w-6","aria-hidden":"true"}):(0,r.jsx)(o,{className:"block h-6 w-6","aria-hidden":"true"})]})}),(0,r.jsx)("div",{className:"hidden lg:flex"}),(0,r.jsxs)("div",{className:"hidden items-center justify-between space-x-2 sm:flex",children:[(0,r.jsx)("a",{href:"https://github.com/sponsors/miklschmidt",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-zinc-300 px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-zinc-400 focus:outline-none",children:"Donate"}),(0,r.jsx)("a",{href:"https://os.ratrig.com/docs/introduction",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-transparent px-4 py-2 text-sm font-medium text-zinc-300 shadow-sm hover:bg-zinc-700 hover:text-white focus:outline-none",children:"Documentation"}),"light"===n?(0,r.jsx)(d,{className:"h-9 w-9 cursor-pointer rounded-md px-2 py-2 text-zinc-300 hover:bg-zinc-700 hover:text-brand-500",onClick:setDarkMode}):(0,r.jsx)(h,{className:"h-9 w-9 cursor-pointer rounded-md px-2 py-2 text-zinc-300 hover:bg-zinc-700 hover:text-brand-500",onClick:setLightMode})]})]})})}),(0,r.jsx)(x.p.Panel,{className:"lg:hidden",children:(0,r.jsxs)("div",{className:"space-y-1 pb-3 pt-2",children:[j.map(e=>(0,r.jsx)(x.p.Button,{as:"a",href:e.href,className:(0,g.m)(e.current?"bg-brand-50 border-brand-500 text-brand-500":"border-transparent text-zinc-300 hover:border-zinc-600 hover:bg-zinc-700 hover:text-zinc-100","block border-l-4 py-2 pl-3 pr-4 text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)),(0,r.jsx)(x.p.Button,{as:"a",href:"https://github.com/sponsors/miklschmidt",className:"block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium text-zinc-300 hover:border-zinc-600 hover:bg-zinc-700 hover:text-zinc-100",children:"Donate"}),(0,r.jsx)(x.p.Button,{as:"a",href:"https://os.ratrig.com/docs/introduction",className:"block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium text-zinc-300 hover:border-zinc-600 hover:bg-zinc-700 hover:text-zinc-100",children:"Documentation"})]})})]})}}),(0,r.jsx)("div",{className:"lg:ml-72",children:t})]})})})})})},72931:function(e,t,n){"use strict";n.d(t,{YG:function(){return SyncWithMoonraker},rR:function(){return moonrakerWriteEffect}});var r=n(26248),a=n(49738),l=n(61352),i=n(83587),s=n(55797);let c=new EventTarget,DispatchSaveAtomEvent=(e,t)=>{c.dispatchEvent(new CustomEvent("saveAtom",{detail:{itemKey:e,value:t}}))},moonrakerWriteEffect=()=>e=>{e.onSet(t=>{console.debug('RatOS Atom Sync Effect: new value was saved to moonraker "'.concat(e.trigger,'"'),e.node.key,t),DispatchSaveAtomEvent(e.node.key,null==t?"null":t)})},SyncWithMoonraker=e=>{let{children:t}=e,n=(0,l.oK)(),o=(0,a.useCallback)(async e=>{let t=await n.getItem("RatOS",e);return null!=t&&"null"!=t?t:new s.nY},[n]),d=(0,a.useCallback)(async e=>{let{itemKey:t,value:r}=e.detail;await n.saveItem("RatOS",t,r)},[n]);return(0,a.useEffect)(()=>(c.addEventListener("saveAtom",d),()=>{c.removeEventListener("saveAtom",d)}),[d]),(0,r.jsx)(i.J1,{read:o,children:t})}},64918:function(e,t,n){"use strict";n.d(t,{SX:function(){return l},uF:function(){return i}});var r=n(67763),a=n(21067);function getBaseUrl(){return"/configure"}n(28070);let l=(0,a.t)({config:()=>({links:[(0,r.N8)({url:"".concat(getBaseUrl(),"/api/trpc"),maxURLLength:2083})]}),ssr:!1}),i=(0,r.K5)({links:[(0,r.N8)({url:"".concat(getBaseUrl(),"/api/trpc"),maxURLLength:2083})]})}},function(e){e.O(0,[565,393,67,838,857,461,955,399,625,744],function(){return e(e.s=20819)}),_N_E=e.O()}]);