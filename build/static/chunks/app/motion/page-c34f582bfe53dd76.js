(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8411],{82578:function(e,t,r){Promise.resolve().then(r.bind(r,33181))},33181:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Page}});var n=r(26248),i=r(49738),s=r(88116),l=r(81503),a=r(3867),o=r(80434),u=r(97370);let Motion=()=>{let[e]=(0,s.u)(),{selectedBoard:t,selectedPrinter:r,performanceMode:i,selectedPrinterRails:c,parsedPrinterConfiguration:d}=(0,o.usePrinterConfiguration)(),f=!1===d.success?d.error.format():null;return null==r?(0,n.jsx)("div",{className:"mx-auto flex items-center justify-center p-8",children:(0,n.jsx)(l.$,{})}):(0,n.jsx)("div",{className:"grid gap-4 py-4 @lg:grid-cols-2 @3xl:grid-cols-3 @6xl:grid-cols-4",ref:e,children:c.map((e,s)=>{var l;let o=null==r?void 0:r.defaults.rails.find(t=>t.axis===e.axis);if(null==o)throw Error("No printer default for axis "+e.axis);return(0,n.jsx)(a.l,{errors:(null==f?void 0:null===(l=f.rails)||void 0===l?void 0:l[s])!=null?f.rails[s]:{_errors:[]},selectedBoard:t,printerRail:e,printerRailDefault:(0,u.Oj)(o),performanceMode:i,isVisible:!0},e.axis)})})};var c=r(17533);let LoadScreen=()=>(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsxs)("div",{className:"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700",children:[(0,n.jsx)("h3",{className:"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100",children:"Loading printer configuration..."}),(0,n.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"Please wait while RatOS loads your printer configuration"})]}),(0,n.jsx)("div",{className:"mt-4 flex h-48 items-center justify-center",children:(0,n.jsx)(l.$,{})})]});function Page(){let e=(0,c.O)();return e?(0,n.jsx)("div",{className:"mx-auto mt-8 grid grid-cols-1 gap-6 @container",children:(0,n.jsx)("div",{className:"relative rounded-lg bg-white shadow dark:bg-zinc-900",children:(0,n.jsx)(i.Suspense,{fallback:(0,n.jsx)(LoadScreen,{}),children:(0,n.jsx)(Motion,{})})})}):null}},87044:function(e,t,r){"use strict";r.d(t,{M:function(){return AnimatePresence}});var n=r(49738),i=r(69129),s=r(14930),l=r(72002),a=r(99371);let PopChildMeasure=class PopChildMeasure extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function PopChild({children:e,isPresent:t}){let r=(0,n.useId)(),i=(0,n.useRef)(null),s=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)(()=>{let{width:e,height:n,top:l,left:a}=s.current;if(t||!i.current||!e||!n)return;i.current.dataset.motionPopId=r;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${l}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),n.createElement(PopChildMeasure,{isPresent:t,childRef:i,sizeRef:s},n.cloneElement(e,{ref:i}))}let PresenceChild=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u})=>{let c=(0,a.h)(newChildrenMap),d=(0,n.useId)(),f=(0,n.useMemo)(()=>({id:d,initial:t,isPresent:r,custom:s,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[r]);return(0,n.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),n.useEffect(()=>{r||c.size||!i||i()},[r]),"popLayout"===u&&(e=n.createElement(PopChild,{isPresent:r},e)),n.createElement(l.O.Provider,{value:f},e)};function newChildrenMap(){return new Map}var o=r(55646),u=r(74048),c=r(52610);let getChildKey=e=>e.key||"",AnimatePresence=({children:e,custom:t,initial:r=!0,onExitComplete:l,exitBeforeEnter:a,presenceAffectsLayout:d=!0,mode:f="sync"})=>{var p;(0,c.k)(!a,"Replace exitBeforeEnter with mode='wait'");let h=(0,n.useContext)(o.p).forceRender||(0,i.N)()[0],m=(0,s.t)(),x=function(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}(e),g=x,C=(0,n.useRef)(new Map).current,v=(0,n.useRef)(g),E=(0,n.useRef)(new Map).current,y=(0,n.useRef)(!0);if((0,u.L)(()=>{y.current=!1,function(e,t){e.forEach(e=>{let r=getChildKey(e);t.set(r,e)})}(x,E),v.current=g}),p=()=>{y.current=!0,E.clear(),C.clear()},(0,n.useEffect)(()=>()=>p(),[]),y.current)return n.createElement(n.Fragment,null,g.map(e=>n.createElement(PresenceChild,{key:getChildKey(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:d,mode:f},e)));g=[...g];let P=v.current.map(getChildKey),w=x.map(getChildKey),j=P.length;for(let e=0;e<j;e++){let t=P[e];-1!==w.indexOf(t)||C.has(t)||C.set(t,void 0)}return"wait"===f&&C.size&&(g=[]),C.forEach((e,r)=>{if(-1!==w.indexOf(r))return;let i=E.get(r);if(!i)return;let s=P.indexOf(r),a=e;a||(a=n.createElement(PresenceChild,{key:getChildKey(i),isPresent:!1,onExitComplete:()=>{C.delete(r);let e=Array.from(E.keys()).filter(e=>!w.includes(e));if(e.forEach(e=>E.delete(e)),v.current=x.filter(t=>{let n=getChildKey(t);return n===r||e.includes(n)}),!C.size){if(!1===m.current)return;h(),l&&l()}},custom:t,presenceAffectsLayout:d,mode:f},i),C.set(r,a)),g.splice(s,0,a)}),g=g.map(e=>{let t=e.key;return C.has(t)?e:n.createElement(PresenceChild,{key:getChildKey(e),isPresent:!0,presenceAffectsLayout:d,mode:f},e)}),n.createElement(n.Fragment,null,C.size?g:g.map(e=>(0,n.cloneElement)(e)))}},69129:function(e,t,r){"use strict";r.d(t,{N:function(){return useForceUpdate}});var n=r(49738),i=r(14930),s=r(43517);function useForceUpdate(){let e=(0,i.t)(),[t,r]=(0,n.useState)(0),l=(0,n.useCallback)(()=>{e.current&&r(t+1)},[t]),a=(0,n.useCallback)(()=>s.Wi.postRender(l),[l]);return[a,t]}},14930:function(e,t,r){"use strict";r.d(t,{t:function(){return useIsMounted}});var n=r(49738),i=r(74048);function useIsMounted(){let e=(0,n.useRef)(!1);return(0,i.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}}},function(e){e.O(0,[4565,2584,4838,1441,5956,9302,3587,3926,1629,8760,1150,5670,9231,2383,3867,7399,8625,1744],function(){return e(e.s=82578)}),_N_E=e.O()}]);
//# sourceMappingURL=page-c34f582bfe53dd76.js.map