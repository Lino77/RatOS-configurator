{"version":3,"file":"static/chunks/app/wizard/page-0bdb0f72490a26e4.js","mappings":"qFAAA,IAAAA,EAAcC,EAAQ,OAuBtBC,EAAAF,EAAAG,UAAA,CArBA,UACAC,MAAAA,CAAA,CACAC,QAAAA,CAAA,CACA,GAAAC,EACC,CAAAC,CAAA,EACD,OAAAP,EAAAQ,aAAA,OAAAC,OAAAC,MAAA,EACAC,MAAA,6BACAC,QAAA,YACAC,KAAA,eACA,qBACAC,IAAAP,EACA,kBAAAF,CACA,EAAGC,GAAAF,EAAAJ,EAAAQ,aAAA,UACHO,GAAAV,CACA,EAAGD,GAAA,KAAAJ,EAAAQ,aAAA,SACHQ,SAAA,UACAC,EAAA,sIACAC,SAAA,SACA,GACA,EAGAC,CAAAA,EAAAC,OAAA,CAAAlB,yBCxBA,IAAAF,EAAcC,EAAQ,OAyBtBC,EAAAF,EAAAG,UAAA,CAvBA,UACAC,MAAAA,CAAA,CACAC,QAAAA,CAAA,CACA,GAAAC,EACC,CAAAC,CAAA,EACD,OAAAP,EAAAQ,aAAA,OAAAC,OAAAC,MAAA,EACAC,MAAA,6BACAE,KAAA,OACAD,QAAA,YACAS,YAAA,IACAC,OAAA,eACA,qBACAR,IAAAP,EACA,kBAAAF,CACA,EAAGC,GAAAF,EAAAJ,EAAAQ,aAAA,UACHO,GAAAV,CACA,EAAGD,GAAA,KAAAJ,EAAAQ,aAAA,SACHe,cAAA,QACAC,eAAA,QACAP,EAAA,qKACA,GACA,EAGAE,CAAAA,EAAAC,OAAA,CAAAlB,yBC1BA,IAAAF,EAAcC,EAAQ,OAyBtBC,EAAAF,EAAAG,UAAA,CAvBA,UACAC,MAAAA,CAAA,CACAC,QAAAA,CAAA,CACA,GAAAC,EACC,CAAAC,CAAA,EACD,OAAAP,EAAAQ,aAAA,OAAAC,OAAAC,MAAA,EACAC,MAAA,6BACAE,KAAA,OACAD,QAAA,YACAS,YAAA,IACAC,OAAA,eACA,qBACAR,IAAAP,EACA,kBAAAF,CACA,EAAGC,GAAAF,EAAAJ,EAAAQ,aAAA,UACHO,GAAAV,CACA,EAAGD,GAAA,KAAAJ,EAAAQ,aAAA,SACHe,cAAA,QACAC,eAAA,QACAP,EAAA,6DACA,GACA,EAGAE,CAAAA,EAAAC,OAAA,CAAAlB,wBC1BA,IAAAF,EAAcC,EAAQ,OAuBtBC,EAAAF,EAAAG,UAAA,CArBA,UACAC,MAAAA,CAAA,CACAC,QAAAA,CAAA,CACA,GAAAC,EACC,CAAAC,CAAA,EACD,OAAAP,EAAAQ,aAAA,OAAAC,OAAAC,MAAA,EACAC,MAAA,6BACAC,QAAA,YACAC,KAAA,eACA,qBACAC,IAAAP,EACA,kBAAAF,CACA,EAAGC,GAAAF,EAAAJ,EAAAQ,aAAA,UACHO,GAAAV,CACA,EAAGD,GAAA,KAAAJ,EAAAQ,aAAA,SACHQ,SAAA,UACAC,EAAA,2TACAC,SAAA,SACA,GACA,EAGAC,CAAAA,EAAAC,OAAA,CAAAlB,yBCxBA,IAAAF,EAAcC,EAAQ,OAuBtBC,EAAAF,EAAAG,UAAA,CArBA,UACAC,MAAAA,CAAA,CACAC,QAAAA,CAAA,CACA,GAAAC,EACC,CAAAC,CAAA,EACD,OAAAP,EAAAQ,aAAA,OAAAC,OAAAC,MAAA,EACAC,MAAA,6BACAC,QAAA,YACAC,KAAA,eACA,qBACAC,IAAAP,EACA,kBAAAF,CACA,EAAGC,GAAAF,EAAAJ,EAAAQ,aAAA,UACHO,GAAAV,CACA,EAAGD,GAAA,KAAAJ,EAAAQ,aAAA,SACHQ,SAAA,UACAC,EAAA,iUACAC,SAAA,SACA,GACA,EAGAC,CAAAA,EAAAC,OAAA,CAAAlB,yBCxBA,IAAAF,EAAcC,EAAQ,OAuBtBC,EAAAF,EAAAG,UAAA,CArBA,UACAC,MAAAA,CAAA,CACAC,QAAAA,CAAA,CACA,GAAAC,EACC,CAAAC,CAAA,EACD,OAAAP,EAAAQ,aAAA,OAAAC,OAAAC,MAAA,EACAC,MAAA,6BACAC,QAAA,YACAC,KAAA,eACA,qBACAC,IAAAP,EACA,kBAAAF,CACA,EAAGC,GAAAF,EAAAJ,EAAAQ,aAAA,UACHO,GAAAV,CACA,EAAGD,GAAA,KAAAJ,EAAAQ,aAAA,SACHQ,SAAA,UACAC,EAAA,0IACAC,SAAA,SACA,GACA,EAGAC,CAAAA,EAAAC,OAAA,CAAAlB,oFCxBA;;;;;CAKA,EAIA,IAAAuB,EAAkB,GAAAC,EAAAC,CAAA,EAAgB,aAClC,SAAaV,EAAA,aAAAW,IAAA,UAAgC,CAC7C,SAAaX,EAAA,yBAAAW,IAAA,UAA4C,CACzD,oFCZA;;;;;CAKA,EAIA,IAAAC,EAAoB,GAAAH,EAAAC,CAAA,EAAgB,eACpC,SAAaV,EAAA,iBAAAW,IAAA,UAAoC,CACjD,oFCXA;;;;;CAKA,EAIA,IAAAE,EAAgB,GAAAJ,EAAAC,CAAA,EAAgB,WAChC,SAAaI,MAAA,KAAAC,OAAA,KAAAC,EAAA,IAAAC,EAAA,IAAAC,GAAA,IAAAP,IAAA,UAAmE,CAChF,SAAaQ,GAAA,IAAAC,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAAX,IAAA,UAAsD,CACnE,SAAaQ,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAAX,IAAA,UAAuD,CACpE,oFCbA;;;;;CAKA,EAIA,IAAAY,EAAe,GAAAd,EAAAC,CAAA,EAAgB,UAC/B,SAAaV,EAAA,aAAAW,IAAA,UAAgC,CAC7C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,eAAAW,IAAA,UAAkC,CAC/C,SAAaX,EAAA,iBAAAW,IAAA,UAAoC,CACjD,oFCdA;;;;;CAKA,EAIA,IAAAa,EAAc,GAAAf,EAAAC,CAAA,EAAgB,SAC9B,SAAaV,EAAA,mBAAAW,IAAA,UAAsC,CACnD,SAAaG,MAAA,KAAAC,OAAA,KAAAC,EAAA,IAAAC,EAAA,IAAAC,GAAA,IAAAO,GAAA,IAAAd,IAAA,UAA4E,CACzF,oFCZA;;;;;CAKA,EAIA,IAAAe,EAAqB,GAAAjB,EAAAC,CAAA,EAAgB,gBACrC,CACA,OACA,CACAV,EAAA,gJACAW,IAAA,QACA,EACA,CACA,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,SAAAW,IAAA,UAA4B,CACzC,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,UAAAW,IAAA,UAA6B,CAC1C,SAAaX,EAAA,SAAAW,IAAA,UAA4B,CACzC,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,UAAAW,IAAA,UAA6B,CAC1C,yBCxBAgB,QAAAC,OAAA,GAAAC,IAAA,CAAA7C,EAAA8C,IAAA,CAAA9C,EAAA,QACA2C,QAAAC,OAAA,GAAAC,IAAA,CAAA7C,EAAA8C,IAAA,CAAA9C,EAAA,8UCKO,IAAM+C,iBAAmB,SACbC,EAAlB,IAAMC,EAAW,CAACD,OAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,WAAAA,GAAWA,GAAXA,KAAAA,IAAAA,EAAAA,EAAiB,KAAKE,OAAO,CAAC,aAAc,IAC9D,OAAOD,CACR,EAEaE,iBAAmB,KAC/B,IAAMF,EAAWF,mBACjB,MAAOK,CAAAA,EAAAA,EAAAA,WAAAA,EACN,GACQH,EAASI,UAAU,CAACC,GAE5B,CAACL,EAAS,CAEZ,EAUMM,EAA2B,CAChC,CAAEC,KAAM,eAAgBF,KAAM,UAAWG,QAAS,GAAOC,KAAMC,EAAAA,CAAKA,EACpE,CAAEH,KAAM,YAAaF,KAAM,IAAKG,QAAS,GAAOC,KAAM7B,EAAAA,CAAOA,EAC7D,CAAE2B,KAAM,SAAUF,KAAM,UAAWG,QAAS,GAAOC,KAAME,EAAAA,CAAMA,EAC/D,CAAEJ,KAAM,4BAA6BF,KAAM,eAAgBG,QAAS,GAAOC,KAAMlB,EAAAA,CAAKA,EACtF,CAAEgB,KAAM,2BAA4BF,KAAM,YAAaG,QAAS,GAAOC,KAAMlC,EAAAA,CAASA,EAGtF,CAEYqC,cAAgB,KAC5B,IAAMC,EAAgBX,mBAClBY,EAA4B,KAC1BC,EAAwB,EAAE,CAehC,OAdAT,EAAOU,OAAO,CAAC,CAACC,EAAGC,KAElB,GADAD,EAAET,OAAO,CAAGK,EAAcI,EAAEZ,IAAI,EAC5BY,EAAET,OAAO,CAAE,KACaO,CAAvBD,QAAAA,GAAuBC,CAAAA,OAAAA,CAAAA,EAAAA,CAAM,CAACD,EAAW,GAAlBC,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoBV,IAAI,CAACc,MAAM,EAAGF,EAAEZ,IAAI,CAACc,MAAM,EACzEJ,CAAM,CAACD,EAAW,CAACN,OAAO,CAAG,GAC7BM,EAAaI,GACHJ,OAAAA,EACVG,EAAET,OAAO,CAAG,GAEZM,EAAaI,CAEf,CACAH,EAAOK,IAAI,CAACH,EACb,GACOF,CACR,EAMaM,WAAwC,IACpD,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,IACTV,EAAgBX,mBACtB,GAAI,EAAOsB,sBAAsB,EAAKX,EAAc,WAGnD,OAAOzD,EAAMqE,QAAQ,CAFrBH,EAAOrB,OAAO,CAAC,UAIjB,2FiBxE42CyB,EAAg3GA,EuBAn+HC,EAA8DD,yDvCqChzB,IAAME,SAAW,QAqCWxE,EACQA,EAGtCA,EAKAA,EAT8BA,EACQA,EArC1C,GAAM,CAAEyE,aAAAA,CAAY,CAAE,CAAGzE,EACnB,CAAC0E,EAAkBC,EAAqB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAChD5E,MAAAA,EAAM6E,IAAI,EAAaC,MAAM9E,EAAM6E,IAAI,GAAK7E,MAAAA,EAAM+E,KAAK,CAAC/E,EAAM6E,IAAI,CAAC,CAAwB,EAAb7E,EAAM6E,IAAI,EAEnFG,EAAchF,EAAM+E,KAAK,CAACL,EAAiB,CAC3CO,EAAiBC,CAAAA,EAAAA,EAAAA,MAAAA,EAAOR,EAC9BO,CAAAA,EAAe7B,OAAO,CAAGsB,EACzB,IAAMS,EAAsBpC,CAAAA,EAAAA,EAAAA,WAAAA,EAC3B,IACC0B,MAAAA,GAAAA,EAAeW,EAAW,OAC1BT,EAAqBS,EACtB,EACA,CAACX,EAAa,EAEfY,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACLrF,EAAM6E,IAAI,EAAI,CAACC,MAAM9E,EAAM6E,IAAI,GAAK7E,EAAM6E,IAAI,GAAKI,EAAe7B,OAAO,EAAIpD,MAAAA,EAAM+E,KAAK,CAAC/E,EAAM6E,IAAI,CAAC,EACvGF,EAAqB3E,EAAM6E,IAAI,CAEjC,EAAG,CAAC7E,EAAM6E,IAAI,CAAE7E,EAAM+E,KAAK,CAAC,EAC5B,IAAMO,EAAgBZ,EAAmB1E,EAAM+E,KAAK,CAAChB,MAAM,CAAG,EACxDwB,EAAoBb,EAAmB,EACvCc,EAAgBzC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACjC4B,EAAqB,IACpBF,MAAAA,GAAAA,EAAegB,EAAM,EAAG,aACjBA,EAAM,GAEf,EAAG,CAAChB,EAAa,EACXiB,EAAgB3C,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACjC4B,EAAqB,IACpBF,MAAAA,GAAAA,EAAegB,EAAM,EAAG,aACjBA,EAAM,GAEf,EAAG,CAAChB,EAAa,EACXkB,EAA2F,CAChG,GAAK,qBAAsB3F,EAAQA,EAAM4F,gBAAgB,CAAG,CAAC,CAAC,CAC9DtE,IAAK,QAAUoD,EACfY,cAAeA,GAAkBtF,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAM6F,iBAAiB,GAAvB7F,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBsF,aAAa,GAAtCtF,KAAAA,IAAAA,GAAAA,EACjCuF,kBAAmBA,GAAsBvF,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAM6F,iBAAiB,GAAvB7F,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBsF,aAAa,GAAtCtF,KAAAA,IAAAA,GAAAA,EACzC8F,WAAYR,EACTE,EACAxF,CAAAA,OAAAA,CAAAA,EAAAA,EAAM6F,iBAAiB,GAAvB7F,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBsF,aAAa,EACrCtF,EAAM6F,iBAAiB,CAACC,UAAU,CAClCC,KAAAA,EACJC,eAAgBT,EACbG,EACA1F,CAAAA,OAAAA,CAAAA,EAAAA,EAAM6F,iBAAiB,GAAvB7F,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBuF,iBAAiB,EACzCvF,EAAM6F,iBAAiB,CAACG,cAAc,CACtCD,KAAAA,EACJE,UACCjG,EAAM6F,iBAAiB,EAAI7F,EAAM6F,iBAAiB,CAACP,aAAa,CAAGtF,EAAM6F,iBAAiB,CAACC,UAAU,CAAGC,KAAAA,CAC1G,EACM5C,EAAO,mBAAO6B,EAAY7B,IAAI,CAAkB6B,EAAY7B,IAAI,CAACwC,GAAsBX,EAAY7B,IAAI,CACvG+C,EACL,mBAAOlB,EAAYkB,WAAW,CAC3BlB,EAAYkB,WAAW,CAACP,GACxBX,EAAYkB,WAAW,CACrBC,EAA+B,CACpC,GAAGR,CAAkB,CACrBxC,KAAAA,EACA+C,YAAAA,CACD,EACA,MAAO,CACNC,YAAAA,EACAzB,iBAAAA,EACAS,oBAAqBA,EACrBH,YAAahF,EAAM+E,KAAK,CAACL,EAAiB,CAE5C,kDC7FO,IAAM0B,cAAqC,GAEhD,GAAAC,EAAAC,GAAA,EAACC,MAAAA,CAAIC,aAAW,oBACf,GAAAH,EAAAC,GAAA,EAACG,KAAAA,CAAGC,KAAK,OAAOC,UAAU,2BACxB3G,EAAM+E,KAAK,CAAC6B,GAAG,CAAC,CAAC/B,EAAMgC,KACvB,IAAM1D,EAAO,mBAAO0B,EAAK1B,IAAI,CAAkB0B,EAAK1B,IAAI,CAACnD,EAAMmG,WAAW,EAAItB,EAAK1B,IAAI,CACjF+C,EACL,mBAAOrB,EAAKqB,WAAW,CAAkBrB,EAAKqB,WAAW,CAAClG,EAAMmG,WAAW,EAAItB,EAAKqB,WAAW,CAChG,MACC,GAAAG,EAAAC,GAAA,EAACQ,KAAAA,CAAcH,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EAAOF,IAAY7G,EAAM+E,KAAK,CAAChB,MAAM,CAAG,EAAI,QAAU,GAAI,qBAClF/D,EAAM0E,gBAAgB,CAAGmC,EACzB,GAAAR,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACEJ,IAAY7G,EAAM+E,KAAK,CAAChB,MAAM,CAAG,EACjC,GAAAsC,EAAAC,GAAA,EAACY,MAAAA,CACAP,UAAU,kFACVQ,cAAY,SAEV,KACJ,GAAAd,EAAAW,IAAA,EAACI,OAAAA,CACAT,UAAU,iDACVU,QAAS,IAAMrH,EAAMmF,mBAAmB,CAAC0B,aAEzC,GAAAR,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,iCACf,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,8GACf,GAAAN,EAAAC,GAAA,EAACgB,EAAAA,CAAKA,CAAAA,CACLX,UAAU,6CACV5F,YAAa,EACboG,cAAY,aAIf,GAAAd,EAAAW,IAAA,EAACI,OAAAA,CAAKT,UAAU,uCACf,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,4EAAoExD,IACpF,GAAAkD,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,oDAA4CT,aAI5DlG,EAAM0E,gBAAgB,GAAKmC,EAC9B,GAAAR,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACEJ,IAAY7G,EAAM+E,KAAK,CAAChB,MAAM,CAAG,EACjC,GAAAsC,EAAAC,GAAA,EAACY,MAAAA,CACAP,UAAU,gFACVQ,cAAY,SAEV,KACJ,GAAAd,EAAAW,IAAA,EAACI,OAAAA,CACAT,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EAAQ,kCAAmC1C,EAAK2C,cAAc,EAAI,kBAC7EC,eAAa,OACbJ,QAAS,EAAMG,cAAc,CAAe,IAAMxH,EAAMmF,mBAAmB,CAAC0B,GAA5Cd,KAAAA,YAEhC,GAAAM,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,wBAAwBQ,cAAY,gBACnD,GAAAd,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,yJACf,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,gEAGlB,GAAAN,EAAAW,IAAA,EAACI,OAAAA,CAAKT,UAAU,uCACf,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,4FACdxD,IAEF,GAAAkD,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,oDAA4CT,aAK/D,GAAAG,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACEJ,IAAY7G,EAAM+E,KAAK,CAAChB,MAAM,CAAG,EACjC,GAAAsC,EAAAC,GAAA,EAACY,MAAAA,CACAP,UAAU,gFACVQ,cAAY,SAEV,KACJ,GAAAd,EAAAW,IAAA,EAACI,OAAAA,CACAT,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EAAQ,kCAAmC1C,EAAK2C,cAAc,EAAI,kBAC7EC,eAAa,OACbJ,QAAS,EAAMG,cAAc,CAAe,IAAMxH,EAAMmF,mBAAmB,CAAC0B,GAA5Cd,KAAAA,YAEhC,GAAAM,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,wBAAwBQ,cAAY,gBACnD,GAAAd,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,uJACf,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,gDAGlB,GAAAN,EAAAW,IAAA,EAACI,OAAAA,CAAKT,UAAU,uCACf,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,0FACdxD,IAEF,GAAAkD,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,oDAA4CT,cA5ExD/C,EAmFX,2CCxGJ;;;;;CAKA,EAIA,IAAAuE,EAAqB,GAAAC,EAAAtG,CAAA,EAAgB,gBACrC,SAAaV,EAAA,gBAAAW,IAAA,UAAmC,CAChD,ECFAsG,EAAsB,GAAAD,EAAAtG,CAAA,EAAgB,iBACtC,SAAaV,EAAA,gBAAAW,IAAA,SAAkC,CAC/C,SAAaX,EAAA,iBAAAW,IAAA,UAAoC,CACjD,ECWauG,eAAgD,QAC3C7H,EAKJA,EAUTA,EAoBCA,EAWDA,EA9CJ,IAAM8H,EAAW9H,CAAAA,OAAAA,CAAAA,EAAAA,EAAM+H,IAAI,GAAV/H,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAYgI,SAAS,EACrC,GAAA3B,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACC,SAAU,GAAMvB,UAAU,oBAEnC,GAAAN,EAAAC,GAAA,EAAC/E,EAAAA,CAAWA,CAAAA,CAACoF,UAAU,gBAAgBQ,cAAY,SAE9CY,EAAO/H,CAAAA,OAAAA,CAAAA,EAAAA,EAAM+H,IAAI,GAAV/H,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAYqH,OAAO,EAC/B,GAAAhB,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qCACd,GAAAN,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRC,SAAUrI,EAAM+H,IAAI,CAACM,QAAQ,CAC7BhB,QAAS,EAAOU,IAAI,CAACC,SAAS,CAAwBjC,KAAAA,EAArB/F,EAAM+H,IAAI,CAACV,OAAO,CACnDvH,MAAOE,EAAM+H,IAAI,CAACjI,KAAK,CACvB6G,UAAW3G,EAAM+H,IAAI,CAACC,SAAS,CAAG,cAAgB,2BAEjDF,EACA9H,OAAAA,CAAAA,EAAAA,EAAM+H,IAAI,CAACO,KAAK,GAAhBtI,KAAAA,IAAAA,EAAAA,EAAoB,YAGpB,KAEEuI,EAAYvI,EAAMwI,KAAK,CAACR,SAAS,CACtC,GAAA3B,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACC,SAAU,GAAMvB,UAAU,oBAEnC,GAAAN,EAAAC,GAAA,EAACoB,EAAYA,CAACf,UAAU,gBAAgBQ,cAAY,SAG/CqB,EAAQxI,EAAMwI,KAAK,CAACnB,OAAO,CAChC,GAAAhB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0CACb3G,EAAMyI,IAAI,EACV,GAAApC,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRf,QAASrH,EAAMyI,IAAI,CAACpB,OAAO,CAC3BgB,SAAUrI,EAAMyI,IAAI,CAACJ,QAAQ,CAC7BvI,MAAOE,EAAMyI,IAAI,CAAC3I,KAAK,WAEtBE,OAAAA,CAAAA,EAAAA,EAAMyI,IAAI,CAACH,KAAK,GAAhBtI,KAAAA,IAAAA,EAAAA,EAAoB,OACrB,GAAAqG,EAAAC,GAAA,EAACsB,EAAaA,CAACjB,UAAU,kBAAkBQ,cAAY,YAGzD,GAAAd,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,UACRC,SAAUrI,EAAMwI,KAAK,CAACH,QAAQ,CAC9BhB,QAAS,EAAOmB,KAAK,CAACR,SAAS,CAAyBjC,KAAAA,EAAtB/F,EAAMwI,KAAK,CAACnB,OAAO,CACrDvH,MAAOE,EAAMwI,KAAK,CAAC1I,KAAK,CACxB6G,UAAW3G,EAAMwI,KAAK,CAACR,SAAS,CAAG,cAAgBjC,KAAAA,YAElD/F,OAAAA,CAAAA,EAAAA,EAAMwI,KAAK,CAACF,KAAK,GAAjBtI,KAAAA,IAAAA,EAAAA,EAAqB,OACrBuI,QAGA,KAEJ,MACC,GAAAlC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EAAO/G,EAAM0I,OAAO,CAAG,GAAK,sBAC3C,GAAArC,EAAAW,IAAA,EAACT,MAAAA,CACAI,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACV,8EACA/G,EAAM0I,OAAO,CAAG,GAAK,aAEtBlC,aAAW,uBAEVuB,EACAS,MAIL,mJCxEO,IAAMG,kBAA+C,QAuB3DC,EA0DOC,EAhFP,GAAM,CAACC,EAAkBC,EAAoB,CAAGnE,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnD,CACLoE,sBAAAA,CAAqB,CACrBC,cAAAA,CAAa,CACbC,gBAAAA,CAAe,CACfC,gBAAAA,CAAe,CACfC,mBAAAA,CAAkB,CAClBC,YAAAA,CAAW,CACXC,eAAAA,CAAc,CACdC,kBAAAA,CAAiB,CACjBC,qBAAAA,CAAoB,CACpBC,qBAAAA,CAAoB,CACpBC,yBAA0BC,CAAgB,CAC1Cd,+BAAAA,CAA8B,CAC9Be,2BAAAA,CAA0B,CAC1BhB,4BAAAA,CAA2B,CAC3B,CAAGiB,CAAAA,EAAAA,EAAAA,uBAAAA,IACEC,EAAmB,EAAE,CACvBC,EAAkBH,CAAuC,IAAvCA,EAA2BI,OAAO,CAAaJ,EAA2BK,KAAK,CAACC,MAAM,GAAK,KAC3GC,EAEF,CAAC,EA4BL,OA3BAvB,MAAAA,GAAAA,OAAAA,CAAAA,EAAAA,EAA6BwB,KAAK,GAAlCxB,KAAAA,IAAAA,GAAAA,EAAoChF,OAAO,CAAC,CAACyG,EAAMC,SAS7CP,EACKA,EAAAA,EAAAA,EADLA,EACKA,EATV,IAAIQ,EAAsB,EAAE,CACvB,CAACC,EAAAA,EAAWA,CAACC,QAAQ,CAAED,EAAAA,EAAWA,CAACE,SAAS,CAAC,CAACC,QAAQ,CAACN,EAAKO,IAAI,GAChEP,MAAAA,EAAKQ,SAAS,GACjBf,EAAO9F,IAAI,CAAC,kBAA0C8G,MAAA,CAAxBT,EAAKO,IAAI,CAACG,WAAW,GAAG,gBACtDR,EAAY,CAAE,kBAAyCO,MAAA,CAAxBT,EAAKO,IAAI,CAACG,WAAW,GAAG,eAAa,EAGtEZ,CAAU,CAACG,EAAG,CAAG,CAChB,GAAIP,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAiBK,KAAK,GAAtBL,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAwB,CAACO,EAAG,GAA5BP,KAAAA,IAAAA,EAAAA,EAAgC,CAAC,CAAC,CACtCiB,QAASjB,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAiBK,KAAK,GAAtBL,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,CAAwB,CAACO,EAAG,GAA5BP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA8BiB,OAAO,GAArCjB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAuCe,MAAM,CAACP,MAAAA,EAAAA,EAAa,EAAE,IAA7DR,KAAAA,IAAAA,EAAAA,EAAkEQ,CAC5E,CACD,GACmC,MAA/B3B,GACCgB,CAAuC,IAAvCA,EAA2BI,OAAO,EACrCJ,EAA2BK,KAAK,CAACgB,OAAO,GAAGC,UAAU,CAACtH,OAAO,CAAC,IAC7DkG,EAAO9F,IAAI,CAACmH,EACb,GAGF9F,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACkC,KAAvCuE,EAA2BI,OAAO,EACjCJ,EAA2BK,KAAK,CAACH,MAAM,CAACsB,IAAI,CAAC,GAAOC,UAAAA,EAAEC,IAAI,CAAC,EAAE,GAChEvC,EAAoB,GAGvB,EAAG,CAACa,EAA2B,EAE9B,GAAAvD,EAAAW,IAAA,EAACE,MAAAA,WACA,GAAAb,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAiE,iCAG/E,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,gHAIxE,GAAAN,EAAAW,IAAA,EAACyE,EAAAA,CAAiBA,CAAAA,WAChB3B,EAAO/F,MAAM,CAAG,GAChB,GAAAsC,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,CAAC/E,UAAU,gBACvB,GAAAN,EAAAC,GAAA,EAACqF,EAAAA,CAAeA,CAAAA,UACd7B,EAAOlD,GAAG,CAAC,GACX,GAAAP,EAAAC,GAAA,EAACsF,EAAAA,CAAMA,CAAC1E,GAAG,EACVP,UAAU,OAEVkF,KAAM,CAAEC,QAAS,EAAGC,MAAO,GAAKnK,EAAG,GAAI,EACvCoK,QAAS,CAAEF,QAAS,EAAGC,MAAO,GAAKnK,EAAG,EAAG,EACzCqK,QAAS,CAAEH,QAAS,EAAGC,MAAO,EAAGnK,EAAG,CAAE,WAErCyJ,GALIA,QAWV,GAAAhF,EAAAC,GAAA,EAACmF,EAAAA,CAAiBA,CAAAA,CAAC9E,UAAU,qBAC5B,GAAAN,EAAAC,GAAA,EAACqF,EAAAA,CAAeA,CAAAA,UACd9C,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAgCqD,SAAS,GAAzCrD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA2CjC,GAAG,CAAC,CAACuF,EAAIrI,IACpDqI,MAAAA,GAAcA,MAAAA,EAAGvB,IAAI,CAAW,KAC/B,GAAAvE,EAAAC,GAAA,EAACsF,EAAAA,CAAMA,CAAC1E,GAAG,EAEV2E,KAAM,CAAEC,QAAS,EAAGC,MAAO,GAAKnK,EAAG,GAAI,EACvCoK,QAAS,CAAEF,QAAS,EAAGC,MAAO,GAAKnK,EAAG,EAAG,EACzCqK,QAAS,CAAEH,QAAS,EAAGC,MAAO,EAAGnK,EAAG,CAAE,WAEtC,GAAAyE,EAAAC,GAAA,EAAC5G,EAAAA,QAAc,EAAC0M,SAAU,GAAA/F,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,YACjC,GAAA5B,EAAAC,GAAA,EAAC+F,EAAAA,CAAgBA,CAAAA,CAACC,WAAYH,EAAGvB,IAAI,MANjC9G,QAaV,GAAAuC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,mFAA0E,kBAEzF,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,oDAIxE,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,yGACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,UACA,GAAAb,EAAAC,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBjE,MAAM,iBACNkE,MAAM,uBACNC,KAAM,CAAEC,OAAQ7D,CAA+B,EAC/C8D,KAAMC,EAAAA,EAAOA,CACbC,SAAUlD,EACVmD,MAAO9D,QAIV,GAAA3C,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,iBACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,mFAA0E,WACxF,GAAAN,EAAAC,GAAA,EAACY,MAAAA,UACA,GAAAb,EAAAC,GAAA,EAACyG,EAAAA,CAAMA,CAAAA,CAACzE,MAAM,SAAS0E,QAAQ,WAAWC,SAAUlE,EAAqB+D,MAAO,CAAC,CAAChE,SAGpF,GAAAzC,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,wDAIxE,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0GACbuC,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBgE,WAAW,CAACC,WAAW,GACxC,GAAA9G,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAC,GAAA,EAACyG,EAAAA,CAAMA,CAAAA,CACNzE,MAAM,mBACNpC,YAAY,oJACZ+G,SAAU7D,EACV0D,MAAO,CAAC,CAAC3D,MAIZ,GAAA9C,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAC,GAAA,EAACyG,EAAAA,CAAMA,CAAAA,CACNzE,MAAM,cACNpC,YAAY,oJACZ+G,SAAU3D,EACVwD,MAAO,CAAC,CAACzD,MAGX,GAAAhD,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAC,GAAA,EAACyG,EAAAA,CAAMA,CAAAA,CACNzE,MAAM,qBACNpC,YAAY,gKACZ+G,SAAUzD,EACVsD,MAAO,CAAC,CAACvD,YAKb,GAAAlD,EAAAC,GAAA,EAACY,MAAAA,UACCgC,GACA,GAAA7C,EAAAC,GAAA,EAAC8G,EAAAA,CAAWA,CAAAA,CAAC3M,GAAG,iBACf,GAAA4F,EAAAC,GAAA,EAACmF,EAAAA,CAAiBA,CAAAA,CAAC9E,UAAU,0CAC3B8C,EAAqB7C,GAAG,CAAC,CAACyD,EAAMC,KAChC,IAAM+C,EAAcnE,EAAgBoE,QAAQ,CAAClD,KAAK,CAACmD,IAAI,CAAC,GAAOC,EAAE5C,IAAI,GAAKP,EAAKO,IAAI,EACnF,GAAIyC,MAAAA,EACH,MAAM,MAAU,+BAAiChD,EAAKO,IAAI,EAE3D,IAAM6C,EACLtD,MAAAA,CAAU,CAACG,EAAG,CACX,EACAnK,OAAOuN,IAAI,CAACvD,CAAU,CAACG,EAAG,EAAEqD,MAAM,CAAC,CAACC,EAAKtM,SAMmBuM,EAAAA,EAJ5D,IAAMA,EAAY1D,CAAU,CAACG,EAAG,CADjBhJ,EACyB,CACxC,GAAIuM,MAAAA,EACH,OAAOD,EAER,IAAME,EAAQC,MAAMC,OAAO,CAACH,GAAaA,EAAU9J,MAAM,CAAG8J,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAU7C,OAAO,GAAjB6C,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmB9J,MAAM,GAAzB8J,KAAAA,IAAAA,EAAAA,EAA6B,EACzF,OAAOD,EAAME,CACd,EAAG,GACN,MACC,GAAAzH,EAAAC,GAAA,EAAC2H,EAAAA,CAAmBA,CAAAA,CAEnBnE,OAAQK,CAAU,CAACG,EAAG,CACtBrB,cAAeA,EACfiF,YAAa7D,EACb8D,mBAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAiCf,GACrDlE,gBAAiBA,EACjBkF,UAAWvF,GAAoB2E,EAAa,GANvCpD,EAAKO,IAAI,CASjB,YAML,GAAAvE,EAAAC,GAAA,EAACuB,eAAcA,CACdE,KAAM,CAAEV,QAASrH,EAAMgG,cAAc,EACrCwC,MAAO,CACNnB,QAASrH,EAAM8F,UAAU,CACzBuC,SAAU,CAACuB,EAA2BI,OAAO,EAAIF,EAAO/F,MAAM,CAAG,EACjEjE,MACC8J,CAAuC,IAAvCA,EAA2BI,OAAO,EAAcF,EAAO/F,MAAM,CAAG,EAC7D,yCACAgC,KAAAA,CACL,MAIJ,kDC3NO,IAAMuI,eAAiB,IAC7B,GAAIC,EAASC,OAAO,CAAE,KAGJD,EAFjB,MACC,GAAAlI,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,UAAgB,OAAd6C,CAAAA,EAAAA,EAAStE,KAAK,GAAdsE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgBpD,OAAO,IAGzC,OACA,CAAIoD,EAASvG,SAAS,EAAKuG,EAASE,MAAM,EAAKF,EAASG,QAAQ,CAOzD,KALL,GAAArI,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,yDACd,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,IAKZ,4BCdO,IAAM0G,YAA0C,GAErD,GAAAtI,EAAAC,GAAA,EAACsI,EAAAA,CAAMA,CAAAA,CACNC,MAAM,OACNC,KAAMC,EACNjP,MAAOE,EAAMF,KAAK,CAAGE,EAAMF,KAAK,CAAG,OACnC6G,UAAW3G,EAAM2G,SAAS,UAEzB3G,EAAMqE,QAAQ,kBCFX,IAAM2K,SAAoC,QAENhP,EAwBrBA,EAILA,EA7BhB,GAAM,CAAEiP,KAAMC,CAAW,CAAEjF,MAAAA,CAAK,CAAE,CAAGkF,EAAAA,CAAIA,CAACC,GAAG,CAACC,SAAS,CAACC,QAAQ,CAC/D,CAAEC,UAAWvP,EAAMwP,KAAK,CAAClE,IAAI,CAAEmE,SAAQ,OAAEzP,CAAAA,EAAAA,EAAMyP,QAAQ,GAAdzP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgB0P,SAAS,EAAG,EACrE,CACCC,gBAAiB,GAClB,GAEKC,EAAmBT,EAAAA,CAAIA,CAACC,GAAG,CAACS,QAAQ,CAACC,WAAW,CAAC,CAAEC,UAAW/P,EAAM+P,SAAS,GAC7E,CAACC,EAAYC,EAAc,CAAGrL,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEvCsL,EAAanN,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,cAGY/C,EAF1CiQ,EAAc,IACdL,EAAiBO,MAAM,CACtB,CAAEZ,UAAWvP,EAAMwP,KAAK,CAAClE,IAAI,CAAEmE,SAAQ,OAAEzP,CAAAA,EAAAA,EAAMyP,QAAQ,GAAdzP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgB0P,SAAS,EAAG,EACrE,CACCU,UAAW,IAAMH,EAAc,GAChC,EAEF,EAAG,CAACL,EAAkB5P,EAAMwP,KAAK,CAAClE,IAAI,CAAEtL,EAAMyP,QAAQ,CAAC,EAEjDY,EAAWpG,EAAQ,GAAA5D,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,UAAEzB,EAAMkB,OAAO,GAAmB,KAIlEmF,EAAe,aAAeC,mBAAmBvQ,EAAMwP,KAAK,CAAClE,IAAI,EAEjEkF,EAAAA,OAAexQ,CAAAA,EAAAA,EAAMwP,KAAK,CAACiB,GAAG,GAAfzQ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBwQ,YAAY,CAAC5J,GAAG,CAAC,CAAC/B,EAAM6L,IAAU,GAAArK,EAAAC,GAAA,EAACQ,KAAAA,UAAgBjC,GAAR6L,IAG3EC,EACLzB,GAAAA,CAAAA,OAAelP,CAAAA,EAAAA,EAAMwP,KAAK,CAACiB,GAAG,GAAfzQ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiB4Q,cAAc,EAC7C,GAAAvK,EAAAC,GAAA,EAACqI,YAAWA,CAAC7O,MAAM,oBAAW,yEAC3B,KAEL,MACC,GAAAuG,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEAAuD,YAAU3G,EAAMwP,KAAK,CAACrM,IAAI,CAAC,cAC/FkN,EAED,GAAAhK,EAAAW,IAAA,EAACwE,IAAAA,CAAE7E,UAAU,kDAAwC,WAXjCuI,EAAc,sBAAwB,sBAYzDyB,EACD,GAAAtK,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACC,QAAQ,UAAUC,SAAU,CAAC6G,GAAec,EAAY3I,QAAS6I,WAnBlDF,EAAa,cAAgBd,EAAc,QAAU,uBAsB5E,GAAA7I,EAAAC,GAAA,EAACuK,KAAAA,CAAGlK,UAAU,gEAAuD,0BACrE,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,kEACd,GAAAN,EAAAC,GAAA,EAACG,KAAAA,CAAGE,UAAU,kCAA0B6J,IACxC,GAAAnK,EAAAC,GAAA,EAACwK,MAAAA,CAAIC,IAAK,4BAA8BT,EAAcU,IAAI,sDAI9D,6DClEA;;;;;CAKA,EAIA,IAAAC,GAAe,GAAAtJ,EAAAtG,CAAA,EAAgB,UAC/B,SAAaV,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,wBAAAW,IAAA,UAA2C,CACxD,SAAaX,EAAA,UAAAW,IAAA,UAA6B,CAC1C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,yBAAAW,IAAA,UAA4C,CACzD,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,gBAAAW,IAAA,SAAkC,CAC/C,SAAaX,EAAA,uBAAAW,IAAA,UAA0C,CACvD,ECUa4P,eAAgD,QA4DzDC,EAAwCA,EA3D3C,GAAM,CAACC,EAAsBC,EAAwB,CAAGzM,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3D,CAAE4H,MAAO8E,CAAc,CAAEC,QAAAA,CAAO,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,EAAAA,IACrC,CAACC,EAAiBC,EAAmB,CAAG9M,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjDuM,EAAUhC,EAAAA,CAAIA,CAACC,GAAG,CAAC+B,OAAO,CAACrB,WAAW,CAAC,CAC5CC,UAAW,IAAM2B,EAAmB,IACpCC,QAAS,IAAMD,EAAmB,GACnC,GACME,EAAmB9B,CAAAA,EAAAA,EAAAA,CAAAA,EAA0B,CAClD+B,WAAY,KACPN,GACHD,EAAe,oBAEThP,QAAQwP,MAAM,CAAC,0DAExB,GASMC,EAAgBZ,EAAQnJ,SAAS,CACtC,GAAA3B,EAAAW,IAAA,EAACI,OAAAA,WAAK,gBACQ,GAAAf,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,cAAcuB,SAAU,QAGzD,GAAA7B,EAAAW,IAAA,EAACI,OAAAA,WAAK,oBACY,GAAAf,EAAAC,GAAA,EAAC0L,EAAQA,CAACrL,UAAU,sBAIvC,MACC,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEACZ3G,EAAMwP,KAAK,CAACyC,YAAY,CAAC,IAAEjS,EAAMwP,KAAK,CAACrM,IAAI,CAAC,uBAG9C,GAAAkD,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,UACRf,QACCoK,EACG1L,KAAAA,EACA,SAA8D/F,SAAxDmR,EAAQhB,MAAM,CAAC,CAAEZ,UAAWvP,EAAMwP,KAAK,CAAClE,IAAI,CAAEmE,SAAQ,OAAEzP,CAAAA,EAAAA,EAAMyP,QAAQ,GAAdzP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgB0P,SAAS,EAAG,IAE9F/I,UAAU,sBACV0B,SAAU8I,EAAQnJ,SAAS,EAAI,CAACyJ,EAChCxO,KAAMwO,EAAkB,oCAAyE3G,MAAA,CAArCyF,mBAAmBvQ,EAAMwP,KAAK,CAAClE,IAAI,GAAMvF,KAAAA,WAEpG0L,EACA,GAAApL,EAAAW,IAAA,EAACI,OAAAA,WAAK,qBACa,GAAAf,EAAAC,GAAA,EAAC4L,EAAiBA,CAACvL,UAAU,sBAGhDoL,IAIDZ,CAAAA,OAAAA,CAAAA,EAAAA,EAAQlH,KAAK,GAAbkH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAehG,OAAO,EAAG,GAAA9E,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,UAAe,OAAbyF,CAAAA,EAAAA,EAAQlH,KAAK,GAAbkH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAehG,OAAO,GAAmB,KAElF,GAAA9E,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,kEACd,GAAAN,EAAAW,IAAA,EAACP,KAAAA,CAAGE,UAAU,mCACb,GAAAN,EAAAC,GAAA,EAACQ,KAAAA,UAAG,6FACJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,uHAIJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,wHAIJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,6DACJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,4LAIJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,4DACJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,2EACJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,kUAKJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,yCAEL,GAAAT,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,yBACd,GAAAN,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACC,QAAQ,gBAAgBf,QApEjB,KAClBgK,EAAwB,GACzB,WAkEyD,mBAGrD,GAAAhL,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACC,QAAQ,UAAUf,QAASrH,EAAM+P,SAAS,UAAE,6BAKrDqB,EACA,GAAA/K,EAAAC,GAAA,EAAC6L,GAAAA,CAAKA,CAAAA,CACLrS,MAAM,kBACNsS,KAAO,oGACPC,QACC,GAAAhM,EAAAC,GAAA,EAACsI,EAAAA,CAAMA,CAAAA,CAACC,MAAM,SAAS/O,MAAM,uDAAuDgP,KAAMmC,YAAQ,wFAInGqB,YAAY,WACZjL,QAzFa,KAChBuK,EAAiBzB,MAAM,EACxB,EAwFIoC,QAAS,IAAMC,WAAW,IAAMnB,EAAwB,IAAQ,OAE9D,OAGP,6BC5IA;;;;;CAKA,EAIA,IAAAoB,GAAiB,GAAA9K,EAAAtG,CAAA,EAAgB,YACjC,SAAaI,MAAA,KAAAC,OAAA,KAAAC,EAAA,IAAAC,EAAA,IAAAC,GAAA,IAAAP,IAAA,UAAmE,CAChF,SAAaX,EAAA,0CAAAW,IAAA,UAA6D,CAC1E,SAAaX,EAAA,2CAAAW,IAAA,UAA8D,CAC3E,ECJAoR,GAAoB,GAAA/K,EAAAtG,CAAA,EAAgB,eACpC,SAAaV,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,UAAAW,IAAA,UAA6B,CAC1C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,CACA,OACA,CACAX,EAAA,qHACAW,IAAA,QACA,EACA,CACA,iBCzBA;;;;;CAKA,EAIA,IAAAqR,GAAqB,GAAAhL,EAAAtG,CAAA,EAAgB,gBACrC,SAAaV,EAAA,aAAAW,IAAA,UAAgC,CAC7C,SAAaX,EAAA,6DAAAW,IAAA,UAAgF,CAC7F,SAAaX,EAAA,sCAAAW,IAAA,UAAyD,CACtE,kBCIO,IAAMsR,YAAc,QAQZC,EAaAA,EAkEe5J,EACKA,EA6BO6J,EA2GrBA,EA/NpB,GAAM,CAACC,EAAcC,EAAgB,CAAGpO,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3C,CAACqO,EAAeC,EAAiB,CAAGtO,CAAAA,EAAAA,EAAAA,QAAAA,EAA2C,MAC/E,CAACuO,EAAWC,EAAa,CAAGxO,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MACpD,CAAEyO,qBAAAA,CAAoB,CAAEC,kBAAAA,CAAiB,CAAE7D,SAAAA,CAAQ,CAAE,CAAGzP,EACxD6S,EAAuBpD,EAAW6D,EAAoBD,EAEtDE,EAAgBpE,EAAAA,CAAIA,CAACC,GAAG,CAACoE,MAAM,CAAClE,QAAQ,CAC7C,CAAEC,UAAWsD,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAsBvH,IAAI,GAA1BuH,KAAAA,IAAAA,EAAAA,EAA8B,GAAIpD,SAAUA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUC,SAAS,EAAG,EAC/E,CACCC,gBAAiB,GAChB,CAAa,IAATV,GAGG,IAERwE,QAASZ,OAAAA,CACV,GAEKC,EAAqB3D,EAAAA,CAAIA,CAACC,GAAG,CAACsE,mBAAmB,CAACpE,QAAQ,CAAC,CAAEG,SAAUA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUC,SAAS,EAAG,GAC7FiE,EAAexE,EAAAA,CAAIA,CAACC,GAAG,CAACuE,YAAY,CAACrE,QAAQ,CAClD,CAAEC,UAAWsD,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAsBvH,IAAI,GAA1BuH,KAAAA,IAAAA,EAAAA,EAA8B,GAAIpD,SAAUA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUC,SAAS,EAAG,EAC/E,CACC+D,QAASZ,OAAAA,GAAiC,CAAC,CAACU,EAActE,IAAI,EAAI8D,CAAiB,IAAjBA,EAClEa,qBAAsB,GACtBC,eAAgB,GAChBC,mBAAoB,EACrB,GAEK,CAAE7E,KAAM8E,CAAc,CAAE,CAAG5E,EAAAA,CAAIA,CAAC4E,cAAc,CAACzE,QAAQ,CAACvJ,KAAAA,EAAW,CACxE4J,gBAAiB,GAClB,GACMqE,EAAe7E,EAAAA,CAAIA,CAACC,GAAG,CAAC4E,YAAY,CAAClE,WAAW,CAAC,CAAEC,UAAW,IAAMiD,EAAgB,GAAO,GAE3FiB,EAAUlR,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC3BmQ,EAAiB,MACjBF,EAAgB,IAChBI,EAAa,MACbG,EAAcW,MAAM,GACpBP,EAAaO,MAAM,EACpB,EAAG,CAACP,EAAcJ,EAAc,EAE5BY,EAA6B,CAChC9M,QAASrH,EAAM8F,UAAU,CACzBwC,MAAO,OACPD,SAAU,CAACkL,EAActE,IAAI,EAAI8D,CAClC,EACIqB,EAA4B,CAC/B/M,QAASrH,EAAMgG,cAAc,EAGxBqO,EAAiBtR,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACb,MA9CA8P,IA+CrBK,EAAiB,QACjBc,EAAa7D,MAAM,CAAC,CAAEZ,UAAWtG,EAAcqC,IAAI,CAAEmE,SAAUA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUC,SAAS,EAAG,GACtF,EAAG,CAACsE,EAjDkBnB,EAiDWpD,EAAS,EAEtC4C,EAAU,KACd,GAAIsB,EAAa1J,KAAK,EAAI,CAAC8I,EAC1BV,EACC,GAAAhM,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEACZsC,MAxDiB4J,EAwDjB5J,KAAAA,EAAAA,EAAe9F,IAAI,CAAC,oCAEtB,GAAAkD,EAAAC,GAAA,EAACkF,IAAAA,UAAE,+JAIH,GAAAnF,EAAAC,GAAA,EAACkF,IAAAA,UACA,GAAAnF,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CAACC,QAAQ,gBAAgBf,QAAS4M,YACxC,GAAA5N,EAAAC,GAAA,EAACc,OAAAA,UAAK,gBAAkB,IAAC,GAAAf,EAAAC,GAAA,EAACgO,EAAaA,CAAC3N,UAAU,gCAKhD,GAAIgN,EAAaY,UAAU,CACjClC,EACC,GAAAhM,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEACb,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,gCAAgCuB,SAAU,KAAQ,IAAEe,MAzErD4J,EAyEqD5J,KAAAA,EAAAA,EAAe9F,IAAI,CAAC,oCAG5F,GAAAkD,EAAAC,GAAA,EAACkF,IAAAA,UAAE,yDAGC,GAAImI,EAAa1E,IAAI,EAAKsE,EAActE,IAAI,EAAI,CAAC8D,EAAe,CACtE,IAAMyB,EACLvB,QAAAA,GAA2BhK,CAAAA,MAjFP4J,EAiFO5J,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAewH,GAAG,GAAlBxH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoBwL,QAAQ,EACtD,GAAApO,EAAAC,GAAA,EAACqI,YAAWA,CAAC7O,MAAM,oBAAYmJ,MAlFZ4J,EAkFY5J,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAewH,GAAG,GAAlBxH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoBwL,QAAQ,GACxD,KACCC,EACLf,MAAAA,EAAa1E,IAAI,EAAY8E,MAAAA,GAA0BJ,EAAa1E,IAAI,GAAK8E,EAC5E,GAAA1N,EAAAW,IAAA,EAAC2N,EAAAA,CAAcA,CAAAA,CAAC7U,MAAM,6BAAmB,gCACV6T,EAAa1E,IAAI,CAAC,kCAAgC8E,EAAe,mEAG7F,KACL1B,EACC,GAAAhM,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEACb,GAAAN,EAAAC,GAAA,EAACsO,EAAeA,CAACjO,UAAU,wEAAyE,IACnGsC,MA/FiB4J,EA+FjB5J,KAAAA,EAAAA,EAAe9F,IAAI,CAAC,eAErBqR,EACAE,EACD,GAAArO,EAAAW,IAAA,EAACwE,IAAAA,WAAE,8BAC0B,IAC5B,GAAAnF,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CAACC,QAAQ,gBAAgBf,QAAS4M,YACxC,GAAA5N,EAAAC,GAAA,EAACc,OAAAA,UAAK,gBAAkB,IAAC,GAAAf,EAAAC,GAAA,EAACgO,EAAaA,CAAC3N,UAAU,2BAKvD,MAAO,GAAIsM,MAAAA,EAAuB,CACjC,IAAM4B,EAAqB5L,CAAAA,MA5GN4J,EA4GM5J,KAAAA,EAAAA,EAAewH,GAAG,GAAI,KAC3CqE,EAAwB,CAAC7L,CAAAA,MA7GV4J,EA6GU5J,KAAAA,EAAAA,EAAe8L,WAAW,EACnDC,EAAsBzB,EAActE,IAAI,EAAIhG,CAAAA,MA9G7B4J,EA8G6B5J,KAAAA,EAAAA,EAAegM,WAAW,GAAI,KAC1EC,EAAAA,OAAkCpC,CAAAA,EAAAA,EAAmB7D,IAAI,GAAvB6D,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyB/O,MAAM,CACjE0M,EACL,GAAApK,EAAAW,IAAA,EAACmO,GAAAA,IAAIA,CAAAA,CAACxO,UAAU,0CACf,GAAAN,EAAAW,IAAA,EAACoO,GAAAA,EAAUA,CAAAA,WACV,GAAA/O,EAAAC,GAAA,EAAC+O,GAAAA,EAASA,CAAAA,UAAC,8BACX,GAAAhP,EAAAC,GAAA,EAACgP,GAAAA,EAAeA,CAAAA,UAAC,2JAKlB,GAAAjP,EAAAC,GAAA,EAACiP,GAAAA,EAAWA,CAAAA,CAAC5O,UAAU,mCACtB,GAAAN,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRf,QAAS,IAAM6L,EAAiB,OAChC7K,SAAU,CAACwM,EACXlO,UAAU,eACV7G,MAAO+U,EAAqB9O,KAAAA,EAAY,sDAExC,GAAAM,EAAAC,GAAA,EAACmM,GAAQA,CAAC9L,UAAU,WAAW,iCAM7B6O,EACL,GAAAnP,EAAAW,IAAA,EAACmO,GAAAA,IAAIA,CAAAA,CAACxO,UAAU,0CACf,GAAAN,EAAAW,IAAA,EAACoO,GAAAA,EAAUA,CAAAA,WACV,GAAA/O,EAAAC,GAAA,EAAC+O,GAAAA,EAASA,CAAAA,UAAC,qCACX,GAAAhP,EAAAC,GAAA,EAACgP,GAAAA,EAAeA,CAAAA,UAAC,2IAIjB,GAAAjP,EAAAC,GAAA,EAACgP,GAAAA,EAAeA,CAAAA,CAAC3O,UAAU,2BAAkB,uFAI9C,GAAAN,EAAAC,GAAA,EAACiP,GAAAA,EAAWA,CAAAA,CAAC5O,UAAU,mCACtB,GAAAN,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRf,QAAS,IAAM6L,EAAiB,UAChC7K,SAAU,CAACyM,EACXnO,UAAU,iBACV7G,MAAOgV,EAAwB/O,KAAAA,EAAY,0DAE3C,GAAAM,EAAAC,GAAA,EAACoM,GAAWA,CAAC/L,UAAU,WAAW,qCAMhC2E,EACL,GAAAjF,EAAAW,IAAA,EAACmO,GAAAA,IAAIA,CAAAA,CAACxO,UAAU,0CACf,GAAAN,EAAAW,IAAA,EAACoO,GAAAA,EAAUA,CAAAA,WACV,GAAA/O,EAAAW,IAAA,EAACqO,GAAAA,EAASA,CAAAA,CAAC1O,UAAU,oDAA0C,qBAE7D,EAKA,GAAAN,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,OAAOlI,UAAU,gBAAO,gBAJrC,GAAAN,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,SAASlI,UAAU,gBAAO,mBASzC,GAAAN,EAAAC,GAAA,EAACgP,GAAAA,EAAeA,CAAAA,UAAC,0HAKlB,GAAAjP,EAAAC,GAAA,EAACiP,GAAAA,EAAWA,CAAAA,CAAC5O,UAAU,mCACtB,GAAAN,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRf,QAASgN,EACThM,SAAU,CAAC2M,EACXrO,UAAU,iBACV7G,MAAOkV,EAAsBjP,KAAAA,EAAY,oCAEzC,GAAAM,EAAAC,GAAA,EAACoP,GAAAA,CAAGA,CAAAA,CAAC/O,UAAU,WAAW,8BAMxBgP,EACL,GAAAtP,EAAAW,IAAA,EAACmO,GAAAA,IAAIA,CAAAA,CAACxO,UAAU,0CACf,GAAAN,EAAAW,IAAA,EAACoO,GAAAA,EAAUA,CAAAA,WACV,GAAA/O,EAAAW,IAAA,EAACqO,GAAAA,EAASA,CAAAA,CAAC1O,UAAU,oDAA0C,2BAE7D,CAACuO,GACD,GAAA7O,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,SAASlI,UAAU,gBAAO,mBAKzC,GAAAN,EAAAC,GAAA,EAACgP,GAAAA,EAAeA,CAAAA,UAAC,2QAMlB,GAAAjP,EAAAC,GAAA,EAACiP,GAAAA,EAAWA,CAAAA,CAAC5O,UAAU,mCACtB,GAAAN,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRzB,UAAU,iBACV0B,SAAU,CAAC6M,EACXpV,MAAOoV,EAAkCnP,KAAAA,EAAY,mCACrD6P,cAAa,OAAE9C,CAAAA,EAAAA,EAAmB7D,IAAI,GAAvB6D,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBlM,GAAG,CAAC,GAAS,EACpDS,QAAS,KACa,MA5NNwL,IA6NfK,EAAiB,QACjBE,EAAayC,GACb7B,EAAa7D,MAAM,CAAC,CAAEZ,UAAWtG,EAAcqC,IAAI,CAAE6H,UAAW0C,EAAIpG,SAAUA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUC,SAAS,EAAG,GACrG,EACA5P,MAAO+V,CACR,cAEA,GAAAxP,EAAAC,GAAA,EAACqM,GAAYA,CAAChM,UAAU,WAAW,mCAMvC0L,EACC,GAAAhM,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEAAuD,iCACrCsC,MA7Ob4J,EA6Oa5J,KAAAA,EAAAA,EAAe9F,IAAI,CAAC,OAEpD,GAAAkD,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,iEACb2E,EACAmF,EACA+E,EACAG,OAIL,MACC,GAAI1M,MAxPiB4J,EAyPpBR,EACC,GAAAhM,EAAAC,GAAA,EAACY,MAAAA,UACA,GAAAb,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,6CAAoC,wEAMrD,OAAQsM,GACP,IAAK,MACJZ,EAAU,GAAAhM,EAAAC,GAAA,EAAC0I,SAAQA,CAACQ,MAnQFqD,EAmQwB9C,UAAW,IAAMiD,EAAgB,IAAQvD,SAAUA,IAC7F,KACD,KAAK,SACJ4C,EACC,GAAAhM,EAAAC,GAAA,EAAC4K,eAAcA,CAAC1B,MAvQCqD,EAuQqB9C,UAAW,IAAMiD,EAAgB,IAAQvD,SAAUA,IAE1F,KACD,KAAK,OACJ4C,EACC,GAAAhM,EAAAW,IAAA,EAACE,MAAAA,WACA,GAAAb,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,iEAAuD,YAC1DsC,EAAc9F,IAAI,CAC3BgQ,EAAY,OAAiBrI,MAAA,CAAVqI,GAAc,GAAG,SAEtC,GAAA9M,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,8CAAqC,gDACpD,GAAAN,EAAAC,GAAA,EAACgI,eAAcA,CAAE,GAAG0F,CAAY,KAGpC,CAGF,MACC,GAAA3N,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACb,IACD,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAkE3G,EAAMmD,IAAI,GAC1F,GAAAkD,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA2D3G,EAAMkG,WAAW,MAE1F,GAAAG,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,uDACb3G,EAAMqE,QAAQ,CACdgO,QAGH,GAAAhM,EAAAC,GAAA,EAACuB,eAAcA,CAACW,MAAO2L,EAAapM,KAAMqM,MAG7C,4NE/T42C0B,IAAAxR,CAAAA,EAAAwR,IAAA,IAAAxR,EAAAyR,cAAA,qBAAAzR,CAAA,CAAAA,EAAA0R,gBAAA,uBAAA1R,GAA0G,IAAA2R,GAAA,CAAQ,EAAApS,CAAA,CAAA2J,CAAA,EAAS,IAAAlJ,EAAA,IAAAT,EAAAqS,OAAA,EAAqBzV,GAAA+M,EAAA/M,EAAA,CAAA0V,QAAA3I,EAAA2I,OAAA,CAAAC,SAAA5I,EAAA4I,QAAA,EAA8C,CAAE,OAAO,GAAAvS,CAAA,CAAAqS,QAAa,GAAAG,GAAAC,EAAA,EAAEhS,EAAA3D,GAAAA,EAAAwV,OAAA,CAAA/S,OAAA,IAA0B,EAAAS,CAAA,CAAA2J,CAAA,EAAU,IAAAlJ,EAAAT,EAAAqS,OAAA,CAAAK,KAAA,GAAA5V,EAAAkD,EAAAqS,OAAA,CAAAM,SAAA,CAAAC,GAAAA,EAAAhW,EAAA,GAAA+M,EAAA/M,EAAA,EAA8D,OAAAE,KAAAA,EAAAkD,EAAAS,CAAAA,EAAAoS,MAAA,CAAA/V,EAAA,IAAgC,GAAAkD,CAAA,CAAAqS,QAAA5R,CAAA,EAAe,GAAGqS,GAAG,GAAAC,EAAAC,aAAA,EAAC,KAAOF,CAAAA,GAAAG,WAAA,yBAA+N,IAAAC,GAAM,GAAAH,EAAAC,aAAA,EAAC,MAAyO,SAAAG,GAAAnT,CAAA,CAAA2J,CAAA,EAAiB,MAAO,GAAAyJ,GAAAC,CAAA,EAAE1J,EAAA2J,IAAA,CAAAlB,GAAApS,EAAA2J,EAAA,CAA5PuJ,GAAAD,WAAA,4BAA4Q,IAAAM,GAAgB,GAAAC,GAAAC,EAAA,EAAC,SAAA9J,CAAA,CAAAlJ,CAAA,EAAe,IAAA3D,EAAM,GAAA4W,GAAAC,CAAA,IAAC,CAAI/W,GAAAgW,EAAA,yBAA8B9V,EAAE,EAAAmM,MAAA2K,CAAA,CAAAC,aAAAC,CAAA,CAAAxU,KAAAyU,CAAA,CAAA3K,SAAAiK,CAAA,CAAAW,GAAAC,EAAA,CAAAzM,EAAAvH,IAAAuH,IAAAvH,CAAA,CAAAuE,SAAA0P,EAAA,MAAAC,EAAgF,CAAAxK,EAAAyK,EAAK,GAAAC,GAAAC,CAAA,EAAC,iBAAAL,EAAA,CAAAzM,EAAAvH,IAAoC,CAAAuH,MAAAA,EAAA,OAAAA,CAAA,CAARyM,EAAQ,IAAAhU,CAAAA,MAAAA,EAAA,OAAAA,CAAA,CAARgU,EAAQ,EAAoDA,GAAA,CAAAM,EAAAC,EAAA,CAAU,GAAAzB,EAAA0B,UAAA,EAAEtB,GAAA,CAAKd,QAAA,KAAWqC,EAAAH,EAAAlC,OAAA,EAAAsB,EAAAgB,EAAA,CAAoB,GAAAlQ,GAAAmQ,CAAA,IAAE,CAAAC,EAAAC,EAAA,CAAS,GAAAzS,GAAA0S,CAAA,IAAEC,EAAK,GAAAjC,EAAA1R,MAAA,EAAC,MAAA4T,EAAS,GAAAC,GAAAd,CAAA,EAAEY,EAAAvU,GAAA,CAAAC,EAAA5C,EAAA,CAAY,GAAAqX,GAAAC,CAAA,EAAExB,EAAAP,EAAAS,GAAAuB,EAAU,GAAAtC,EAAAuC,OAAA,EAAC,IAAAZ,EAAAhL,IAAA,CAAAlC,GAAA,CAAAA,EAAA+K,QAAA,CAAAhT,OAAA,CAAAiF,QAAA,GAAAkQ,EAAA,EAAAE,EAAoD,GAAA7B,EAAAuC,OAAA,EAAC,IAAAZ,EAAAnN,IAAA,CAAAC,GAAA4M,EAAA5M,EAAA+K,QAAA,CAAAhT,OAAA,CAAA0J,KAAA,CAAAvI,IAAA,CAAAgU,EAAAhU,EAAA,EAAA6U,EAAuD,GAAAlB,GAAAC,CAAA,EAAC9M,IAAK,IAAAgO,EAAM,GAAAtB,GAAAE,EAAA5M,EAAA9G,GAAA,SAAsB,IAAAT,EAAA,MAAAuV,CAAAA,EAAAd,EAAAhL,IAAA,CAAAqL,GAAAX,EAAAW,EAAAxC,QAAA,CAAAhT,OAAA,CAAA0J,KAAA,CAAAzB,GAAA,SAAAgO,EAAAjD,QAAA,CAAAhT,OAAA,CAAmF,MAAAU,CAAAA,MAAAA,IAAAA,EAAAuE,QAAA,GAAA1G,CAAAA,MAAAA,GAAAA,EAAA0J,GAAA,MAAmD,GAAAiO,GAAAC,CAAA,EAAE,CAAEC,UAAAX,EAAAzV,OAAA,CAAAqW,OAAAA,GAA8BpO,UAAAA,EAAAqO,YAAA,SAAAC,WAAAC,aAAA,CAAAvO,EAAAwO,YAAA,SAAAF,WAAAG,WAAA,CAAAH,WAAAI,aAAA,CAAwIC,KAAA3O,CAAA,EAASA,EAAA4O,YAAA,mBAAiC,IAAAC,EAAM,GAAAhC,GAAAC,CAAA,EAAC9M,IAAK,IAAAvH,EAAA+U,EAAAzV,OAAA,CAAgB,IAAAU,EAAA,OAAa,IAAAuV,EAAM,GAAAc,GAAA3M,CAAA,EAAE1J,GAAA8U,EAAAL,EAAA6B,MAAA,CAAA5O,GAAAA,CAAA,IAAAA,EAAA4K,QAAA,CAAAhT,OAAA,CAAAiF,QAAA,EAAAzB,GAAA,CAAA4E,GAAAA,EAAA2K,OAAA,CAAA/S,OAAA,EAA8E,OAAAiI,EAAA/J,GAAA,EAAc,KAAK+Y,GAAAC,CAAC,CAAAC,KAAA,CAAO,GAAAC,GAAAC,CAAA,EAAEpP,EAAAqP,aAAA,EAAkB,KAAM,MAAKL,GAAAC,CAAC,CAAAK,SAAA,MAAgBN,GAAAC,CAAC,CAAAM,OAAA,IAAAvP,EAAAwP,cAAA,GAAAxP,EAAAyP,eAAA,GAAmD,GAAAzE,GAAA0E,EAAA,EAACnC,EAAGvC,GAAA2E,EAAC,CAAAC,QAAA,CAAU5E,GAAA2E,EAAC,CAAAE,UAAA,IAAe7E,GAAA8E,EAAC,CAAAC,OAAA,EAAU,IAAAxZ,EAAA2W,EAAAhL,IAAA,CAAA8N,GAAAA,EAAAlF,OAAA,CAAA/S,OAAA,GAAAiW,CAAAA,MAAAA,EAAA,OAAAA,EAAAiC,aAAA,EAAsE1Z,CAAAA,GAAAwX,EAAAxX,EAAAwU,QAAA,CAAAhT,OAAA,CAAA0J,KAAA,EAA+B,KAAM,MAAKuN,GAAAC,CAAC,CAAAiB,UAAA,MAAiBlB,GAAAC,CAAC,CAAAkB,SAAA,IAAAnQ,EAAAwP,cAAA,GAAAxP,EAAAyP,eAAA,GAAqD,GAAAzE,GAAA0E,EAAA,EAACnC,EAAGvC,GAAA2E,EAAC,CAAAS,IAAA,CAAMpF,GAAA2E,EAAC,CAAAE,UAAA,IAAe7E,GAAA8E,EAAC,CAAAC,OAAA,EAAU,IAAAxZ,EAAA2W,EAAAhL,IAAA,CAAA8N,GAAAA,EAAAlF,OAAA,CAAA/S,OAAA,GAAAiW,CAAAA,MAAAA,EAAA,OAAAA,EAAAiC,aAAA,EAAsE1Z,CAAAA,GAAAwX,EAAAxX,EAAAwU,QAAA,CAAAhT,OAAA,CAAA0J,KAAA,EAA+B,KAAM,MAAKuN,GAAAC,CAAC,CAAAoB,KAAA,EAAQrQ,EAAAwP,cAAA,GAAAxP,EAAAyP,eAAA,GAAuC,IAAAtP,EAAA+M,EAAAhL,IAAA,CAAA3L,GAAAA,EAAAuU,OAAA,CAAA/S,OAAA,GAAAiW,CAAAA,MAAAA,EAAA,OAAAA,EAAAiC,aAAA,EAAsE9P,CAAAA,GAAA4N,EAAA5N,EAAA4K,QAAA,CAAAhT,OAAA,CAAA0J,KAAA,EAA+B,IAAO6O,EAAI,GAAAzD,GAAAC,CAAA,EAAC9M,GAAAgN,CAAAA,EAAA,CAAQlB,KAAA,KAAA9L,CAAA,GAAY,IAAAgN,EAAA,CAASlB,KAAA,EAAA1W,GAAA4K,EAAA5K,EAAA,EAAe,GAAA6Z,EAAM,GAAA1D,EAAAuC,OAAA,EAAC,MAAOrM,MAAAvI,EAAAqX,YAAA1C,EAAA2C,sBAAApD,EAAApQ,SAAA0P,EAAA+D,QAAA7D,EAAA,GAAAG,CAAA,GAAwE,CAAA7T,EAAA2U,EAAAT,EAAAV,EAAAE,EAAAG,EAAA,EAAA2D,EAAmB,GAAAnF,EAAAuC,OAAA,EAAC,MAAO6C,eAAAL,EAAAM,OAAA7C,CAAA,GAA0B,CAAAuC,EAAAvC,EAAA,EAA+F8C,EAAI,GAAAtF,EAAAuC,OAAA,EAAC,MAAOrM,MAAAvI,CAAA,GAAQ,CAAAA,EAAA,EAAA4X,EAAS,GAAAvF,EAAA1R,MAAA,EAAC,MAAAkX,EAAU,GAAAC,GAAAvE,CAAA,IAAK,MAAO,GAAAlB,EAAAvR,SAAA,EAAE,KAAM,EAAAjC,OAAA,EAAAuU,KAAA,IAAAA,GAAAyE,EAAAE,gBAAA,CAAAH,EAAA/Y,OAAA,cAAmEgW,EAAAzB,EAAA,EAAK,EAAE,CAAAwE,EAAA/C,EAAA,EAAQxC,EAAA1W,aAAe,CAAAyY,EAAA,CAAIxV,KAAA,0BAA+ByT,EAAA1W,aAAe,CAAAsY,EAAA,CAAIrV,KAAA,oBAAyByT,EAAA1W,aAAe,CAAA6W,GAAAwF,QAAA,EAAazP,MAAAiP,CAAA,EAASnF,EAAA1W,aAAe,CAAAyW,GAAA4F,QAAA,EAAazP,MAAAwN,CAAA,EAAQ1C,MAAAA,GAAArT,MAAAA,GAAmB,GAAAiW,GAAAlW,CAAA,EAAE,CAAE,CAAAsT,EAAA,CAAArT,CAAA,GAAMqC,GAAA,GAAAyE,EAAAvH,EAAA,CAAAuV,IAAiBzC,EAAA1W,aAAe,CAACsc,GAAAL,CAAE,EAAEM,SAASD,GAAAE,CAAE,CAAAC,MAAA,CAAAnc,IAAA6Y,IAAAA,EAAAT,IAAsB,IAAApN,CAAM2Q,CAAAA,EAAA/Y,OAAA,OAAAoI,CAAAA,EAAAoN,MAAAA,EAAA,OAAAA,EAAAgE,OAAA,UAAApR,EAAA,MAA4D,UAAW,GAAA6L,GAAAwF,EAAA,EAAE,CAAEvb,IAAA+J,EAAAyR,GAAA,QAAA3F,KAAA,QAAA4F,QAAAjZ,MAAAA,EAAAkZ,OAAA,GAAAC,SAAA,GAAA9Z,KAAAkI,EAAAyB,MAAAhJ,CAAA,EAAmF,IAAK,GAAAuT,GAAA6F,EAAA,EAAC,CAAEC,SAAnqB,CAAa3c,IAAAsY,EAAArY,GAAAgW,EAAA/P,KAAA,+BAAA8Q,EAAA,mBAAAkB,EAAA0E,UAAAlD,CAAA,EAAspBmD,WAAArF,EAAAsF,KAAApB,EAAAqB,WAAz7E,MAAy7Epa,KAAA,kBAAiE,GAAQ,IAAAqa,IAAAlZ,CAAAA,EAAAkZ,IAAA,IAAAlZ,EAAAmZ,KAAA,YAAAnZ,CAAA,CAAAA,EAAAoZ,MAAA,aAAApZ,GAAoE,IAA+kCqZ,GAAAxd,OAAAC,MAAA,CAAAgX,GAAA,CAAuBwG,OAAtlC,GAAAvG,GAAAC,EAAA,EAAC,SAAA9J,CAAA,CAAAlJ,CAAA,EAAe,IAAAqX,EAAM,IAAAhb,EAAM,GAAA4W,GAAAC,CAAA,IAAC,CAAI/W,GAAAgW,EAAA,gCAAqC9V,EAAE,EAAAmM,MAAA2K,CAAA,CAAApP,SAAAsP,EAAA,MAAAC,EAA6B,CAAApK,EAAA0J,EAAK,GAAAN,EAAA1R,MAAA,EAAC,MAAA4S,EAAS,GAAAiB,GAAAd,CAAA,EAAEf,EAAA5S,GAAA,CAAAyT,EAAAC,EAAA,CAAY,GAAA1P,GAAAmQ,CAAA,IAAE,CAAAR,EAAAG,EAAA,CAAS,GAAAlS,GAAA0S,CAAA,IAAE,CAAIiF,QAAAxF,CAAA,CAAAyF,WAAAvF,CAAA,CAAAwF,QAAAvG,CAAA,CAAiC,CAACwG,SDAz6JvD,EAAA,GAAM,IAAAjN,EAAAjJ,EAAA,CAAS,GAAAqS,EAAAhS,QAAA,EAAC6V,GAAgG,OAAOoD,QAAjG,GAAAjH,EAAA7T,WAAA,EAACsI,GAAA9G,EAAAgU,GAAAA,EAAAlN,GAAA,CAAAmC,EAAA,EAAgGuQ,QAA3E,GAAAnH,EAAA7T,WAAA,EAACsI,GAAA4S,CAAAA,CAAAzQ,CAAAA,EAAAnC,CAAAA,EAAA,CAAAmC,EAAA,EAA0EsQ,WAAlD,GAAAlH,EAAA7T,WAAA,EAACsI,GAAA9G,EAAAgU,GAAAA,EAAA,CAAAlN,GAAA,CAAA9G,EAAA,EAAiD2Z,WAA3B,GAAAtH,EAAA7T,WAAA,EAACsI,GAAA9G,EAAAgU,GAAAA,EAAAlN,GAAA,CAAA9G,EAAA,CAA0B,GCAozJ,GAAAiU,EAAM,GAAA2F,GAAAjH,CAAA,EAAE,CAAEpK,MAAA2K,EAAApP,SAAAsP,CAAA,GAAmBe,EAAA0F,SAA7vGA,GAAAva,CAAA,EAAe,IAAA2J,EAAM,GAAAoJ,EAAAyH,UAAA,EAAC1H,IAAI,GAAAnJ,OAAAA,EAAA,CAAa,IAAAlJ,EAAA,UAAoBT,EAAA,iDAAG,EAAmD,OAAAya,MAAAC,iBAAA,EAAAD,MAAAC,iBAAA,CAAAja,EAAA8Z,IAAA9Z,CAAA,CAA+D,OAAAkJ,CAAA,EAA6kG,qBAAAmL,EAAA6F,SAA7gGA,GAAA3a,CAAA,EAAe,IAAA2J,EAAM,GAAAoJ,EAAAyH,UAAA,EAACtH,IAAI,GAAAvJ,OAAAA,EAAA,CAAa,IAAAlJ,EAAA,UAAoBT,EAAA,iDAAG,EAAmD,OAAAya,MAAAC,iBAAA,EAAAD,MAAAC,iBAAA,CAAAja,EAAAka,IAAAla,CAAA,CAA+D,OAAAkJ,CAAA,EAA61F,qBAAsD,GAAAiR,GAAApT,CAAA,EAAE,IAAAsN,EAAAqD,cAAA,EAAuBvb,GAAAgW,EAAAN,QAAAe,EAAAd,SAAAoC,CAAA,GAA0B,CAAA/B,EAAAkC,EAAAzB,EAAA1J,EAAA,EAAa,IAAAqL,EAAM,GAAAX,GAAAC,CAAA,EAACmC,IAAK,IAAAyB,EAAM,GAAG,GAAA2C,GAAAC,CAAA,EAAErE,EAAAI,aAAA,SAAAJ,EAAAO,cAAA,EAA4C,CAAAlC,EAAAsD,MAAA,CAAAxE,IAAAY,CAAAA,EAAA,SAAA0D,CAAAA,EAAA7E,EAAA9T,OAAA,GAAA2Y,EAAA6C,KAAA,MAAoD9F,EAAI,GAAAZ,GAAAC,CAAA,EAACmC,IAAK,GAAG,GAAAoE,GAAAC,CAAA,EAAErE,EAAAI,aAAA,SAAAJ,EAAAO,cAAA,GAA4CxC,EAAA,KAAK9T,EAAI,GAAA2T,GAAAC,CAAA,EAAC,IAAAI,EAAA,IAAA5W,EAAA,OAAAga,CAAAA,EAAAjD,EAAAkD,WAAA,SAAAD,EAAAlb,EAAA,IAAAgW,EAAAyC,EAAAR,EAAArQ,QAAA,EAAAsP,EAAAc,EAAAC,EAAAoD,OAAA,CAAApD,EAAA5L,KAAA,CAAA2K,GAAA2B,EAAA,CAAiG5Y,IAAAsX,EAAArX,GAAAgW,EAAA/P,KAAA,uBAAA+R,EAAA,iCAAAV,EAAA,mBAAAE,EAAA,gBAAAiB,EAAAA,GAAA,OAAA2F,SAAA3F,EAAA,GAAAT,GAAA,CAAAC,EAAAmD,qBAAA,EAAAla,EAAA,KAAA0F,QAAA6R,EAAA,OAAAL,EAAAiG,QAAA5F,EAAA,OAAAJ,EAAAiG,OAAA7F,EAAA,OAAA3U,CAAA,EAA+O2V,EAAG,GAAAtD,EAAAuC,OAAA,EAAC,MAAO4D,QAAAtE,EAAApQ,SAAA6Q,EAAA8F,OAAAxH,EAAA,KAAiC,CAAAiB,EAAAS,EAAA1B,EAAA,EAAW,OAAOZ,EAAA1W,aAAe,CAAAkY,EAAA,CAAIjV,KAAA,0BAA+ByT,EAAA1W,aAAe,CAAA8X,EAAA,CAAI7U,KAAA,oBAAyB,GAAAkU,GAAA6F,EAAA,EAAC,CAAEC,SAAA/D,EAAAiE,WAAAzF,EAAA0F,KAAApD,EAAAqD,WAArgC,MAAqgCpa,KAAA,uBAAsE,GAA2B8b,MAAgB3W,GAAA6T,CAAE,CAAA+C,YAAahZ,GAAAvF,CAAE,GCqB15Lwe,aAAe,IAG3B,GAAM,CAACC,EAAUC,EAAY,CAAGza,CAAAA,EAAAA,EAAAA,QAAAA,EAA4B,MACtD,CAAEiI,SAAUyS,CAAS,CAAE,CAAGtf,EAE1B6M,EAAW9J,CAAAA,EAAAA,EAAAA,WAAAA,EAChB,IACqBgD,KAAAA,IAAhB/F,EAAM8M,KAAK,EACduS,EAAYE,GAEbD,MAAAA,GAAAA,EAAYC,EACb,EACA,CAACD,EAAWtf,EAAM8M,KAAK,CAAC,EASzB,MANAzH,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACWU,KAAAA,IAAhB/F,EAAM8M,KAAK,EACduS,EAAYrf,EAAM8M,KAAK,CAEzB,EAAG,CAAC9M,EAAM8M,KAAK,CAAC,EAGf,GAAAzG,EAAAC,GAAA,EAACkZ,GAAUA,CAAC1S,MAAOsS,EAAUnS,SAAUJ,WACtC,GAAAxG,EAAAC,GAAA,EAACsF,EAAAA,CAAMA,CAAC1E,GAAG,EAACP,UAAU,kDACpB3G,EAAMyf,KAAK,CAAC7Y,GAAG,CAAC,CAAC2Y,EAAMzb,IACvB,GAAAuC,EAAAC,GAAA,EAACkZ,GAAW5B,MAAM,EAEjB9Q,MAAOyS,EACP5Y,UAAW,OAAC,CAAEoW,QAAAA,CAAO,CAAEiC,OAAAA,CAAM,CAAE,CAAAU,QAC9B3Y,CAAAA,EAAAA,EAAAA,EAAAA,EACCgW,EAAU,qBAAuB,uCACjC,iJACD,WAGA,OAAC,CAAEiC,OAAAA,CAAM,CAAEjC,QAAAA,CAAO,CAAE,CAAA2C,QACpB,GAAArZ,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,qEACb4Y,EAAKxX,IAAI,EACT,GAAA1B,EAAAC,GAAA,EAACkZ,GAAWN,WAAW,EAACpC,GAAG,MAAMnW,UAAU,gEACzC4Y,EAAKxX,IAAI,GAGZ,GAAA1B,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,wCACd,GAAAN,EAAAC,GAAA,EAACkZ,GAAWP,KAAK,EAChBnC,GAAG,MACHnW,UAAU,0FAET3G,EAAMF,KAAK,CAAGE,EAAMF,KAAK,CAACyf,GAAQA,EAAKpc,IAAI,GAE7C,GAAAkD,EAAAC,GAAA,EAACkZ,GAAWN,WAAW,EACtBpC,GAAG,MACHnW,UAAU,4EAEV,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBAAa4Y,EAAKI,OAAO,WAI1CJ,EAAK/W,KAAK,EACV,GAAAnC,EAAAC,GAAA,EAACkZ,GAAWN,WAAW,EAACpC,GAAG,MAAMnW,UAAU,iEACzC4Y,EAAK/W,KAAK,GAGb,GAAAnC,EAAAC,GAAA,EAACY,MAAAA,CACAP,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACVgW,EAAU,mBAAqB,qBAC/B,8DAED5V,cAAY,WAEZ,GA5CEoY,EAAK9e,EAAE,MAmDlB,kBCnGO,IAAMmf,eAAiB,CAAIC,EAAWC,KAC5C,IAAMC,EAAuC,CAAC,EAU9C,OARAF,EAAKjc,OAAO,CAAC,IACZ,IAAMoc,EAAWF,EAAYG,EACxBF,CAAAA,CAAe,CAACC,EAAS,EAC7BD,CAAAA,CAAe,CAACC,EAAS,CAAG,EAAE,EAE/BD,CAAe,CAACC,EAAS,CAAChc,IAAI,CAACic,EAChC,GAEOF,CACR,ECHAG,GAAgB,GAAAvY,EAAAtG,CAAA,EAAgB,WAChC,SAAaV,EAAA,gBAAAW,IAAA,UAAmC,CAChD,SAAaX,EAAA,eAAAW,IAAA,UAAkC,CAC/C,WAAe6e,GAAA,KAAAC,GAAA,KAAA5S,EAAA,IAAAlM,IAAA,UAA2C,CAC1D,SAAaX,EAAA,iBAAAW,IAAA,UAAoC,CACjD,ECLA+e,GAAe,GAAA1Y,EAAAtG,CAAA,EAAgB,UAC/B,WAAe8e,GAAA,KAAAC,GAAA,KAAA5S,EAAA,IAAAlM,IAAA,UAA2C,CAC1D,SAAaX,EAAA,iBAAAW,IAAA,UAAoC,CACjD,ECAagf,UAA0C,IACtD,GAAM,CAAE7Q,SAAAA,CAAQ,CAAExJ,UAAAA,CAAS,CAAEsa,iBAAAA,CAAgB,CAAElN,qBAAAA,CAAoB,CAAEC,kBAAAA,CAAiB,CAAEpK,gBAAAA,CAAe,CAAEuW,MAAAA,CAAK,CAAE,CAC/Gzf,EAEK,CAACwgB,EAAcC,EAAgB,CAAG/gB,EAAAA,QAAc,CAAgB,MAEhEghB,EAAsB3d,CAAAA,EAAAA,EAAAA,WAAAA,EAC3B,eACoC4d,MADnCA,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAAgDtN,EAChD,OAAOnK,MAAAA,GAA2B,CAACyX,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAcC,WAAW,GAAzBD,KAAAA,IAAAA,EAAAA,EAA6B,GAAKzX,EAAgB2X,mBAAmB,EAEzG,CAACxN,EAAsBnK,EAAgB,EAGlC4X,EAAkBrR,EAAW6D,MAAAA,EAAAA,KAAAA,EAAAA,EAAmByN,QAAQ,CAAG1N,MAAAA,EAAAA,KAAAA,EAAAA,EAAsB0N,QAAQ,CAEzFC,EAAmBpB,eACxBH,EAAMrF,MAAM,CAAC,IACZ,GAAIoG,MAAAA,GAAwBA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAcS,IAAI,MAAO,GACpD,MAAO,GAER,IAAMC,EAAYV,EAAaW,WAAW,GACpCC,EAAqB,CAC1B3K,EAAEjH,KAAK,CAACrM,IAAI,CAACge,WAAW,GACxB1K,EAAEjH,KAAK,CAACyC,YAAY,CAACkP,WAAW,MAC7B1K,EAAEjH,KAAK,CAAC6R,cAAc,CAACza,GAAG,CAAC,GAAO0a,EAAEC,QAAQ,OAC3C9K,EAAEjH,KAAK,CAACgS,iBAAiB,CAC1BrhB,OAAOshB,MAAM,CAAChL,EAAEjH,KAAK,CAACgS,iBAAiB,EAAE5a,GAAG,CAAC,GAAO0a,EAAEC,QAAQ,GAAGJ,WAAW,IAC5E,EAAE,CACL1K,EAAEjH,KAAK,CAACyF,WAAW,EAAI,CAACwB,EAAEjH,KAAK,CAACkS,gBAAgB,CAAG,qBAAuB,kBAC1EjL,EAAEjH,KAAK,CAACgS,iBAAiB,CAAG,qBAAuB,cACnD,CACD,OAAON,EAAUS,KAAK,CAAC,KAAKC,KAAK,CAAC,GAAQR,EAAmBhW,IAAI,CAAC,GAAO8N,EAAEvO,QAAQ,CAACkX,IAAOA,EAAGlX,QAAQ,CAACuO,IACxG,GACA,GAAUqG,EAAK/P,KAAK,CAACyC,YAAY,EAG9BI,EAAUlS,OAAOuN,IAAI,CAACsT,GACxBc,IAAI,CAAC,CAACvJ,EAAGE,IAAMuI,CAAgB,CAACvI,EAAE,CAAC1U,MAAM,CAAGid,CAAgB,CAACzI,EAAE,CAACxU,MAAM,EACtE6C,GAAG,CAAC,GACJ,GAAAP,EAAAW,IAAA,EAACE,MAAAA,CAAmBP,UAAU,iBAC7B,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,+DAAuDqZ,IACrE,GAAA3Z,EAAAW,IAAA,EAACwE,IAAAA,CAAE7E,UAAU,gFAAsE,yBAC3DqZ,KAExB,GAAA3Z,EAAAC,GAAA,EAAC6Y,aAAYA,CACZM,MAAOuB,CAAgB,CAAChB,EAAS,CACjClT,MAAO2S,EAAMlS,IAAI,CAAC,QAAiBkC,SAAVgH,EAAEhW,EAAE,WAAMgP,CAAAA,EAAAA,EAAW6D,EAAoBD,CAAAA,GAA/B5D,KAAAA,IAAAA,EAAAA,KAAAA,EAADsS,EAAuDthB,EAAE,IAC3FoM,SAAU0T,MARFP,IAaR7L,EAA6B,CAChC9M,QAASrH,EAAM8F,UAAU,CACzBwC,MAAO,OACPD,SAAU,EACX,EACI+L,EAA4B,CAC/B/M,QAASrH,EAAMgG,cAAc,EAGxByC,EAAO1F,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACxBkD,MAAAA,GAAAA,GACD,EAAG,CAACA,EAAU,EAEV+b,EACH,CAACvS,GAAa,CAACiR,KAA0BI,CAAAA,GAAoB7a,GAAawC,EACvE,CACApB,QAASoB,EACTH,MAAO,MACR,EACCvC,KAAAA,EAYJ,MATC0J,CAAAA,CAAAA,GAAc,KAA0B6D,MAAAA,CAAwB,GAC/D,IAAaD,MAAAA,CAAwB,GAEtCc,CAAAA,EAAc,CACb9M,QAASrH,EAAM8F,UAAU,CACzBwC,MAAO,MACR,GAIA,GAAAjC,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACb,IACD,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,yEACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,mBACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAkE3G,EAAMmD,IAAI,GAC1F,GAAAkD,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA2D3G,EAAMkG,WAAW,MAE1F,GAAAG,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oCACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,UACCuI,GAAYA,EAASwS,aAAa,KAAOzX,EAAAA,EAAWA,CAAC7I,CAAC,EAAI2R,MAAAA,GAC1D,GAAAjN,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACd,QAAS,IAAMkZ,EAAiB,MAAOnY,QAAQ,kBAAS,sBAKlE,GAAA/B,EAAAC,GAAA,EAACuB,eAAcA,CAACW,MAAO2L,EAAa1L,KAAMuZ,EAAYtZ,QAAS,WAGjE,GAAArC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,qEAA4D,kBAC1E,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAC,GAAA,EAAC4b,GAAAA,CAAKA,CAAAA,CACLC,YAAY,mBACZrV,MAAO0T,MAAAA,EAAAA,EAAgB,GACvBvT,SAAU,GAAWwT,EAAgB2B,EAAMC,MAAM,CAACvV,KAAK,EACvDnG,UAAU,yBAEV6Z,MAAAA,GAAwBA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAcS,IAAI,KAAM,GAChD,GAAA5a,EAAAC,GAAA,EAAC4Z,GAAOA,CACP7Y,QAAS,KACRoZ,EAAgB,KACjB,EACA9Z,UAAU,sFAGX,GAAAN,EAAAC,GAAA,EAAC+Z,GAAMA,CAAC1Z,UAAU,yDAIrB,GAAAN,EAAAW,IAAA,EAACyE,EAAAA,CAAiBA,CAAAA,CAAC6W,mBAAmB,4BACpCtiB,EAAMqE,QAAQ,CACdgO,QAGH,GAAAhM,EAAAC,GAAA,EAACuB,eAAcA,CAACW,MAAO2L,EAAapM,KAAMqM,EAAY3L,KAAMuZ,MAG/D,wCChJA;;;;;CAKA,EAIA,IAAAO,GAAY,GAAA5a,EAAAtG,CAAA,EAAgB,OAC5B,WAAe8e,GAAA,KAAAC,GAAA,IAAA5S,EAAA,IAAAlM,IAAA,UAA0C,CACzD,WAAe6e,GAAA,IAAAC,GAAA,KAAA5S,EAAA,IAAAlM,IAAA,UAA0C,CACzD,SAAaX,EAAA,iBAAAW,IAAA,UAAoC,CACjD,SAAaX,EAAA,iBAAAW,IAAA,UAAoC,CACjD,SAAaX,EAAA,sBAAAW,IAAA,UAAyC,CACtD,SAAaX,EAAA,qBAAAW,IAAA,UAAwC,CACrD,SAAaX,EAAA,sBAAAW,IAAA,UAAyC,CACtD,ECRAkhB,GAAe,GAAA7a,EAAAtG,CAAA,EAAgB,UAC/B,SAAaV,EAAA,0DAAAW,IAAA,UAA6E,CAC1F,SAAaX,EAAA,+CAAAW,IAAA,UAAkE,CAC/E,CACA,OACA,CACAX,EAAA,2GACAW,IAAA,QACA,EACA,CACA,SAAaX,EAAA,aAAAW,IAAA,UAAgC,CAC7C,ECiBMmhB,GAAyC,CAC9C,CACChiB,GAAI,KACJ0C,KAAM,GACL,QAAsG2H,MAAA,CAA9F3E,EAAYsJ,QAAQ,CAAG,GAAyC3E,MAAA,CAAtC3E,EAAYsJ,QAAQ,CAACiT,cAAc,GAAG,cAAc,iBACvFxc,YAAa,GACZ,YAIC4E,MAAA,CAHA3E,EAAYsJ,QAAQ,CACjB,iBAAuD3E,MAAA,CAAtC3E,EAAYsJ,QAAQ,CAACkT,cAAc,GAAG,0DACvD,6DAEL1f,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAACogB,UAASA,CAAE,GAAGna,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EAChF,EACA,CACCb,GAAI,KACJ0C,KAAM,GACL,GAAiG2H,MAAA,CAA9F3E,EAAYsJ,QAAQ,CAAG,GAAyC3E,MAAA,CAAtC3E,EAAYsJ,QAAQ,CAACiT,cAAc,GAAG,cAAc,gBAAgB,aAClGxc,YAAa,GACZ,kBAEC4E,MAAA,CADA3E,EAAYsJ,QAAQ,CAAG,iBAAuD3E,MAAA,CAAtC3E,EAAYsJ,QAAQ,CAACkT,cAAc,IAAO,gBAClF,+BACF1f,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAAC0S,YAAWA,CAAE,GAAGzM,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EAClF,EACA,CAEYuhB,eAAyD,QAsBxCC,EACHA,EATlB5Z,EAA8CA,EAQzB4Z,EACHA,EAtB1B,GAAM,CACL5Z,gBAAAA,CAAe,CACfD,cAAe8Z,CAAa,CAC5BxC,iBAAkByC,CAAgB,CAClC,CAAGnZ,CAAAA,EAAAA,EAAAA,uBAAAA,IACE,CAAE4F,SAAAA,CAAQ,CAAEwT,YAAAA,CAAW,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,EAAAA,EAAyBljB,EAAMsM,UAAU,CAAE,IAEvEwW,EAAc3T,EAAAA,CAAIA,CAACC,GAAG,CAAC+T,MAAM,CAAC7T,QAAQ,CAC3C,CACC8T,aAAc,CACbvC,oBACCpR,MAAAA,EACG1J,KAAAA,EACA,CAACmD,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiB2X,mBAAmB,GAApC3X,KAAAA,IAAAA,EAAAA,EAAwC,GAAMA,CAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBoE,QAAQ,CAACpB,SAAS,CAACnI,MAAM,GAA1CmF,KAAAA,IAAAA,EAAAA,EAA8C,EAClG,EACAuG,SAAUA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUC,SAAS,GAC7BiR,aAAcoC,MAAAA,EAAAA,KAAAA,EAAAA,EAAetiB,EAAE,EAEhC,CAAE4iB,iBAAkB,EAAK,GAGpBhQ,EAAuByP,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAY7T,IAAI,GAAhB6T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkBvV,IAAI,CAAC,GAAOkJ,EAAEhW,EAAE,EAAIsiB,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAetiB,EAAE,KAAvDqiB,KAAAA,IAAAA,EAAAA,EAA4D,KACnFxP,EAAoBwP,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAY7T,IAAI,GAAhB6T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkBvV,IAAI,CAAC,QAAekC,SAARgH,EAAEhW,EAAE,EAAIgP,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAU6T,YAAY,KAAtB7T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA0BhP,EAAE,MAAlEqiB,KAAAA,IAAAA,EAAAA,EAAuE,KAE3FpC,EAAsB3d,CAAAA,EAAAA,EAAAA,WAAAA,EAC3B,eACoC4d,MADnCA,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAAgDtN,EAChD,OAAOnK,MAAAA,GAA2B,CAACyX,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAcC,WAAW,GAAzBD,KAAAA,IAAAA,EAAAA,EAA6B,GAAKzX,EAAgB2X,mBAAmB,EAEzG,CAACxN,EAAsBnK,EAAgB,EAGlCuW,EAA2BtG,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACxC,EAAgB3K,OAAO,EAAIsU,MAAAA,EAAY7T,IAAI,CAAiB,EAAE,CACvD6T,EAAY7T,IAAI,CACrBmL,MAAM,CAAC,GAAO3B,EAAE1D,WAAW,EAAKtF,CAAAA,MAAAA,GAA0B,OAC1D7I,GAAG,CAAC,IACJ,IAAI2c,EAAoB,GACxB,GAAI9K,EAAE+I,iBAAiB,EAAIrhB,OAAOuN,IAAI,CAAC+K,EAAE+I,iBAAiB,EAAEzd,MAAM,CAAE,CACnE,IAAMyd,EAAoBrhB,OAAOqjB,OAAO,CAAC/K,EAAE+I,iBAAiB,EAAE7T,MAAM,CACnE,CAACC,EAAAA,SACe6V,KADV,CAACniB,EAAKoiB,EAAI,CAAAhE,EACTiE,EAAAA,OAASF,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBC,EAAAA,GAAlBD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAwB3jB,KAAK,QACvC6jB,IAGc,MAAf/V,CAAG,CAAC+V,EAAO,EACd/V,CAAAA,CAAG,CAAC+V,EAAO,CAAG,GAEf/V,CAAG,CAAC+V,EAAO,EAAI,GALP/V,CAOT,EACA,CAAC,GAEIgW,EAAiBzjB,OAAOqjB,OAAO,CAAChC,GAAmB5a,GAAG,CAC3D,OAAC,CAACtF,EAAKoiB,EAAI,CAAAhE,QAAK,GAAuCpe,MAAAA,CAApCoiB,GAAAA,EAAW,KAAOA,EAAI,gBAA2BA,MAAAA,CAAbpiB,EAAI,WAA4BwJ,MAAA,CAAnB4Y,EAAM,EAAI,IAAM,GAAG,GAExFH,EAAmB,KAClBK,MAAAA,CADuBnL,EAAE1D,WAAW,CAAG,aAAe,gBAAgB,UAInE0D,MAAAA,CAHHmL,EAAe7f,MAAM,CAAG,EACrB6f,EAAerN,KAAK,CAAC,EAAG,IAAIsN,IAAI,CAAC,MAAQ,QAAUD,CAAc,CAACA,EAAe7f,MAAM,CAAG,EAAE,CAC5F6f,EAAeC,IAAI,CAAC,IACvB,KAAmI/Y,MAAA,CAAhI2N,EAAEmI,WAAW,CAAGzgB,OAAOuN,IAAI,CAAC+K,EAAE+I,iBAAiB,EAAEzd,MAAM,CAAG,IAAiC0U,MAAAA,CAA7BA,EAAEmI,WAAW,CAAC,iBAA4C9V,MAAA,CAA7B2N,EAAEmI,WAAW,CAAG,EAAI,IAAM,GAAG,KAAM,GAAE,OACrI,MACC2C,EAAmB,GAA2B9K,MAAAA,CAAxBA,EAAEmI,WAAW,CAAC,YAAyD9V,MAAA,CAA/C2N,EAAE1D,WAAW,CAAG,aAAe,gBAAgB,SAE9FwO,GAAoB,IAAgGzY,MAAA,CAA5F2N,EAAExD,WAAW,EAAI,CAACwD,EAAEiJ,gBAAgB,CAAG,iCAAmC,kBAAkB,KACpH,IAAMoC,EACLrL,EAAE4I,cAAc,CAACtd,MAAM,CAAG,EACvB,GAAqD0U,MAAAA,CAAlDA,EAAE4I,cAAc,CAAC9K,KAAK,CAAC,EAAG,IAAIsN,IAAI,CAAC,OAAO,UAAsD/Y,MAAA,CAA9C2N,EAAE4I,cAAc,CAAC5I,EAAE4I,cAAc,CAACtd,MAAM,CAAG,EAAE,CAAC,KACnG,GAAuB+G,MAAA,CAApB2N,EAAE4I,cAAc,CAAC,EAAE,CAAC,KACvB5I,CAAAA,EAAE4I,cAAc,CAACtd,MAAM,CAAG,GAAK0U,IAAAA,EAAE4I,cAAc,CAAC,EAAE,GAErDkC,CAAAA,GAAoB,iCAA4C9K,MAAAA,CAAXqL,GAAwFhZ,MAAA,CAA7E2N,EAAE4I,cAAc,CAACtd,MAAM,CAAG,EAAI,0CAA4C,GAAG,MAG9I,IAAMggB,EAActL,EAAEuL,kBAAkB,CACrC,oCAAsCzT,mBAAmBkI,EAAEhY,EAAE,EAC7D,wCACH,MAAO,CACNA,GAAIgY,EAAEhY,EAAE,CACR+O,MAAOiJ,EACPtV,KACC,GAAAkD,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,uBACZ8R,EAAEtV,IAAI,CACN,CAACsM,GAAYiR,EAAoBjI,IACjC,GAAApS,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,SAASoV,KAAK,cAAK,0BAMnCtE,QACC,GAAAtZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,qCACd,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,4EAAoE4c,IACjF,GAAAld,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,4BACd,GAAAN,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAO4J,EAAEsI,QAAQ,CAAG,OAAS,OAAQkD,KAAK,cAChD,GAAA5d,EAAAC,GAAA,EAACic,GAAGA,CAAC5b,UAAU,cAEhB,GAAAN,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CACLwO,KAAK,KACLpV,MAAO4J,EAAExD,WAAW,EAAI,CAACwD,EAAEiJ,gBAAgB,CAAG,OAAS,OACvD5hB,MAAM,8BAEL2Y,EAAExD,WAAW,EAAI,CAACwD,EAAEiJ,gBAAgB,CAAG,GAAArb,EAAAC,GAAA,EAACoP,GAAAA,CAAGA,CAAAA,CAAC/O,UAAU,YAAe,GAAAN,EAAAC,GAAA,EAACkc,GAAMA,CAAC7b,UAAU,cAEzF,GAAAN,EAAAW,IAAA,EAACyO,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,OAAOoV,KAAK,KAAKtd,UAAU,wBACvC,GAAAN,EAAAC,GAAA,EAACoM,GAAWA,CAAC/L,UAAU,YACtB8R,EAAEmI,WAAW,UAKlBpY,MACC,GAAAnC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,oBACd,GAAAN,EAAAC,GAAA,EAAC4d,KAAKA,CACLnT,IAAKgT,EACLpd,UAAU,qDACVlF,MAAO,IACPC,OAAQ,IACRsP,IAAK,GAAqByH,MAAAA,CAAlBA,EAAExG,YAAY,CAAC,KAAUnH,MAAA,CAAP2N,EAAEtV,IAAI,KAIpC,CACD,GACC,CAAC2f,EAAYtU,OAAO,CAAEsU,EAAY7T,IAAI,CAAEQ,EAAUiR,EAAoB,EAEnEH,EAAmBxd,CAAAA,EAAAA,EAAAA,WAAAA,EACxB,IACK0M,EACHwT,EAAY,CACX,GAAGxT,EAAS0U,SAAS,EAAE,CACvBC,UAAWC,MAAAA,EAAmB,KAAOC,EAAAA,EAASA,CAACC,KAAK,CAACF,EAAS7U,KAAK,CACpE,GACsB,MAAZ6U,GACVrB,EAAiBwB,EAAAA,EAAKA,CAACD,KAAK,CAACF,EAAS7U,KAAK,EAE7C,EACA,CAACwT,EAAkBC,EAAaxT,EAAS,EAGpC7J,EAAmC,CACxCyN,qBAAAA,EACAC,kBAAAA,EACAmM,MAAAA,EACAc,iBAAAA,EACArX,gBAAAA,EACAuG,SAAAA,CACD,EACM,CAAEzK,YAAAA,CAAW,CAAEmB,YAAAA,CAAW,CAAE,CAAG3B,SAAyB,CAC7DO,MAAO0d,GACP5c,kBAAmB7F,EACnB4F,iBAAkBA,CACnB,GAEA,OAAOZ,EAAY4d,YAAY,CAAC,CAC/B,GAAGzc,CAAW,CACd,GAAGP,CAAgB,CACnBvB,SAAU,GAAAgC,EAAAC,GAAA,EAACme,EAAAA,CAAWA,CAAAA,CAAE,GAAG3B,CAAW,EACvC,EACD,kBC/LO,IAAM4B,wBAA0B,IAMtC,GAAM,CAACtF,EAAUC,EAAY,CAAGza,CAAAA,EAAAA,EAAAA,QAAAA,EAA0C,MACpE,CAAC+f,EAAgBC,EAAkB,CAAGhgB,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MAC9DigB,EAAc3f,CAAAA,EAAAA,EAAAA,MAAAA,EAAO,CAAEka,SAAAA,EAAUuF,eAAAA,CAAe,GAChD,CAAE9X,SAAUyS,CAAS,CAAE,CAAGtf,EAC1B,CAAC8kB,EAAO,CAAGC,CAAAA,EAAAA,GAAAA,CAAAA,IAEXlY,EAAW9J,CAAAA,EAAAA,EAAAA,WAAAA,EAChB,IAEC,GAAI8hB,EAAYzhB,OAAO,CAACgc,QAAQ,GAAKG,EAAM,KAQLA,EACnBA,EALEA,EAAAA,EAIiBA,EACnBA,CARExZ,MAAAA,IAAhB/F,EAAM8M,KAAK,GACduS,EAAYE,GACcxZ,KAAAA,IAAtB/F,EAAMglB,WAAW,EACpBJ,EAAkBrF,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAKrJ,OAAO,GAAZqJ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAc,CAAC,EAAE,GAAjBA,KAAAA,IAAAA,EAAAA,EAAqB,OAGzCsF,EAAYzhB,OAAO,CAACgc,QAAQ,CAAGG,EAC/BsF,EAAYzhB,OAAO,CAACuhB,cAAc,CAAGpF,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAKrJ,OAAO,GAAZqJ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAc,CAAC,EAAE,GAAjBA,KAAAA,IAAAA,EAAAA,EAAqB,KAC1DD,MAAAA,GAAAA,EAAYC,EAAMA,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAKrJ,OAAO,GAAZqJ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAc,CAAC,EAAE,GAAjBA,KAAAA,IAAAA,EAAAA,EAAqB,KACxC,CACD,EACA,CAACD,EAAWtf,EAAM8M,KAAK,CAAE9M,EAAMglB,WAAW,CAAC,EAGtCC,EAAiBliB,CAAAA,EAAAA,EAAAA,WAAAA,EACtB,CAACwc,EAAkB2F,KACEnf,KAAAA,IAAhB/F,EAAM8M,KAAK,GACduS,EAAYE,GACZqF,EAAkBM,IAEnBL,EAAYzhB,OAAO,CAACgc,QAAQ,CAAGG,EAC/BsF,EAAYzhB,OAAO,CAACuhB,cAAc,CAAGO,EACrC5F,MAAAA,GAAAA,EAAYC,EAAM2F,EACnB,EACA,CAAC5F,EAAWtf,EAAM8M,KAAK,CAAC,EAYzB,MATAzH,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACWU,KAAAA,IAAhB/F,EAAM8M,KAAK,EAAkB9M,EAAM8M,KAAK,GAAK+X,EAAYzhB,OAAO,CAACgc,QAAQ,EAC5EC,EAAYrf,EAAM8M,KAAK,EAEE/G,KAAAA,IAAtB/F,EAAMglB,WAAW,EAAkBhlB,EAAMglB,WAAW,GAAKH,EAAYzhB,OAAO,CAACuhB,cAAc,EAC9FC,EAAkB5kB,EAAMglB,WAAW,CAErC,EAAG,CAAChlB,EAAM8M,KAAK,CAAE9M,EAAMglB,WAAW,CAAC,EAGlC,GAAA3e,EAAAC,GAAA,EAACkZ,GAAUA,CAAC1S,MAAOsS,EAAUnS,SAAUJ,WACtC,GAAAxG,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,wCAAwCnG,IAAKskB,WAC1D9kB,EAAMyf,KAAK,CAAC7Y,GAAG,CAAC,CAAC2Y,EAAMzb,IACvB,GAAAuC,EAAAC,GAAA,EAACkZ,GAAW5B,MAAM,EAEjB9Q,MAAOyS,EACP5Y,UAAW,OAAC,CAAEoW,QAAAA,CAAO,CAAEiC,OAAAA,CAAM,CAAE,CAAAU,QAC9B3Y,CAAAA,EAAAA,EAAAA,EAAAA,EACCgW,EAAU,qBAAuB,uCACjC,kJACD,WAGA,OAAC,CAAEiC,OAAAA,CAAM,CAAEjC,QAAAA,CAAO,CAAE,CAAA2C,QACpB,GAAArZ,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,4DACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,iCACd,GAAAN,EAAAC,GAAA,EAACkZ,GAAWP,KAAK,EAACnC,GAAG,IAAInW,UAAU,8DACjC4Y,EAAKpc,IAAI,GAEX,GAAAkD,EAAAC,GAAA,EAACkZ,GAAWN,WAAW,EACtBpC,GAAG,MACHnW,UAAU,4EAEV,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBAAa4Y,EAAKI,OAAO,KAExCJ,MAAAA,EAAKrJ,OAAO,EACZ,GAAA7P,EAAAW,IAAA,EAACwY,GAAUA,CACV1S,MAAOsS,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAU3e,EAAE,IAAK8e,EAAK9e,EAAE,CAAGkkB,EAAiB,KACnD1X,SAAU,GAAoBgY,EAAe1F,EAAM2F,GACnDve,UAAU,wBAEV,GAAAN,EAAAC,GAAA,EAACkZ,GAAWP,KAAK,EAACtY,UAAU,mBAAU,2BACtC,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,kDACb4Y,EAAKrJ,OAAO,CAACtP,GAAG,CAAC,GACjB,GAAAP,EAAAC,GAAA,EAACkZ,GAAW5B,MAAM,EAEjB9Q,MAAOoY,EACPve,UAAW,OAAC,CAAEqY,OAAAA,CAAM,CAAEjC,QAAAA,CAAO,CAAE,CAAA2C,QAC9BnY,CAAAA,EAAAA,EAAAA,EAAAA,EACCyX,GAAUjC,EAAU,SAAW,SAC/B,oIACAoI,CAAAA,EAAAA,GAAAA,EAAAA,EAA0B,CAAEtW,MAAOkO,EAAU,QAAU,MAAO,GAC9DqI,CAAAA,EAAAA,GAAAA,EAAAA,EAAsB,CAAEvW,MAAOmQ,GAAUjC,EAAU,QAAU,MAAO,GACpEsI,CAAAA,EAAAA,GAAAA,EAAAA,EAAoB,CAAExW,MAAOmQ,GAAUjC,EAAU,QAAU,MAAO,GAClEiC,GAAUjC,EAAU,GAAK,4BAC1B,WAGD,GAAA1W,EAAAC,GAAA,EAACkZ,GAAWP,KAAK,EAACnC,GAAG,gBAAQoI,EAAO/hB,IAAI,IAbnC+hB,EAAO/hB,IAAI,WAoBtB,GAAAkD,EAAAC,GAAA,EAACkZ,GAAWN,WAAW,EAACpC,GAAG,MAAMnW,UAAU,+DACzC4Y,EAAK/W,KAAK,MAGb,GAAAnC,EAAAC,GAAA,EAACY,MAAAA,CACAP,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACVgW,EAAU,mBAAqB,qBAC/B,8DAED5V,cAAY,WAEZ,GA/DEoY,EAAK9e,EAAE,MAsElB,EC1Ja6kB,cAET,GACH,EAAUC,WAAW,CAACxhB,MAAM,CAAG,GAAK/D,EAAMwlB,UAAU,CAElD,GAAAnf,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,CAAC/E,UAAU,gBACtB3G,EAAMulB,WAAW,CAAC3e,GAAG,CAAC,GACtB,GAAAP,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,gBACb0E,GADyBA,MAO3B,EAAOkG,OAAO,EAAIvR,IAAAA,EAAMulB,WAAW,CAACxhB,MAAM,CAOvC,GAAAsC,EAAAC,GAAA,EAACmF,EAAAA,CAAiBA,CAAAA,UAAEzL,EAAMqE,QAAQ,GALvC,GAAAgC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,4DACd,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,gCCtBZ;;;;;CAKA,EAIA,IAAAwd,GAAoB,GAAA9d,EAAAtG,CAAA,EAAgB,eACpC,CACA,OACA,CACAV,EAAA,qKACAW,IAAA,QACA,EACA,CACA,SAAaX,EAAA,gBAAAW,IAAA,UAAmC,CAChD,ECwBaokB,iBAA8C,QAuEpBC,EA0GDC,EA2C4FC,EAtJhIpG,EArED,IAAMmG,EAAezW,EAAAA,CAAIA,CAAC2W,OAAO,CAACC,QAAQ,CAACzW,QAAQ,GAC7C0W,EAAa7W,EAAAA,CAAIA,CAACC,GAAG,CAAC+T,MAAM,CAAC7T,QAAQ,CAAC,CAAC,GACvC2W,EAAyB9W,EAAAA,CAAIA,CAAC2W,OAAO,CAACI,cAAc,CAAC5W,QAAQ,GAC7DpG,EAAkBid,CAAAA,EAAAA,EAAAA,EAAAA,EAAeC,GAAAA,EAAoBA,EACrDC,EAAwBF,CAAAA,EAAAA,EAAAA,EAAAA,EAAeG,GAAAA,EAAgBA,EAEvD7G,EAAQmG,EAAa3W,IAAI,CAC3B2W,EAAa3W,IAAI,CACjBsH,KAAK,GACL6D,MAAM,CAAC,GAAO5O,YAAAA,EAAEyG,YAAY,EAC5B6P,IAAI,CAAC,CAACvJ,EAAGE,SAAMF,EAAAA,SAAAA,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAEgO,WAAW,GAAbhO,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAeiO,aAAa,CAAC/N,EAAEtV,IAAI,IAAnCoV,KAAAA,IAAAA,EAAAA,EAAwCA,EAAEpV,IAAI,CAACqjB,aAAa,CAAC/N,EAAEtV,IAAI,IAClFyD,GAAG,CAAC,IACJ,IAAM6f,EAAgB,aAAelW,mBAAmB/E,EAAE/K,EAAE,EAC5D,MAAO,CACNA,GAAI+K,EAAE/K,EAAE,CACR0C,KAAM,GAAqBqI,MAAAA,CAAlBA,EAAEyG,YAAY,CAAC,KAAUnH,MAAA,CAAPU,EAAErI,IAAI,EACjCwc,QAASnU,EAAEtF,WAAW,CACtB4f,QAASta,EACThD,MACC,GAAAnC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,oBACd,GAAAN,EAAAC,GAAA,EAAC4d,KAAKA,CACLnT,IAAK,gCAAkC0V,EACvC9f,UAAU,qDACVlF,MAAO,IACPC,OAAQ,IACRsP,IAAK,GAAqBxF,MAAAA,CAAlBA,EAAEyG,YAAY,CAAC,KAAUnH,MAAA,CAAPU,EAAErI,IAAI,MAInC+S,QACC/V,OAAOshB,MAAM,CAACjW,EAAEkb,KAAK,EAAE3iB,MAAM,CAAG,EAC7B5D,OAAOqjB,OAAO,CAAChY,EAAEkb,KAAK,EAAE9f,GAAG,CAAC,OAAC,CAACtF,EAAKqlB,EAAO,CAAAjH,QAAM,CAAEjf,GAAIa,EAAK6B,KAAM7B,EAAM,GAAIqlB,OAAAA,CAAO,IAClF5gB,KAAAA,CACL,CACD,GACA,EAAE,CAEC6gB,EAAqBhB,EAAa3W,IAAI,CACxC2W,EAAa3W,IAAI,CACjBsH,KAAK,GACL6D,MAAM,CAAC,GAAO5O,YAAAA,EAAEyG,YAAY,EAC5B6P,IAAI,CAAC,CAACvJ,EAAGE,IAAM,CAACF,EAAEtG,YAAY,CAAGsG,EAAEpV,IAAI,EAAEqjB,aAAa,CAAC/N,EAAExG,YAAY,CAAGwG,EAAEtV,IAAI,GAC9EyD,GAAG,CAAC,IACJ,IAAM6f,EAAgB,aAAelW,mBAAmB/E,EAAE/K,EAAE,EAC5D,MAAO,CACNA,GAAI+K,EAAE/K,EAAE,CACR0C,KAAM,GAAqBqI,MAAAA,CAAlBA,EAAEyG,YAAY,CAAC,KAAUnH,MAAA,CAAPU,EAAErI,IAAI,EACjCwc,QAASnU,EAAEtF,WAAW,CACtB4f,QAASta,EACThD,MACC,GAAAnC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,oBACd,GAAAN,EAAAC,GAAA,EAAC4d,KAAKA,CACLnT,IAAK,gCAAkC0V,EACvC9f,UAAU,qDACVlF,MAAO,IACPC,OAAQ,IACRsP,IAAK,GAAqBxF,MAAAA,CAAlBA,EAAEyG,YAAY,CAAC,KAAUnH,MAAA,CAAPU,EAAErI,IAAI,MAInC+S,QACC/V,OAAOshB,MAAM,CAACjW,EAAEkb,KAAK,EAAE3iB,MAAM,CAAG,EAC7B5D,OAAOqjB,OAAO,CAAChY,EAAEkb,KAAK,EAAE9f,GAAG,CAAC,OAAC,CAACtF,EAAKqlB,EAAO,CAAAjH,QAAM,CAAEjf,GAAIa,EAAK6B,KAAM7B,EAAM,GAAIqlB,OAAAA,CAAO,IAClF5gB,KAAAA,CACL,CACD,GACA,EAAE,CAEC4f,EACLlG,OAAAA,CAAAA,EAAAA,EAAMlS,IAAI,CAAC,GAAOkJ,EAAEhW,EAAE,GAAKyI,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBzI,EAAE,KAA9Cgf,KAAAA,IAAAA,EAAAA,EAAmDmH,EAAmBrZ,IAAI,CAAC,GAAOkJ,EAAEhW,EAAE,GAAKyI,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBzI,EAAE,GACzGomB,EAAgClB,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAczP,OAAO,GAArByP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAuBpY,IAAI,CAAC,GACjE,UAAI,OAAO8Y,GAAsC,iBAAOA,EAEtDA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAuB1kB,CAAC,IAAK0X,EAAEsN,MAAM,CAAChlB,CAAC,EACvC0kB,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAuBzkB,CAAC,IAAKyX,EAAEsN,MAAM,CAAC/kB,CAAC,EACvCykB,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAuBlO,CAAC,IAAKkB,EAAEsN,MAAM,CAACxO,CAAC,CAGlCkB,EAAE5Y,EAAE,GAAK4lB,GAGXS,EAAkBC,CAAAA,EAAAA,EAAAA,EAAAA,EACvB,OAAC,CAAEC,IAAAA,CAAG,CAAEC,MAAAA,CAAK,CAAEC,SAAAA,CAAQ,CAAE,CAAAxH,SACxB,MAAOH,EAA4C2F,EAAiCiC,KACnF,IAAMrB,EAAUvG,EAAKuG,OAAO,CAC5B,GAAIA,MAAAA,EAAiB,CACpBsB,CAAAA,EAAAA,GAAAA,CAAAA,IAAYnd,KAAK,CAACsV,EAAM,0CACxB,MACD,CACA,IAAM8H,EAAa,MAAMH,EAASI,UAAU,CAACC,GAAAA,EAAYA,EAIzD,GAHIF,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY5mB,EAAE,IAAKqlB,EAAQrlB,EAAE,EAChCumB,EAAIO,GAAAA,EAAYA,CAAEzB,GAEf3lB,OAAOshB,MAAM,CAACqE,EAAQY,KAAK,EAAE3iB,MAAM,CAAG,EAAG,CAC5C,GAAImhB,MAAAA,GAAkB,iBAAOA,EAAOzkB,EAAE,CACrC,MAAM,MAAU,sFAEjBumB,EAAIV,GAAAA,EAAgBA,CAAER,EAAQY,KAAK,CAACxB,EAAOzkB,EAAE,CAAC,CAC/C,MACCumB,EAAIV,GAAAA,EAAgBA,CAAER,EAAQY,KAAK,CAACvmB,OAAOuN,IAAI,CAACoY,EAAQY,KAAK,CAAC,CAAC,EAAE,CAAC,EAEnE,GAAIW,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY5mB,EAAE,IAAKqlB,EAAQrlB,EAAE,CAEhC,OAED,IAAM+mB,EAAe,MAAMN,EAASI,UAAU,CAACG,EAAAA,EAAqBA,EACpE,GAAKN,EAuBAK,EAAazjB,MAAM,CAAG+hB,EAAQxY,QAAQ,CAACpB,SAAS,CAACnI,MAAM,EAC1DyjB,EAAajR,KAAK,CAACuP,EAAQxY,QAAQ,CAACpB,SAAS,CAACnI,MAAM,EAAEH,OAAO,CAAC,IAC7DqjB,EAAMS,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBvb,EAAGwb,UAAU,EACzC,GAEGH,EAAazjB,MAAM,CAAG+hB,EAAQxY,QAAQ,CAACpB,SAAS,CAACnI,MAAM,EAC1D+hB,EAAQxY,QAAQ,CAACpB,SAAS,CAACqK,KAAK,CAACiR,EAAazjB,MAAM,EAAEH,OAAO,CAAC,IAC7D,IAAM+jB,EAAa,IAAIC,EAAAA,CAAcA,CAACzb,GAAI0b,OAAO,GACjDb,EAAIU,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBC,GAAa,CAAE,GAAGH,CAAY,CAAC,EAAE,CAAEG,WAAAA,CAAW,EACxE,OAhCU,KAaU3B,EAZrBwB,EAAa5jB,OAAO,CAAC,IACpBqjB,EAAMS,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBvb,EAAGwb,UAAU,EACzC,GACAX,EACCS,EAAAA,EAAqBA,CACrB3B,EAAQxY,QAAQ,CAACpB,SAAS,CAACtF,GAAG,CAAC,GAAS,EAAE,GAAGuF,CAAE,CAAEwb,WAAY,IAAIC,EAAAA,CAAcA,CAACzb,GAAI0b,OAAO,EAAG,KAE/FZ,EAAMa,EAAAA,oBAAoBA,EAC1Bb,EAAMc,EAAAA,gBAAgBA,EACtBd,EAAMe,EAAAA,sBAAsBA,EAC5Bf,EAAMgB,EAAAA,kBAAkBA,EACxBhB,EAAMiB,GAAAA,EAAiBA,EACvB,IAAMC,EAAAA,OAAenC,CAAAA,EAAAA,EAAW/W,IAAI,GAAf+W,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBzY,IAAI,CAAC,GAAOkL,EAAEhY,EAAE,GAAKqlB,EAAQxY,QAAQ,CAACkC,KAAK,CAC7D,OAAhB2Y,GACHnB,EAAIoB,GAAAA,EAAiBA,CAAED,GAEpBrC,EAAQxY,QAAQ,CAAC+a,aAAa,CACjCrB,EAAIiB,EAAAA,kBAAkBA,CAAE,CAAExnB,GAAIqlB,EAAQxY,QAAQ,CAAC+a,aAAa,CAAEvoB,MAAOgmB,EAAQxY,QAAQ,CAAC+a,aAAa,GAEnGpB,EAAMgB,EAAAA,kBAAkBA,CAE1B,CAaD,GACD,CAACrC,EAAa3W,IAAI,CAAC,EAGd4W,EAAmB3gB,CAAAA,EAAAA,EAAAA,MAAAA,EAGf,MACJ,CAACojB,EAAgBC,EAAkB,CAAG3jB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/C4jB,EAAsBzlB,CAAAA,EAAAA,EAAAA,WAAAA,EAC3B,CAACwc,EAA4C2F,KAC5C,GAAIhc,MAAAA,EAAyB,CAC5B4d,EAAgBvH,EAAM2F,EAAQ,IAC9BqD,EAAkB,IAClB,MACD,CACA,IAAMzC,EAAUvG,EAAKuG,OAAO,CAC5B,GAAIA,MAAAA,EAAiB,CACpBsB,CAAAA,EAAAA,GAAAA,CAAAA,IAAYnd,KAAK,CAACsV,EAAM,0CACxBgJ,EAAkB,IAClB,MACD,CACA,GAAIrf,EAAgBzI,EAAE,GAAKqlB,EAAQrlB,EAAE,CAAE,CACtC,GAAI4lB,IAA0BnB,EAC7B,OAED4B,EAAgBvH,EAAM2F,EAAQ,IAC9B,MACD,CACAW,EAAiBziB,OAAO,CAAG,CAAEmc,KAAAA,EAAM2F,OAAAA,CAAO,EAC1CqD,EAAkB,GACnB,EACA,CAACzB,EAAiB5d,EAAiBmd,EAAsB,EAGpDvc,EAAS8b,EAAa3b,KAAK,CAAG,CAAmB,OAAlB2b,CAAAA,EAAAA,EAAa3b,KAAK,GAAlB2b,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoBza,OAAO,CAAC,CAAG,EAAE,CAEtE,MACC,GAAA9E,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAiE,wBAC/E,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,6DAIxE,GAAAN,EAAAW,IAAA,EAACse,cAAaA,CAAC/T,QAASqU,EAAa6C,SAAS,CAAElD,YAAazb,YAC5D,GAAAzD,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,+DAAsD,qBACpE,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,+EAAsE,2EAGnF,GAAAN,EAAAC,GAAA,EAACoe,wBAAuBA,CACvBjF,MAAOA,EACP5S,SAAU2b,EACV1b,MAAO6Y,EACPX,YAAa6B,IAEd,GAAAxgB,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,oEAA2D,sBACzE,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,+EAAsE,gGAGnF,GAAAN,EAAAC,GAAA,EAACoe,wBAAuBA,CACvBjF,MAAOmH,EACP/Z,SAAU2b,EACV1b,MAAO6Y,EACPX,YAAa6B,UAIfyB,GACA,GAAAjiB,EAAAC,GAAA,EAAC6L,GAAAA,CAAKA,CAAAA,CACLrS,MAAM,8BACNwS,YAAc,sBACdoW,kBAAkB,cAClBC,oBAAqB,IACpB7B,EAAgBjB,EAAiBziB,OAAO,CAAEmc,IAAI,CAAEsG,EAAiBziB,OAAO,CAAE8hB,MAAM,CAAE,IAEnF7d,QAAS,IAAMyf,EAAgBjB,EAAiBziB,OAAO,CAAEmc,IAAI,CAAEsG,EAAiBziB,OAAO,CAAE8hB,MAAM,CAAE,IACjG9S,KAAM,uHAAmKtH,MAAA,QAA5C+a,CAAAA,EAAAA,EAAiBziB,OAAO,GAAxByiB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA0BtG,IAAI,CAACuG,OAAO,CAAC3iB,IAAI,CAAC,cACzKkP,QACC,GAAAhM,EAAAC,GAAA,EAACmF,EAAAA,CAAiBA,CAAAA,UAChBwa,EAAuBhX,IAAI,EAC3B,GAAA5I,EAAAC,GAAA,EAACsI,EAAAA,CAAMA,CAAAA,CAACC,MAAM,MAAMC,KAAM2W,GAAa3lB,MAAM,+CAAsC,wIAOtFyS,QAAS,IACRC,WAAW,KACV+V,EAAkB,IAClB1C,EAAiBziB,OAAO,CAAG,IAC5B,EAAG,OAIN,GAAAiD,EAAAC,GAAA,EAACuB,eAAcA,CACdE,KAAM,CAAEV,QAASrH,EAAMgG,cAAc,EACrCwC,MAAO,CACNnB,QAASrH,EAAM8F,UAAU,CACzBuC,SAAUa,MAAAA,EACVpJ,MAAOoJ,MAAAA,EAA0B,+BAAiCnD,KAAAA,CACnE,MAIJ,iBCnSA;;;;;CAKA,EAIA,IAAA6iB,GAAmB,GAAAjhB,EAAAtG,CAAA,EAAgB,uBAA2BV,EAAA,YAAAW,IAAA,UAA+B,GCA7FunB,GAAkB,GAAAlhB,EAAAtG,CAAA,EAAgB,aAClC,SAAaV,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,ECHAwnB,GAAqB,GAAAnhB,EAAAtG,CAAA,EAAgB,gBACrC,SAAaV,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,ECJAynB,GAAmB,GAAAphB,EAAAtG,CAAA,EAAgB,cACnC,SAAaV,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,ECLA0nB,GAAe,GAAArhB,EAAAtG,CAAA,EAAgB,UAC/B,SAAaV,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,YAAAW,IAAA,UAA+B,CAC5C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,SAAaX,EAAA,WAAAW,IAAA,UAA8B,CAC3C,ECZa2nB,YAAc,GAC1B,GAAW,IACH,GAAA5iB,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,wCAA+B,cAEnDuiB,GAAO,IACH,GAAA7iB,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,uCAA8B,cAElDuiB,GAAO,IACH,GAAA7iB,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,yCAAgC,SAEpDuiB,GAAO,IACH,GAAA7iB,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,yCAAgC,aAEpDuiB,GAAO,KACH,GAAA7iB,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,sCAA6B,oBAIzCwiB,WAAa,CAACD,EAAaviB,KACvC,IAAItD,EAAO,GAAAgD,EAAAC,GAAA,EAAAD,EAAAY,QAAA,KAgBX,OAfIiiB,GAAO,MACV7lB,CAAAA,EAAO,GAAAgD,EAAAC,GAAA,EAACsiB,GAAUA,CAACjiB,UAAU,iDAE1BuiB,GAAO,KACV7lB,CAAAA,EAAO,GAAAgD,EAAAC,GAAA,EAACuiB,GAASA,CAACliB,UAAU,oDAEzBuiB,GAAO,KACV7lB,CAAAA,EAAO,GAAAgD,EAAAC,GAAA,EAACwiB,GAAYA,CAACniB,UAAU,oDAE5BuiB,GAAO,KACV7lB,CAAAA,EAAO,GAAAgD,EAAAC,GAAA,EAACyiB,GAAUA,CAACpiB,UAAU,kDAE1BuiB,GAAO,KACV7lB,CAAAA,EAAO,GAAAgD,EAAAC,GAAA,EAAC0iB,GAAMA,CAACriB,UAAU,mDAGzB,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EAAQ,gCAAiCZ,aACxD,GAAAN,EAAAC,GAAA,EAAC0iB,GAAMA,CAACriB,UAAU,iDACjBtD,IAGJ,kBC1CO,IAAM+lB,GAAgBjR,GAAAA,CAACA,CAACkR,MAAM,CAAC,CACrCC,SAAUnR,GAAAA,CAACA,CACToR,MAAM,GACNC,GAAG,CAAC,GACJC,KAAK,CAAC,qBAAsB,iDAC/B,GAEaC,GAAYvR,GAAAA,CAACA,CAACkR,MAAM,CAAC,CACjCM,KAAMxR,GAAAA,CAACA,CAACoR,MAAM,GAAGC,GAAG,CAAC,GAAGI,GAAG,CAAC,IAC5BC,WAAY1R,GAAAA,CAACA,CAACoR,MAAM,GAAGC,GAAG,CAAC,GAAGI,GAAG,CAAC,IAClCE,YAAa3R,GAAAA,CAACA,CAACoR,MAAM,GACrBQ,QAAS5R,GAAAA,CAACA,CAACoR,MAAM,GAAGS,QAAQ,GAC5BhN,OAAQ7E,GAAAA,CAACA,CAAC8R,OAAO,GAAGD,QAAQ,EAC7B,GCNAE,GAAe,GAAAviB,EAAAtG,CAAA,EAAgB,UAC/B,SAAaV,EAAA,iCAAAW,IAAA,UAAoD,CACjE,CACA,OACA,CACAX,EAAA,+EACAW,IAAA,QACA,EACA,CACA,CACA,OACA,CAAMX,EAAA,yEAAAW,IAAA,UACN,CACA,SAAaQ,GAAA,IAAAC,GAAA,KAAAC,GAAA,IAAAC,GAAA,KAAAX,IAAA,UAAqD,CAClE,ECdA6oB,GAAY,GAAAxiB,EAAAtG,CAAA,EAAgB,OAC5B,SAAaV,EAAA,+CAAAW,IAAA,UAAkE,CAC/E,WAAe6e,GAAA,KAAAC,GAAA,KAAA5S,EAAA,IAAAlM,IAAA,UAA2C,CAC1D,ECea8oB,UAAuC,QAgNxCC,EAeFA,EAhKFC,EAwFmBA,EAtJ1B,IAAMC,EAAa7qB,EAAAA,MAAY,CAAgB,MACzC,CAAC8qB,EAAYC,EAAc,CAAG7lB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACvC,CAAC8lB,EAAQC,EAAU,CAAG/lB,CAAAA,EAAAA,EAAAA,QAAAA,EAAiB,CAAC,GACxC,CAAC0lB,EAAiBM,EAAmB,CAAGhmB,CAAAA,EAAAA,EAAAA,QAAAA,EAAyB,MACjE,CAACimB,EAAUC,EAAY,CAAGlmB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAAC0kB,EAAUyB,EAAY,CAAGnmB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,SACnC,CAAComB,EAAmBC,EAAqB,CAAGrmB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACrD,CAACsmB,EAAYC,EAAc,CAAGvmB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACvC,CAACwmB,EAAcC,EAAgB,CAAGzmB,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MAE1D,CAAE4J,QAAAA,CAAO,CAAEvE,MAAAA,CAAK,CAAEgF,KAAAA,CAAI,CAAE,CAAGE,EAAAA,CAAIA,CAACmc,IAAI,CAACC,IAAI,CAACjc,QAAQ,CACvD,CAAE4b,WAAAA,CAAW,EACb,CACCvb,gBAAiB,CAACV,EAAMzC,IACvB,CAAIA,EAAMgf,KAAK,CAACvhB,KAAK,EAGd,IAERwhB,MAAO,GACPhY,QAAS+W,GAAcF,MAAAA,CACxB,GAEKoB,EAAmBvc,EAAAA,CAAIA,CAACmc,IAAI,CAAChC,QAAQ,CAACxZ,WAAW,GACjD6b,EAAexc,EAAAA,CAAIA,CAACmc,IAAI,CAACzH,IAAI,CAAC/T,WAAW,GAE/CzK,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IAEF,KACoB,MAAtBklB,EAAWnnB,OAAO,EAAUwoB,aAAarB,EAAWnnB,OAAO,CAChE,EACE,EAAE,EAELiC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACTslB,EAAU,IACT,IAAMkB,EAAU,CACf,GAAGnB,CAAM,EAKV,OAHAzb,MAAAA,GAAAA,EAAMrL,OAAO,CAAC,IACbioB,CAAO,CAACC,EAAGC,OAAO,CAAC,CAAGD,CACvB,GACOD,CACR,EACD,EAAG,CAAC5c,EAAK,EAGT,IAAM6a,EAAc3Q,CAAAA,EAAAA,EAAAA,OAAAA,EACnB,IACChZ,OAAOshB,MAAM,CAACiJ,GACZtQ,MAAM,CACN,GACCkQ,MAAAA,GACAwB,EAAGnC,IAAI,GAAKW,EAAgBX,IAAI,EAChCqC,IAAAA,KAAKC,GAAG,CAACH,EAAGI,SAAS,CAAG5B,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiB4B,SAAS,IAEnDtlB,GAAG,CAAC,GAAQklB,EAAGI,SAAS,EACxBrI,IAAI,CAAC,KACR,CAAC6G,EAAQJ,EAAgB,EAEpB6B,EAAqB/C,GAAcgD,SAAS,CAAC,CAAE9C,SAAAA,CAAS,GACxDe,EAAqBX,GAAU0C,SAAS,CAAC,CAC9CvC,WAAYgB,EACZlB,KAAMW,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBX,IAAI,GAArBW,KAAAA,IAAAA,EAAAA,EAAyBc,EAC/BrB,QAASO,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBP,OAAO,CACjCD,YAAAA,EACA9M,OAAQsN,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBX,IAAI,GAAI,IAClC,GAEMlK,EAA6BtG,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC1C,EAAoB,EAAE,CACfhZ,OAAOuN,IAAI,CAACgd,GACjBtQ,MAAM,CAAC,GAAQsQ,MAAAA,CAAM,CAACoB,EAAG,CAACnC,IAAI,EAAYuB,GAC1CtkB,GAAG,CAAC,QACE8jB,EAAgDA,QADzC,CACbvnB,KAAMunB,CAAAA,OAAAA,CAAAA,EAAAA,CAAM,CAACoB,EAAG,CAACnC,IAAI,GAAfe,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBzJ,IAAI,KAAM,GAAK,cAAgByJ,OAAAA,CAAAA,EAAAA,CAAM,CAACoB,EAAG,CAACnC,IAAI,GAAfe,KAAAA,IAAAA,EAAAA,EAAmB,cACzEjqB,GAAIqrB,EACJnM,QACC,GAAAtZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,yCACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gDACd,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,yBAAgB,qBAAwB,IACxD,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,yCAAiCsiB,YAAYyB,CAAM,CAACoB,EAAG,CAACO,MAAM,OAE/E,GAAAhmB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gDACd,GAAAN,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,yBAAgB,eAAkB,IAClD,GAAAN,EAAAW,IAAA,EAACI,OAAAA,CAAKT,UAAU,wDACdqlB,KAAKM,KAAK,CAAC5B,CAAM,CAACoB,EAAG,CAACI,SAAS,CAAG,KAAO,GAAG,eAKjD1jB,MAAO2gB,WAAWuB,CAAM,CAACoB,EAAG,CAACO,MAAM,CACpC,IACCvK,IAAI,CAAC,CAACvJ,EAAGE,IACT,CAAU,CAACF,EAAE9X,EAAE,CAAC,CAAC4rB,MAAM,CAAG3B,CAAM,CAACjS,EAAEhY,EAAE,CAAC,CAAC4rB,MAAM,CAAS,GAClD3B,CAAM,CAACnS,EAAE9X,EAAE,CAAC,CAAC4rB,MAAM,CAAG3B,CAAM,CAACjS,EAAEhY,EAAE,CAAC,CAAC4rB,MAAM,CAAS,EAC/C,GAEP,CAAC7d,EAASkc,EAAQQ,EAAW,EAE1BqB,EAAexpB,CAAAA,EAAAA,EAAAA,WAAAA,EACpB,IACC6nB,EAAmBF,CAAM,CAACnL,EAAK9e,EAAE,CAAC,CACnC,EACA,CAACiqB,EAAO,EAGH8B,EAAgBzpB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACjC,GAAIunB,MAAAA,EACH,MAAM,MAAU,+CAGbD,CAAAA,EAAmBrgB,OAAO,EAC7B2hB,EAAaxb,MAAM,CAACka,EAAmBpb,IAAI,CAE7C,EAAG,CAACob,EAAoBC,EAAiBqB,EAAa,EAEhDc,EAAiBtd,EAAAA,CAAIA,CAACud,MAAM,CAAC5c,WAAW,GAExC6c,EAAiB5pB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAClC,MAAM0pB,EAAeG,WAAW,GAChCC,OAAOC,KAAK,EACb,EAAG,CAACL,EAAe,EAEbM,EAAkBhqB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UACnC,MAAM2oB,EAAiBkB,WAAW,CAAC,CAAEtD,SAAAA,CAAS,GAC9C2B,EAAqB,GACtB,EAAG,CAACS,EAAkBpC,EAAS,EAEzBjX,EACLiY,GACAqB,EAAaqB,SAAS,EACtBhC,GACA,CAACyB,EAAeO,SAAS,EACzB,CAACP,EAAeje,OAAO,CACtB,GAAAnI,EAAAC,GAAA,EAAC6L,GAAAA,CAAKA,CAAAA,CACLrS,MAAM,kBACNsS,KAAM,oCAA2PkX,MAAAA,CAAvNgB,EAAgBX,IAAI,CAAC,oMAAkRW,MAAAA,CAAhFhB,EAAS,yEAA4Fxe,MAAA,CAArBwf,EAAgBX,IAAI,CAAC,yEACtWrX,YAAY,UACZjL,QAASslB,IAEPF,EAAeje,OAAO,CACzB,GAAAnI,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,UAAE+gB,EAAexiB,KAAK,CAACkB,OAAO,KAEzCshB,EAAezkB,SAAS,EAAIykB,EAAeO,SAAS,CACvD,GAAA3mB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,4FAAmF,iBAGlG,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,mFACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,WAAI,uBACiBojB,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiBX,IAAI,GAArBW,KAAAA,IAAAA,EAAAA,EAAyB,qBAAqB,aAAW,IAC9E,GAAAjkB,EAAAW,IAAA,EAACuR,IAAAA,CAAEtV,KAAM,UAAmB6H,MAAA,CAATwe,EAAS,2BAA0B3iB,UAAU,+CAAqC,UAC5F2iB,EAAS,6BACb,IAAI,4BAKTgB,GAAmBqB,EAAaqB,SAAS,CAC5C,GAAA3mB,EAAAC,GAAA,EAAC2mB,GAAAA,CAASA,CAAAA,CACT3kB,MAAM,mBACN6O,KAAK,OAELrK,MAAOwc,EACPrf,MACCyhB,EAAiBld,OAAO,CACrBkd,EAAiBzhB,KAAK,CAACkB,OAAO,CAC9BghB,EAAmBniB,OAAO,CACzBjE,KAAAA,EACAomB,EAAmBliB,KAAK,CAACijB,MAAM,CAAC,EAAE,CAAC/hB,OAAO,CAE/C8B,SAAU,GAAS8d,EAAYrH,GAC/B/W,KAAK,kIAVD,YAYF2d,EACH,GAAAjkB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,uBACb2jB,MAAAA,EAAgBX,IAAI,CACpB,GAAAtjB,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAC,GAAA,EAACqI,YAAWA,CAAC7O,MAAM,uBAAc,oFAKlC,GAAAuG,EAAAC,GAAA,EAACY,MAAAA,UACA,GAAAb,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,8FACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,YAAIwiB,WAAWmB,EAAgB+B,MAAM,CAAE,eACtD,GAAAhmB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,yEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EACZ2jB,EAAgBX,IAAI,GAErBW,EAAgBP,OAAO,CAAC,MAAIiC,KAAKM,KAAK,CAAChC,EAAgB4B,SAAS,CAAG,KAAO,GAAG,cAKjF5B,MAAAA,EAAgBX,IAAI,EACnBW,KAAAA,EAAgBX,IAAI,CAAC1I,IAAI,IACzB,GAAA5a,EAAAC,GAAA,EAAC2mB,GAAAA,CAASA,CAAAA,CACT3kB,MAAM,OACN6O,KAAK,OAELrK,MAAOse,MAAAA,EAAAA,EAAgB,GACvBnhB,MACC0hB,EAAand,OAAO,CACjBmd,EAAa1hB,KAAK,CAACkB,OAAO,CAC1Bkf,EAAmBrgB,OAAO,CACzBjE,KAAAA,EAAAA,OACAskB,CAAAA,EAAAA,EAAmBpgB,KAAK,CAACiB,UAAU,CAACiiB,WAAW,CAACxD,IAAI,GAApDU,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAsDxG,IAAI,CAAC,MAEhE5W,SAAUoe,GATN,QAYP,GAAAhlB,EAAAC,GAAA,EAAC2mB,GAAAA,CAASA,CAAAA,CACT3kB,MAAOgiB,EAAgB8C,QAAQ,CAACC,iBAAiB,GAAK,YACtDlW,KAAK,WAELrK,MAAO+d,EACP5gB,MACC0hB,EAAand,OAAO,CACjBmd,EAAa1hB,KAAK,CAACkB,OAAO,CAC1Bkf,EAAmBrgB,OAAO,CACzBjE,KAAAA,EAAAA,OACAskB,CAAAA,EAAAA,EAAmBpgB,KAAK,CAACiB,UAAU,CAACiiB,WAAW,CAACtD,UAAU,GAA1DQ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4DxG,IAAI,CAAC,MAEtE5W,SAAU,GAAS6d,EAAYpH,EAAM,KATjC,eAYHlV,EACH,GAAAnI,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,CAAC5L,MAAM,iDAAyCmK,MAAAA,EAAAA,KAAAA,EAAAA,EAAOkB,OAAO,KAEzEhL,IAAAA,OAAOuN,IAAI,CAACgd,GAAQ3mB,MAAM,EAAWymB,EAKxC,GAAAnkB,EAAAC,GAAA,EAAC6Y,aAAYA,CAAoBM,MAAOA,EAAO5S,SAAU0f,IAJzD,GAAAlmB,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sDACd,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,KAMPkM,EAA6B,CAChC9M,QAASrH,EAAM8F,UAAU,CACzBwC,MAAO,MACR,EACI8L,GAA4B,CAC/B/M,QAASrH,EAAMgG,cAAc,EAG1BsnB,GAAU,+BA2Cd,OAzCIhD,IACHnW,EAAc,CACb7L,MAAO,SACPD,SAAU,CAACgiB,EAAmBrgB,OAAO,EAAI2hB,EAAa3jB,SAAS,CAC/DA,UAAW2jB,EAAa3jB,SAAS,CACjClI,MAAO,EAAoBkK,OAAO,CAK/BjE,KAAAA,EAJAskB,EAAmBpgB,KAAK,CAACH,MAAM,CAC9BlD,GAAG,CAAC,GAAQ,CAAC,OAAQ,WAAW,CAAC+D,QAAQ,CAACU,EAAEC,IAAI,CAACiiB,GAAG,GAAK,IAAM,KAAO,GAAcliB,MAAAA,CAAXA,EAAEC,IAAI,CAAC,MAAcR,MAAA,CAAVO,EAAEF,OAAO,GAC7FiP,MAAM,CAAC6D,SACP4F,IAAI,CAAC,MAETxc,QAASmlB,CACV,EACApY,GAAa,CACZ/M,QAAS,IAAMujB,EAAmB,MAClCtiB,MAAO,OACPD,SAAUsjB,EAAa3jB,SAAS,EAEjCslB,GAAU,sBAAwBhD,EAAgBX,IAAI,CAClDgC,EAAaqB,SAAS,GACzB7Y,EAAc,CACb7L,MAAO,mBACPD,SAAU,CAAC8jB,EAAmBniB,OAAO,EAAI0hB,EAAiB1jB,SAAS,CACnEX,QAAS0lB,CACV,EACA3Y,GAAa,CACZ/M,QAAS,IAAMskB,EAAa1E,KAAK,GACjC3e,MAAO,OACPD,SAAUsjB,EAAa3jB,SAAS,EAEjCslB,GAAU,qDACNtC,IACH7W,EAAc,CACb9M,QAASrH,EAAM8F,UAAU,EAE1BsO,GAAa,CAAC,EACdkZ,GAAU,0BAMZ,GAAAjnB,EAAAW,IAAA,EAACC,EAAAA,QAAQA,CAAAA,WACR,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,yEACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,mBACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAiE,yBAC/E,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA2D2mB,QAExEhD,MAAAA,GACA,GAAAjkB,EAAAC,GAAA,EAACY,MAAAA,UACA,GAAAb,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CACNC,QAAQ,gBACRf,QAAS,KAERojB,EAAc,IACdU,EAAc,GAAS,CAACqC,GAEE,MAAtBjD,EAAWnnB,OAAO,EAAUwoB,aAAarB,EAAWnnB,OAAO,EAC/DmnB,EAAWnnB,OAAO,CAAGypB,OAAOra,UAAU,CAAC,KACtCmY,EAAU,CAAC,GACXF,EAAc,IACdF,EAAWnnB,OAAO,CAAG,IACtB,EAAG,IACJ,YAEC8nB,EAAa,GAAA7kB,EAAAC,GAAA,EAAC4jB,GAAMA,CAACvjB,UAAU,YAAe,GAAAN,EAAAC,GAAA,EAAC6jB,GAAGA,CAACxjB,UAAU,YAAc,IAC3EukB,EAAa,oBAAsB,4BAKxC,GAAA7kB,EAAAC,GAAA,EAACgI,eAAcA,CAAE,GAAGqd,CAAY,GAChC,GAAAtlB,EAAAC,GAAA,EAACgI,eAAcA,CAAE,GAAGod,CAAgB,GACnCrZ,KAEF,GAAAhM,EAAAC,GAAA,EAACuB,eAAcA,CAACW,MAAO2L,EAAapM,KAAMqM,OAG7C,iECpWyvBqZ,IAAAlpB,CAAAA,EAAAkpB,IAAA,IAAAlpB,EAAAmpB,IAAA,WAAAnpB,CAAA,CAAAA,EAAAopB,MAAA,aAAAppB,GAA8DqpB,IAAAtpB,CAAAA,EAAAspB,IAAA,IAAAtpB,EAAAupB,gBAAA,uBAAAvpB,CAAA,CAAAA,EAAAwpB,eAAA,sBAAAxpB,CAAA,CAAAA,EAAAypB,WAAA,kBAAAzpB,CAAA,CAAAA,EAAA0pB,UAAA,iBAAA1pB,CAAA,CAAAA,EAAA2pB,SAAA,gBAAA3pB,CAAA,CAAAA,EAAA4pB,WAAA,kBAAA5pB,GAAsO,IAAI6pB,GAAC,CAAE,EAAA9iB,GAAA,EAAS,GAAAA,CAAA,CAAA+iB,gBAAqB,GAAAnX,GAAAC,CAAA,EAAC7L,EAAA+iB,eAAA,EAAoB,SAAY,GAAE,EAAA/iB,GAAAA,IAAAA,EAAA+iB,eAAA,CAAA/iB,EAAA,CAAkC,GAAAA,CAAA,CAAA+iB,gBAAA,GAAuB,KAAQ/iB,CAAA,IAAAA,EAAAgjB,WAAA,CAAAhjB,EAAA,CAA6B,GAAAA,CAAA,CAAAgjB,YAAA,IAAqB,KAAQhjB,CAAA,IAAAA,EAAAgjB,WAAA,CAAAhjB,EAAA,CAA6B,GAAAA,CAAA,CAAAgjB,YAAA,IAAqB,GAAAhjB,EAAAxH,IAAUwH,EAAAijB,QAAA,GAAAzqB,EAAAyqB,QAAA,CAAAjjB,EAAA,CAAkC,GAAAA,CAAA,CAAAijB,SAAAzqB,EAAAyqB,QAAA,EAA0B,GAAAjjB,EAAAxH,IAAUwH,EAAAkjB,OAAA,GAAA1qB,EAAA0qB,OAAA,CAAAljB,EAAA,CAAgC,GAAAA,CAAA,CAAAkjB,QAAA1qB,EAAA0qB,OAAA,GAAyBhV,GAAG,GAAA3C,EAAAC,aAAA,EAAC,MAAyC,SAAAyK,EAAAjW,CAAA,EAAc,IAAAxH,EAAM,GAAA+S,EAAAyH,UAAA,EAAC9E,IAAI,GAAA1V,OAAAA,EAAA,CAAa,IAAAU,EAAA,UAAoB8G,EAAA,iDAAG,EAAmD,OAAAiT,MAAAC,iBAAA,EAAAD,MAAAC,iBAAA,CAAAha,EAAA+c,GAAA/c,CAAA,CAA8D,OAAAV,CAAA,CAAhN0V,GAAAzC,WAAA,qBAAyN,IAAAiB,GAAM,GAAAnB,EAAAC,aAAA,EAAC,KAAOkB,CAAAA,GAAAjB,WAAA,wBAA4N,IAAA0X,GAAM,GAAA5X,EAAAC,aAAA,EAAC,MAAuE,SAAA4X,EAAApjB,CAAA,CAAAxH,CAAA,EAAgB,MAAO,GAAAoT,GAAAC,CAAA,EAACrT,EAAAsT,IAAA,CAAQgX,GAAC9iB,EAAAxH,EAAA,CAAjG2qB,GAAA1X,WAAA,0BAAuG,IAAAzV,GAAMuV,EAAA3P,QAAC,CAAAynB,GAAI,GAAArX,GAAAC,EAAA,EAAC,SAAAzT,CAAA,CAAAU,CAAA,EAAe,IAAIoqB,YAAA/sB,EAAA,MAAAwX,EAAsB,CAAAvV,EAAAoU,EAAK,GAAArB,EAAA1R,MAAA,EAAC,MAAAZ,EAAS,GAAAyU,GAAAd,CAAA,EAAC1T,EAAG,GAAAwU,GAAAhB,CAAA,EAACQ,IAAKN,EAAA7U,OAAA,CAAAmV,CAAA,EAAY1U,KAAA,IAAAA,EAAAiZ,EAAA,EAAAjZ,EAAAiZ,EAAA,GAAuBlG,EAAA3P,QAAC,GAAAoS,EAAK,GAAAzC,EAAA1R,MAAA,EAAC,MAAA0T,EAAS,GAAAhC,EAAA1R,MAAA,EAAC,MAAAgU,EAAS,GAAAtC,EAAA0B,UAAA,EAACmW,EAAA,CAAIL,gBAAAxsB,EAAA,IAAAysB,YAAA,GAAAO,UAAAhW,EAAAiW,SAAAxV,EAAAiV,SAAA,KAAAC,QAAA,OAAuF,EAAIH,gBAAAtqB,CAAA,CAAAwqB,SAAA9iB,CAAA,CAA6B,CAAAiM,EAAA,CAAAyB,EAAAvY,EAAQ,GAAAuX,GAAAC,CAAA,EAACI,IAAKd,EAAA,CAAGN,KAAA,IAAS,IAAA3J,EAAM,GAAA2M,GAAA3M,CAAA,EAACyK,GAAI,IAAAzK,GAAA,CAAAhC,EAAA,OAAiB,IAAAiL,EAAA8B,EAAAA,aAAAuW,YAAAvW,EAAAA,EAAAnV,OAAA,YAAA0rB,YAAAvW,EAAAnV,OAAA,CAAAoK,EAAAuhB,cAAA,CAAAvjB,GAAAgC,EAAAuhB,cAAA,CAAAvjB,EAA8HiL,OAAAA,GAAAA,EAAAmI,KAAA,KAAmBD,EAAI,GAAA/H,EAAAuC,OAAA,EAAC,MAAO2T,MAAAnsB,CAAA,GAAQ,CAAAA,EAAA,EAAA+b,EAAS,GAAA9F,EAAAuC,OAAA,EAAC,MAAO6V,KAAAlrB,IAAAA,EAAAgpB,MAAAnsB,CAAA,GAAmB,CAAAmD,EAAAnD,EAAA,EAAmB,OAAOiW,EAAA1W,aAAe,CAAAqZ,GAAAgD,QAAA,EAAazP,MAAAoM,CAAA,EAAStC,EAAA1W,aAAe,CAAA6X,GAAAwE,QAAA,EAAazP,MAAA6R,CAAA,EAAS/H,EAAA1W,aAAe,CAAC+uB,GAAAC,EAAC,EAAEpiB,MAAM,GAAAmK,GAAAC,CAAA,EAACpT,EAAA,CAAI,EAAImrB,GAAAE,EAAC,CAAAzB,IAAA,GAAUuB,GAAAE,EAAC,CAAAxB,MAAA,EAAQ,EAAG,GAAAtW,GAAA6F,EAAA,EAAC,CAAEC,SAAhK,CAAY3c,IAAA8D,CAAA,EAAoJ+Y,WAAAjE,EAAAkE,KAAAZ,EAAAa,WAAAlc,GAAA8B,KAAA,iBAA8D,GAAmBisB,GAAG,GAAA/X,GAAAC,EAAA,EAAC,SAAAzT,CAAA,CAAAU,CAAA,EAAe,IAAA3C,EAAM,GAAA2V,GAAAC,CAAA,IAAC,CAAI/W,GAAA2Y,EAAA,gCAAqCxX,EAAE,KAAAqW,EAAO,CAAApU,EAAA,CAAAS,EAAA+U,EAAA,CAAAiI,EAAA,qBAAA1I,EAAh3B,GAAAhC,EAAAyH,UAAA,EAACmQ,IAA+2BtV,EAAAN,OAAAA,GAAAA,IAAAtU,EAAAiqB,OAAA,CAAAzqB,EAAoE,GAAA8S,EAAA1R,MAAA,EAAC,MAAAsG,EAAS,GAAAuN,GAAAd,CAAA,EAACnU,EAAAS,EAAA2U,EAAA,KAAA5U,EAAAsqB,SAAA,EAAyB,GAAAhY,EAAAvR,SAAA,EAAC,KAAM,IAAA6T,EAAA,OAAAG,EAAA,CAAgBlC,KAAA,EAAAmX,SAAAlV,CAAA,GAAkB,KAAOC,EAAA,CAAGlC,KAAA,EAAAmX,SAAA,MAAqB,GAAG,CAAAlV,EAAAC,EAAAH,EAAA,EAAU,IAAAzB,EAAM,GAAAS,GAAAC,CAAA,EAAC3K,IAAK,IAAAiJ,EAAM,GAAAyC,EAAA,CAAM,GAAA5U,IAAAA,EAAA8pB,eAAA,QAAgC,OAAA5gB,EAAAlM,GAAA,EAAc,KAAK+Y,GAAAC,CAAC,CAAAoB,KAAA,MAAYrB,GAAAC,CAAC,CAAAC,KAAA,CAAA/M,EAAAqN,cAAA,GAAArN,EAAAsN,eAAA,GAAAzB,EAAA,CAAiDlC,KAAA,IAAO,MAAAV,CAAAA,EAAAnS,EAAAsqB,SAAA,CAAAxrB,OAAA,GAAAqT,EAAAmI,KAAA,EAA2C,OAAO,OAAApR,EAAAlM,GAAA,EAAmB,KAAK+Y,GAAAC,CAAC,CAAAoB,KAAA,MAAYrB,GAAAC,CAAC,CAAAC,KAAA,CAAA/M,EAAAqN,cAAA,GAAArN,EAAAsN,eAAA,GAAAzB,EAAA,CAAiDlC,KAAA,GAAS,IAAOxW,EAAI,GAAAuX,GAAAC,CAAA,EAAC3K,IAAKA,EAAAlM,GAAA,GAAmB+Y,GAAAC,CAAC,CAAAoB,KAAA,EAAAlO,EAAAqN,cAAA,EAA0B,GAAO8D,EAAI,GAAAzG,GAAAC,CAAA,EAAC3K,IAAK,IAAAiJ,CAAM,IAAAiI,GAAAC,CAAA,EAACnR,EAAAkN,aAAA,GAAA7W,EAAAwE,QAAA,EAAA6Q,CAAAA,EAAAG,CAAAA,EAAA,CAAsClC,KAAA,IAAO,MAAAV,CAAAA,EAAAnS,EAAAsqB,SAAA,CAAAxrB,OAAA,GAAAqT,EAAAmI,KAAA,IAAAvF,EAAA,CAA+ClC,KAAA,GAAO,IAAGuF,EAAI,GAAA9F,EAAAuC,OAAA,EAAC,MAAO6V,KAAA1qB,IAAAA,EAAA8pB,eAAA,GAA2B,CAAA9pB,EAAA,EAAAyX,EAAS,GAAAsT,GAAAzW,CAAA,EAAC/U,EAAAC,GAAAyU,EAAAW,EAAA,CAAW1Y,IAAAgL,EAAA2L,KAAA4E,EAAAqB,UAAA3F,EAAApQ,QAAAsX,CAAA,EAAmC,CAAEne,IAAAgL,EAAA/K,GAAA2Y,EAAAjC,KAAA4E,EAAA,gBAAAlY,EAAAwE,QAAA,QAAA/D,IAAAA,EAAA8pB,eAAA,iBAAA9pB,EAAA+pB,WAAA,CAAA/pB,EAAAiqB,OAAA,QAAAnR,UAAA3F,EAAA6X,QAAA3uB,EAAA0G,QAAAsX,CAAA,EAA0J,MAAO,GAAAtH,GAAA6F,EAAA,EAAC,CAAEC,SAAA5E,EAAA8E,WAAApF,EAAAqF,KAAAZ,EAAAa,WAA5/B,SAA4/Bpa,KAAA,qBAAsE,GAAEosB,GAAclY,GAAAmY,EAAC,CAAAC,cAAA,CAAgBpY,GAAAmY,EAAC,CAAAE,MAAA,CAAuhBC,GAAExvB,OAAAC,MAAA,CAAAsuB,GAAA,CAAmBvmB,OAAOinB,GAAEQ,MAA1iB,GAAAvY,GAAAC,EAAA,EAAC,SAAAzT,CAAA,CAAAU,CAAA,EAAe,IAAA3C,EAAM,GAAA2V,GAAAC,CAAA,IAAC,CAAI/W,GAAA2Y,EAAA,+BAAoCxX,EAAE,KAAAqW,EAAO,CAAApU,EAAA,CAAAS,EAAA+U,EAAA,CAAAiI,EAAA,qBAAgCwL,MAAAlU,CAAA,CAAQ,CAAAsB,SAArvEA,EAAA7O,CAAA,EAAc,IAAAxH,EAAM,GAAA+S,EAAAyH,UAAA,EAACtG,IAAI,GAAAlU,OAAAA,EAAA,CAAa,IAAAU,EAAA,UAAoB8G,EAAA,iDAAG,EAAmD,OAAAiT,MAAAC,iBAAA,EAAAD,MAAAC,iBAAA,CAAAha,EAAA2V,GAAA3V,CAAA,CAA8D,OAAAV,CAAA,EAAukE,oBAAAqV,EAAyB,GAAAH,GAAAd,CAAA,EAAC1T,EAAAD,EAAAuqB,QAAA,CAAAlQ,IAAkBtF,EAAA,CAAGlC,KAAAwH,EAAA,KAAW,GAAI,GAAA/H,EAAAvR,SAAA,EAAC,IAAAgU,CAAAA,EAAA,CAASlC,KAAA,EAAAoX,QAAAnV,CAAA,GAAiB,KAAOC,EAAA,CAAGlC,KAAA,EAAAoX,QAAA,MAAoB,GAAE,CAAAnV,EAAAC,EAAA,EAAS,IAAAvV,EAAM,GAAAmrB,GAAAY,EAAA,IAACrkB,EAAA1H,OAAAA,EAAAA,IAAuBmrB,GAAAE,EAAC,CAAAzB,IAAA,CAAAppB,IAAAA,EAAA8pB,eAAA,CAAA3W,EAAiC,GAAAb,EAAAuC,OAAA,EAAC,MAAO6V,KAAA1qB,IAAAA,EAAA8pB,eAAA,CAAAtB,MAAAlU,CAAA,GAAmC,CAAAtU,EAAAsU,EAAA,EAAwB,OAAOhC,EAAA1W,aAAe,CAAAsuB,GAAAjS,QAAA,EAAazP,MAAAxI,EAAAiqB,OAAA,EAAiB,GAAAlX,GAAA6F,EAAA,EAAC,CAAEC,SAA/E,CAAY3c,IAAA0Y,EAAAzY,GAAA2Y,CAAA,EAAmEiE,WAAApF,EAAAqF,KAAA7F,EAAA8F,WAAvd,MAAudd,SAAA8S,GAAAO,QAAAtkB,EAAArI,KAAA,qBAA2F,EAAmC,mBC8Bj2I,IAAM4sB,GAAgC,CACrC,CACCtvB,GAAI,KACJ0C,KAAM,wBACN+C,YAAa,qCACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAAC8vB,cAAAA,CAAe,GAAG7pB,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EACpF,EACA,CACCb,GAAI,KACJ0C,KAAM,iBACN+C,YAAa,uDACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAAC+vB,kBAAAA,CAAmB,GAAG9pB,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EACxF,EACA,CAMY4uB,gBAAkD,QAGhDzgB,EAsCZA,EAtCYA,EAFd,GAAM,CAAEA,SAAAA,CAAQ,CAAEwT,YAAAA,CAAW,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,EAAAA,EAAyBljB,EAAMsM,UAAU,EACrE6jB,EAAoBhhB,EAAAA,CAAIA,CAACC,GAAG,CAACoE,MAAM,CAAClE,QAAQ,CACjD,CAAEC,UAAWE,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS6T,YAAY,KAArB7T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBnE,IAAI,GAA7BmE,KAAAA,IAAAA,EAAAA,EAAiC,GAAIA,SAAUA,EAASC,SAAS,EAAG,EACjF,CACC+D,QAAShE,MAAAA,EAAS6T,YAAY,EAC/B,GAEK,CAAC8M,EAAsBC,EAAwB,CAAGzrB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3D0rB,EAAsBvJ,CAAAA,EAAAA,EAAAA,EAAAA,EAC3B,OAAC,CAAEG,SAAAA,CAAQ,CAAEF,IAAAA,CAAG,CAAE,CAAAtH,SACjB,UACC,IAAM6Q,EAAgB,MAAMrJ,EAASI,UAAU,CAACkJ,EAAAA,yBAAyBA,EACzE,GAAID,MAAAA,EACH,OAED,IAAME,EAAmBC,CAAAA,EAAAA,GAAAA,EAAAA,EAAgBH,EAAe9gB,EAAS0U,SAAS,IAAI5W,IAAI,CACjF,GAAO5L,sBAAAA,EAAElB,EAAE,CAEY,OAApBgwB,GAA4BhhB,MAAAA,GAC/BwT,EAAY,CACX,GAAGxT,EAAS0U,SAAS,EAAE,CACvBwM,SAAUF,CACX,EAEF,GACD,EAAE,EAEH,GAAIhhB,MAAAA,EACH,MACC,GAAApJ,EAAAC,GAAA,EAACsqB,KAAAA,CAAGjqB,UAAU,8GACb,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,yBACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,oFACd,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,SAMb,IAAM4oB,EACLphB,MAAAA,EAAU6T,YAAY,IAAc,CAAC6M,EAAkBlhB,IAAI,EAC1DQ,CAAAA,OAAAA,CAAAA,EAAAA,EAAS6T,YAAY,KAArB7T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBqhB,yBAAyB,GAAIrhB,WAAAA,EAASshB,aAAa,GAC9E,MACC,GAAA1qB,EAAAC,GAAA,EAAC0qB,GAAUA,CAAClU,GAAG,MAAMnW,UAAU,GAAGgoB,YAAa,CAAC,CAACkC,WAC/C,QAmCYphB,EAAgDA,EAkBrDA,EAMAA,EASFA,EAcEA,EACAA,EAAAA,EAUAA,EACAA,EAAAA,EAUAA,EAIFA,EAsBEA,EACAA,EAAAA,EAUAA,EACAA,EAAAA,EAYAA,EAMAA,EA3GAA,EAMAA,EAMAA,EAiBAA,EAWAA,EAWAA,EA0BAA,EAWAA,EAaAA,EAMAA,KAhKN,CAAEuf,KAAAA,CAAI,CAAE,CAAAtP,QACT,GAAArZ,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAW,IAAA,EAACgqB,GAAW7oB,MAAM,EAAC2U,GAAG,MAAMnW,UAAU,8EACrC,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,8CACd,GAAAN,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,uGACb,GAAAN,EAAAW,IAAA,EAACI,OAAAA,WAAK,YAAUqI,EAASiT,cAAc,MACtCmO,GACA,GAAAxqB,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,SAASoV,KAAK,cAAK,oBAKlC,GAAA5d,EAAAC,GAAA,EAAC2qB,SAAAA,UACA,GAAA5qB,EAAAC,GAAA,EAAC4qB,GAAgBA,CAChBvqB,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EAAO,kDAAmDioB,EAAO,YAAc,mBAI7F,GAAA3oB,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,kCAA0B8I,EAASkT,cAAc,QAE/D,GAAAtc,EAAAC,GAAA,EAACmF,EAAAA,CAAiBA,CAAAA,UACjB,GAAApF,EAAAW,IAAA,EAACgqB,GAAWpB,KAAK,EAACjpB,UAAU,iBAC3B,GAAAN,EAAAW,IAAA,EAAC4pB,KAAAA,CAAGjqB,UAAU,4DACb,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAW,IAAA,EAACmqB,KAAAA,CAAGxqB,UAAU,qFACb,GAAAN,EAAAC,GAAA,EAACc,OAAAA,UAAK,cAAiB,IACtBqI,EAAS0U,SAAS,GAAGC,SAAS,EAC9B,GAAA/d,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAOshB,CAA2B,IAA3BA,EAAkBlhB,IAAI,CAAY,QAAU,eACxDkhB,CAA2B,IAA3BA,EAAkBlhB,IAAI,CAAY,WAAa,oBAInD,GAAA5I,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,MAAAA,EAAS0U,SAAS,GAAGC,SAAS,CAC5B,gBACA,GAAAtZ,MAAA,QAAG2E,CAAAA,EAAAA,EAAS0U,SAAS,GAAGC,SAAS,GAA9B3U,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgCwC,YAAY,CAAC,KAAwCnH,MAAA,QAArC2E,CAAAA,EAAAA,EAAS0U,SAAS,GAAGC,SAAS,GAA9B3U,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgCtM,IAAI,OAG3FsM,MAAAA,EAAS6T,YAAY,IAAc,CAAC6M,EAAkBlhB,IAAI,EAC1D,GAAA5I,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,yBACd,GAAAN,EAAAC,GAAA,EAACqO,EAAAA,CAAcA,CAAAA,UACd,GAAAtO,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,UAAI,4KAQT,GAAAb,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,aAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAG1Z,QAAQ,GAA7BgF,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA+B3P,KAAK,GAApC2P,KAAAA,IAAAA,EAAAA,EAAwC,qBAG3C,GAAApJ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,WAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGkN,MAAM,GAA3B5hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA6B3P,KAAK,GAAlC2P,KAAAA,IAAAA,EAAAA,EAAsC,qBAGzC,GAAApJ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,eAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGmN,UAAU,GAA/B7hB,KAAAA,IAAAA,EAAAA,EAAmC,qBAGrCA,CAAAA,OAAAA,CAAAA,EAAAA,EAAS6T,YAAY,KAArB7T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBqhB,yBAAyB,GAAIrhB,WAAAA,EAASshB,aAAa,IAC5E,GAAA1qB,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sBACd,GAAAN,EAAAC,GAAA,EAACqO,EAAAA,CAAcA,CAAAA,CAAC7U,MAAM,wEAA+D,uRAQxF,GAAAuG,EAAAW,IAAA,EAAC4pB,KAAAA,CAAGjqB,UAAU,oHACb,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,cAC/E,GAAAN,EAAAW,IAAA,EAACoqB,KAAAA,CAAGzqB,UAAU,uFACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGwM,QAAQ,GAA7BlhB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA+B3P,KAAK,GAApC2P,KAAAA,IAAAA,EAAAA,EAAwC,gBACX,OAA7BA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGwM,QAAQ,GAA7BlhB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA+B8hB,KAAK,GAApC9hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAsC7I,GAAG,CAAC,GAC1C,GAAAP,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAO4J,EAAE5J,KAAK,UACnB4J,EAAEpU,QAAQ,CAACxB,OAAO,CAAC,aAAc,IAAuBiI,MAAA,CAAnB2E,EAASoY,OAAO,MAD3BpP,EAAEpU,QAAQ,SAMzC,GAAAgC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,cAC/E,GAAAN,EAAAW,IAAA,EAACoqB,KAAAA,CAAGzqB,UAAU,uFACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGqN,QAAQ,GAA7B/hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA+B3P,KAAK,GAApC2P,KAAAA,IAAAA,EAAAA,EAAwC,gBACX,OAA7BA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGqN,QAAQ,GAA7B/hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA+B8hB,KAAK,GAApC9hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAsC7I,GAAG,CAAC,GAC1C,GAAAP,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAO4J,EAAE5J,KAAK,UACnB4J,EAAEpU,QAAQ,EADgBoU,EAAEpU,QAAQ,SAMzC,GAAAgC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,UAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGsN,KAAK,GAA1BhiB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4B3P,KAAK,GAAjC2P,KAAAA,IAAAA,EAAAA,EAAqC,qBAGvCA,MAAAA,EAAS0U,SAAS,GAAGC,SAAS,EAC9B3U,CAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGwM,QAAQ,GAA7BlhB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA+BhP,EAAE,IAAK,WACtC,CAAC2vB,GACA,GAAA/pB,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,yBACd,GAAAN,EAAAW,IAAA,EAAC2N,EAAAA,CAAcA,CAAAA,WAAC,uJAGf,GAAAtO,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,4CACd,GAAAN,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACd,QAASipB,EAAqBloB,QAAQ,mBAAU,sCAGxD,GAAA/B,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACd,QAAS,IAAMgpB,EAAwB,IAAOjoB,QAAQ,iBAAQ,mDAQ5E,GAAA/B,EAAAW,IAAA,EAAC4pB,KAAAA,CAAGjqB,UAAU,+GACb,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,qBAC/E,GAAAN,EAAAW,IAAA,EAACoqB,KAAAA,CAAGzqB,UAAU,uFACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGuN,OAAO,GAA5BjiB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA8B3P,KAAK,GAAnC2P,KAAAA,IAAAA,EAAAA,EAAuC,gBACX,OAA5BA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGuN,OAAO,GAA5BjiB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA8B8hB,KAAK,GAAnC9hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAqC7I,GAAG,CAAC,GACzC,GAAAP,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAO4J,EAAE5J,KAAK,UACnB4J,EAAEpU,QAAQ,CAACxB,OAAO,CAAC,aAAc,IAAuBiI,MAAA,CAAnB2E,EAASoY,OAAO,MAD3BpP,EAAEpU,QAAQ,SAMzC,GAAAgC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,uBAC/E,GAAAN,EAAAW,IAAA,EAACoqB,KAAAA,CAAGzqB,UAAU,uFACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGwN,SAAS,GAA9BliB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgC3P,KAAK,GAArC2P,KAAAA,IAAAA,EAAAA,EAAyC,gBACX,OAA9BA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGwN,SAAS,GAA9BliB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAgC8hB,KAAK,GAArC9hB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAuC7I,GAAG,CAAC,GAC3C,GAAAP,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAO4J,EAAE5J,KAAK,UACnB4J,EAAEpU,QAAQ,CAACxB,OAAO,CAAC,aAAc,IAAuBiI,MAAA,CAAnB2E,EAASoY,OAAO,MAD3BpP,EAAEpU,QAAQ,YAO1C,GAAAgC,EAAAW,IAAA,EAAC4pB,KAAAA,CAAGjqB,UAAU,+GACb,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,oBAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAGyN,cAAc,GAAnCniB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAqC3P,KAAK,GAA1C2P,KAAAA,IAAAA,EAAAA,EAA8C,YAGjD,GAAApJ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,oBAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZ8I,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAS0U,SAAS,GAAG0N,cAAc,GAAnCpiB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAqC3P,KAAK,GAA1C2P,KAAAA,IAAAA,EAAAA,EAA8C,sBAMnD,GAIN,EAEaugB,cAA2C,QAiBHpnB,EAkChBkpB,EAlCgBlpB,EA0DDukB,EAiQN4E,EA3U7C,GAAM,CAAEnoB,2BAAAA,CAA0B,CAAEhB,4BAAAA,CAA2B,CAAE,CAAGiB,CAAAA,EAAAA,EAAAA,uBAAAA,IAE9DhB,EAAiCsQ,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC9C,CAA2C,IAAvCvP,EAA2BI,OAAO,CAC9BgoB,CAAAA,EAAAA,EAAAA,6BAAAA,EAA8BpoB,EAA2BqF,IAAI,EAE9D,KACL,CAACrF,EAA2B,EAEzBE,EAA4B,EAAE,CAE9B,CAACmoB,EAAkBC,EAAoB,CAAGttB,CAAAA,EAAAA,EAAAA,QAAAA,EAAmB,EAAE,EAE/D,CAACutB,EAAeC,EAAiB,CAAGxtB,CAAAA,EAAAA,EAAAA,QAAAA,EAAmB,EAAE,EAEzDytB,EAAuBljB,EAAAA,CAAIA,CAACC,GAAG,CAACoE,MAAM,CAAClE,QAAQ,CACpD,CAAEC,SAAAA,CAA0C,MAA/B3G,GAAsCA,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA4B+X,YAAY,GAAxC/X,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA0C0C,IAAI,GAA9C1C,KAAAA,IAAAA,EAAAA,EAAkD,EAAQ,EAC7G,CACC6K,QAAS7K,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAA6B+X,YAAY,GAAI,IACvD,GAEK2R,EAA4BnjB,EAAAA,CAAIA,CAAC2W,OAAO,CAACyM,iBAAiB,CAACziB,WAAW,GACtEyiB,EAAoBxvB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UACjC6G,EAA2BI,OAAO,EACrCsoB,EAA0BniB,MAAM,CAC/B,CACCzD,OAAQslB,CAAAA,EAAAA,EAAAA,6BAAAA,EAA8BpoB,EAA2BqF,IAAI,EACrEujB,eAAgBP,EAChBQ,UAAWN,CACZ,EACA,CACCpiB,UAAW/P,EAAM8F,UAAU,CAC3B6L,QAAS,IAAMkb,OAAO6F,QAAQ,CAAC,EAAG,EACnC,EAGH,EAAG,CAAC9oB,EAA4B0oB,EAA2BL,EAAkBE,EAAenyB,EAAM8F,UAAU,CAAC,EAEvG6sB,EAASxjB,EAAAA,CAAIA,CAACyjB,QAAQ,GAAGD,MAAM,CAC/Bb,EAAexiB,CAAAA,EAAAA,GAAAA,CAAAA,EAAS,CAC7BujB,SAAU,CAAC,eAAgBhqB,EAA+B,CAC1DiqB,QAAS,UACR,IAAMC,EAAM,MAAMJ,EAAO7M,OAAO,CAACkN,eAAe,CAAC7iB,MAAM,CAAC,CACvDzD,OAAQ7D,MAAAA,EAAAA,EAAmC,CAAC,CAC7C,GACA,OAAOkqB,CACR,EACAtf,QAAS7J,EAA2BI,OAAO,GAGtCipB,EAAAA,OAA8BnB,CAAAA,EAAAA,EAAa7iB,IAAI,GAAjB6iB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmB1mB,IAAI,CAC1D,GACCwN,YAAAA,EAAE4S,KAAK,EACP5S,CAAwB,IAAxBA,EAAEsa,iBAAiB,EACnBta,CAAgB,IAAhBA,EAAEua,SAAS,EACX,CAAChB,EAAcxnB,QAAQ,CAACiO,EAAEwa,QAAQ,GAClC,CAACnB,EAAiBtnB,QAAQ,CAACiO,EAAEwa,QAAQ,GAMvC,GAHId,EAA0BroB,KAAK,EAClCH,EAAO9F,IAAI,CAACsuB,EAA0BroB,KAAK,CAACkB,OAAO,EAEhDvB,CAAuC,IAAvCA,EAA2BI,OAAO,CAAY,CAEjD,IAAMkB,EAAatB,EAA2BK,KAAK,CAACgB,OAAO,GAAGC,UAAU,CAClEiiB,EAAcvjB,EAA2BK,KAAK,CAACgB,OAAO,GAAGkiB,WAAW,CAC1E,GAAIjiB,EAAWnH,MAAM,CACpBmH,EAAWtH,OAAO,CAAC,IAClBkG,EAAO9F,IAAI,CAACmH,EACb,QAEA,IAAK,IAAMkoB,KAASlG,EACnBrjB,EAAO9F,IAAI,CACV,GAAAqC,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,sBAAc0sB,IAAa,KAAmD,OAAhDlG,CAAAA,EAAAA,CAAW,CAACkG,EAAoC,GAAhDlG,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAkD,CAAC,EAAE,IAKxG,CAEA,IAAM4E,EAAe5Y,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC5B,GAAIvP,EAA2BI,OAAO,CAAE,KAChCJ,EAAP,cAAOA,CAAAA,EAAAA,EAA2BqF,IAAI,CAAC7E,KAAK,CAC1CgQ,MAAM,CAAC,GAAO5M,EAAE5C,IAAI,CAAC5H,UAAU,CAAC,MAAQwK,EAAE5C,IAAI,CAAC5H,UAAU,CAAC,QADrD4G,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAEJhD,GAAG,CAAC,QAGoB4I,EAGNA,EAWeA,EAhBlC,IAAMA,EAAQ5F,EAA2BqF,IAAI,CAAC0R,YAAY,CACpD9V,EAAYR,EAAKQ,SAAS,CAChC,GAAIA,MAAAA,GAAqB2E,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAO8jB,UAAU,GAAjB9jB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAmB,CAAC3E,EAAU,CAAC/K,KAAK,GAAI,KAChE,OAAO,KAER,IAAMyzB,EAAa/jB,CAAAA,OAAAA,CAAAA,EAAAA,EAAM8jB,UAAU,GAAhB9jB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAkB,CAAC3E,EAAU,CAAC2oB,QAAQ,GAAI,KACvDC,EACLppB,EAAMO,IAAI,CAAC5H,UAAU,CAAC,MACrB4G,EAA2BqF,IAAI,CAAC/C,SAAS,CAACd,IAAI,CAAC,QAAO9G,QAAAA,CAAAA,OAAAA,CAAAA,EAAAA,EAAEqsB,QAAQ,GAAVrsB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAY7D,EAAE,IAAK,gBACzE4J,EAAKO,IAAI,CAAC5H,UAAU,CAAC,MACrB4G,EAA2BqF,IAAI,CAAC/C,SAAS,CAACd,IAAI,CAAC,QAAO9G,QAAAA,CAAAA,OAAAA,CAAAA,EAAAA,EAAEktB,QAAQ,GAAVltB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAY7D,EAAE,IAAK,eAC3E,MAAO,CAAC8yB,GAAcE,EACrB,GAAAptB,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,CAAiB/E,UAAU,aAAa7G,MAAM,0CAC1D,GAAAuG,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,WACA,GAAAb,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,sBAAc0D,EAAKO,IAAI,GAAQ,mDAAiD,IAChG,GAAAvE,EAAAC,GAAA,EAACc,OAAAA,CAAKT,UAAU,sBAA8B,OAAhB6I,CAAAA,EAAAA,EAAM8jB,UAAU,GAAhB9jB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAAkB,CAAC3E,EAAU,CAAC/K,KAAK,GAAQ,wDAJzDuK,EAAKO,IAAI,EASzB,IACL,GACCwP,MAAM,CAAC6D,QACV,CACA,OAAO,IACR,EAAG,CAACrU,EAA2B,EAE/B,MACC,GAAAvD,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACb,IACD,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAkE3G,EAAMmD,IAAI,GAC1F,GAAAkD,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA2D3G,EAAMkG,WAAW,MAE1F,GAAAG,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sDACbiD,EAA2BI,OAAO,EAClC,GAAA3D,EAAAW,IAAA,EAACE,MAAAA,WACC4C,EAAO/F,MAAM,CAAG,GAChB,GAAAsC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAC,GAAA,EAACoF,EAAAA,CAAYA,CAAAA,UACX5B,EAAOlD,GAAG,CAAC,CAACyE,EAAGvH,IACf,GAAAuC,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,gBACb0E,GADyBvH,QAO/B,GAAAuC,EAAAW,IAAA,EAACyE,EAAAA,CAAiBA,CAAAA,CAAC9E,UAAU,iBAC5B,GAAAN,EAAAC,GAAA,EAAC0qB,GAAUA,CAAClU,GAAI7V,EAAAA,QAAQA,UACtB,QAiDK2C,EACAA,EAAAA,EADAA,KAjDJ,CAAEolB,KAAAA,CAAI,CAAE,CAAAtP,QACT,GAAArZ,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAC,GAAA,EAAC0qB,GAAW7oB,MAAM,EAAC2U,GAAG,MAAMnW,UAAU,8DACrC,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,6DACd,GAAAN,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,uGACb,GAAAN,EAAAC,GAAA,EAACc,OAAAA,UAAK,YACLwC,MAAAA,EAA2BqF,IAAI,CAAC0R,YAAY,EAAY,CAAC0R,EAAqBpjB,IAAI,EAClF,GAAA5I,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,kBAAS,oBAGxB,GAAAxI,EAAAC,GAAA,EAAC2qB,SAAAA,UACA,GAAA5qB,EAAAC,GAAA,EAAC4qB,GAAgBA,CAChBvqB,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACV,kDACAioB,EAAO,YAAc,qBAM1B,GAAA3oB,EAAAW,IAAA,EAACgqB,GAAWpB,KAAK,EAAC9S,GAAG,KAAKnW,UAAU,iEACnC,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,YAC/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZiD,MAAAA,EAA2BqF,IAAI,CAAC6W,OAAO,CACrC,GAA2Dlc,MAAAA,CAAxDA,EAA2BqF,IAAI,CAAC6W,OAAO,CAAC7T,YAAY,CAAC,KAAmD9R,MAAAA,CAAhDyJ,EAA2BqF,IAAI,CAAC6W,OAAO,CAAC3iB,IAAI,CAAC,KAAuH2H,MAAA,CAApH3K,OAAOuN,IAAI,CAAC9D,EAA2BqF,IAAI,CAAC6W,OAAO,CAACY,KAAK,EAAE3iB,MAAM,CAAG,EAAI6F,EAA2BqF,IAAI,CAACgV,IAAI,CAACtiB,CAAC,CAAG,IAC5N,qBAGL,GAAA0E,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAW,IAAA,EAACmqB,KAAAA,CAAGxqB,UAAU,qFACb,GAAAN,EAAAC,GAAA,EAACc,OAAAA,UAAK,iBACLwC,EAA2BqF,IAAI,CAAC0R,YAAY,EAC5C,GAAAta,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAOwjB,CAA8B,IAA9BA,EAAqBpjB,IAAI,CAAY,QAAU,eAC3DojB,CAA8B,IAA9BA,EAAqBpjB,IAAI,CAAY,WAAa,oBAItD,GAAA5I,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZiD,MAAAA,EAA2BqF,IAAI,CAAC0R,YAAY,CAC1C,GAAgE/W,MAAAA,CAA7DA,EAA2BqF,IAAI,CAAC0R,YAAY,CAAC1O,YAAY,CAAC,KAAqDnH,MAAA,CAAlDlB,EAA2BqF,IAAI,CAAC0R,YAAY,CAACxd,IAAI,EACjH,qBAGL,GAAAkD,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,2BAG/E,GAAAN,EAAAW,IAAA,EAACoqB,KAAAA,CAAGzqB,UAAU,uFACZiD,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA2BqF,IAAI,CAACoZ,aAAa,GAA7Cze,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA+C9J,KAAK,GAApD8J,KAAAA,IAAAA,EAAAA,EAAwD,gBACX,OAA7CA,CAAAA,EAAAA,EAA2BqF,IAAI,CAACoZ,aAAa,GAA7Cze,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAA+C2nB,KAAK,GAApD3nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAsDhD,GAAG,CAAC,GAC1D,GAAAP,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAO4J,EAAE5J,KAAK,UACnB4J,EAAEpU,QAAQ,EADgBoU,EAAEpU,QAAQ,SAMxCuF,MAAAA,EAA2BqF,IAAI,CAAC0R,YAAY,EAAY,CAAC0R,EAAqBpjB,IAAI,EAClF,GAAA5I,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,yBACd,GAAAN,EAAAC,GAAA,EAACqO,EAAAA,CAAcA,CAAAA,UACd,GAAAtO,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qBACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,UAAI,oLAST,IAGJ,GAAAb,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,YACbiD,EAA2BqF,IAAI,CAAC/C,SAAS,CAACtF,GAAG,CAAC,GAC9C,GAAAP,EAAAC,GAAA,EAAC4pB,gBAAAA,CAAgC5jB,WAAYonB,EAAK9oB,IAAI,EAAhC8oB,EAAK9oB,IAAI,KAGjC,GAAAvE,EAAAC,GAAA,EAAC0qB,GAAUA,CAAClU,GAAI7V,EAAAA,QAAQA,CAAE0nB,YAAa,YACrC,QA8CI/kB,EAxCEmoB,KANL,CAAE/C,KAAAA,CAAI,CAAE,CAAAtP,QACT,GAAArZ,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAC,GAAA,EAAC0qB,GAAW7oB,MAAM,EAAC2U,GAAG,MAAMnW,UAAU,8DACrC,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,6DACd,GAAAN,EAAAW,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,uGACb,GAAAN,EAAAC,GAAA,EAACc,OAAAA,UAAK,WACJ2qB,CAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAchuB,MAAM,GAApBguB,KAAAA,IAAAA,EAAAA,EAAwB,GAAK,GAAK,GAAA1rB,EAAAC,GAAA,EAACmP,GAAAA,EAAKA,CAAAA,CAAC5G,MAAM,eAAM,kBAExD,GAAAxI,EAAAC,GAAA,EAAC2qB,SAAAA,UACA,GAAA5qB,EAAAC,GAAA,EAAC4qB,GAAgBA,CAChBvqB,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACV,kDACAioB,EAAO,YAAc,qBAM1B,GAAA3oB,EAAAW,IAAA,EAACgqB,GAAWpB,KAAK,YAChB,GAAAvpB,EAAAW,IAAA,EAAC4pB,KAAAA,CAAGjqB,UAAU,iEACb,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,qBAG/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZiD,EAA2BqF,IAAI,CAAC9F,eAAe,CAAG,UAAY,gBAGjE,GAAA9C,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,eAG/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZiD,EAA2BqF,IAAI,CAAC5F,WAAW,CAAG,UAAY,gBAG7D,GAAAhD,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAC,GAAA,EAAC6qB,KAAAA,CAAGxqB,UAAU,0EAAiE,uBAG/E,GAAAN,EAAAC,GAAA,EAAC8qB,KAAAA,CAAGzqB,UAAU,2EACZiD,EAA2BqF,IAAI,CAAC1F,iBAAiB,CAAG,UAAY,mBAIpE,GAAAlD,EAAAC,GAAA,EAACsqB,KAAAA,CAAGjqB,UAAU,8GACyB,OAArCiD,CAAAA,EAAAA,EAA2BqF,IAAI,CAAC7E,KAAK,GAArCR,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAuChD,GAAG,CAAC,CAACyD,EAAMvG,IAClD,GAAAuC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0BACd,GAAAN,EAAAW,IAAA,EAACmqB,KAAAA,CAAGxqB,UAAU,sFACZ0D,EAAKO,IAAI,GAAKJ,EAAAA,EAAWA,CAACC,QAAQ,CAAGJ,EAAKO,IAAI,CAAGP,EAAKO,IAAI,CAACyiB,iBAAiB,GAAG,2BAGjF,GAAAhnB,EAAAW,IAAA,EAACoqB,KAAAA,CAAGzqB,UAAU,4EACb,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,wBACb0D,EAAKsZ,MAAM,CAAC7jB,KAAK,CAAC,MAAIuK,EAAKspB,OAAO,CAAC,OAErC,GAAAttB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,wBACb0D,EAAKupB,OAAO,CAAC9zB,KAAK,CAAC,MAAIuK,EAAKjH,OAAO,CAAC,WAEtC,GAAAiD,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,wBAAe0D,EAAKwpB,aAAa,CAAC,sBAZf/vB,WAkBtC,IAIJ,GAAAuC,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,0EACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAiE,wBAG/E,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,6DAIxE,GAAAN,EAAAC,GAAA,EAACsqB,KAAAA,CAAGjqB,UAAU,gEACb,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,8CACd,GAAAN,EAAAC,GAAA,EAACwtB,GAAAA,CAAWA,CAAAA,CACXC,iBAAkBnqB,EAA2BI,OAAO,CAAGnB,EAAiC,KACxFmrB,sBAAuB5B,EACvB6B,yBAA0B/B,QAI7B,GAAA7rB,EAAAC,GAAA,EAACsqB,KAAAA,CAAGjqB,UAAU,gGACb,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,8CACd,GAAAN,EAAAC,GAAA,EAACqI,YAAWA,UACX,GAAAtI,EAAAW,IAAA,EAACktB,KAAAA,CAAGvtB,UAAU,qCACb,GAAAN,EAAAC,GAAA,EAACQ,KAAAA,UAAG,gNAKJ,GAAAT,EAAAC,GAAA,EAACQ,KAAAA,UAAG,oSAcb,GAAAT,EAAAC,GAAA,EAACuB,eAAcA,CACdE,KAAM,CAAEV,QAASrH,EAAMgG,cAAc,EACrCwC,MAAO,CACNnB,QAASkrB,EACTlqB,SACC,CAACuB,EAA2BI,OAAO,EAAI,CAAC+nB,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAchuB,MAAM,GAApBguB,KAAAA,IAAAA,EAAAA,EAAwB,GAAK,GAAKkB,EAC3EnzB,MAAOmzB,EACJ,+DACAltB,KAAAA,EACHiC,UAAWsqB,EAA0BtqB,SAAS,CAC9CM,MAAO,kBACR,MAIJ,EAEa2nB,kBAA+C,GAK1D,GAAA5pB,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACb,IACD,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAkE3G,EAAMmD,IAAI,GAC1F,GAAAkD,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA2D3G,EAAMkG,WAAW,MAE1F,GAAAG,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,uDAA6C,mIAG3D,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,iBAAO,0BACG,IACxB,GAAAN,EAAAC,GAAA,EAACiS,IAAAA,CACAtV,KAAK,iEACLof,OAAO,SACP8R,IAAI,aACJxtB,UAAU,8DACV,iDAMJ,GAAAN,EAAAC,GAAA,EAACuB,eAAcA,CACdE,KAAM,CAAEV,QAASrH,EAAMgG,cAAc,EACrCwC,MAAO,CACNnB,QA9BiB,KACpBwlB,OAAOuH,QAAQ,CAACnxB,IAAI,CAAG,UAAY4pB,OAAOuH,QAAQ,CAAC9K,QAAQ,EA8BxDhhB,MAAO,eACR,OAMS+rB,eAA4C,IACxD,GAAM,CAAErvB,YAAAA,CAAW,CAAEmB,YAAAA,CAAW,CAAE,CAAG3B,SAAS,CAC7CO,MAAOgrB,GACPlqB,kBAAmB7F,CACpB,GAEA,OAAOgF,EAAY4d,YAAY,CAAC,CAC/B,GAAGzc,CAAW,EAEhB,6BC7nBA,IAAMmuB,UAAY,CAACpoB,EAAyCqoB,KAC3D,IAAIC,EAAY,EACVC,aAAe,IAEb,CAACD,EAAAA,EAAY,IAAIE,QAAQ,CAAC,EAAG,KAE/B/wB,EAAuB,CAC5B,CACClD,GAAIg0B,eACJtxB,KAAM,uBACN+C,YAAa,sCACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAACkqB,UAASA,CAAE,GAAGjkB,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EAChF,EACA,CACCb,GAAIg0B,eACJtxB,KAAM,oBACN+C,YAAa,2CACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAACwlB,iBAAgBA,CAAE,GAAGvf,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EACvF,EACA,CACCb,GAAIg0B,eACJtxB,KAAM,4BACNqE,eAAgB+sB,EAChBruB,YAAa,0CACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAAC2iB,eAAcA,CAAE,GAAG1c,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EACrF,EACA,CA4CD,OA3CA4K,EAAUtI,OAAO,CAAC,IACjB,IAAMuI,EAAK,IAAIyb,EAAAA,CAAcA,CAACnY,GAC9B9L,EAAOK,IAAI,CAAC,CACXvD,GAAIg0B,eACJtxB,KAAM,GAAuB2H,MAAA,CAApBqB,EAAGuW,cAAc,GAAG,0BAC7Blb,eAAgB+sB,EAChBruB,YAAa,yDAAiG4E,MAAA,CAAxCqB,EAAGwW,cAAc,GAAGgS,iBAAiB,IAC3G1xB,KAAM,IACN2f,aAAc,GACb,GAAAhM,EAAA1W,aAAA,EAAC2iB,eAAcA,CAAE,GAAG1c,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,CAAEgL,WAAYmD,EAAS7E,IAAI,EAElF,EACD,GACAjH,EAAOK,IAAI,CAAC,CACXvD,GAAIg0B,eACJtxB,KAAM,qBACNqE,eAAgB+sB,EAChBruB,YAAa,oEACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAACyI,kBAAiBA,CAAE,GAAGxC,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EACxF,GACAqC,EAAOK,IAAI,CAAC,CACXvD,GAAIg0B,eACJtxB,KAAM,qBACNqE,eAAgB+sB,EAChBruB,YAAa,wCACbjD,KAAM,IACN2f,aAAc,GAAiB,GAAAhM,EAAA1W,aAAA,EAACm0B,eAAcA,CAAE,GAAGluB,CAAW,CAAE7E,IAAK6E,EAAY7E,GAAG,EACrF,GAeOqC,CACR,EAEMixB,WAAuB,IAE3B,GAAAvuB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,gBACd,GAAAN,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAiE,qCAG/E,GAAAN,EAAAC,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,gEAIxE,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,sDACd,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,QAMC4sB,WAAoC,QAMKC,EALrD,IAAMA,EAAeC,CAAAA,EAAAA,GAAAA,eAAAA,IACf7wB,EAASC,CAAAA,EAAAA,GAAAA,SAAAA,IACTvB,EAAWF,CAAAA,EAAAA,GAAAA,gBAAAA,IACXsyB,EAAM7O,CAAAA,EAAAA,EAAAA,EAAAA,EAAe8O,EAAAA,EAA6BA,EAClDlwB,EAAQoU,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAMmb,UAAUU,EAAKA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAKjxB,MAAM,EAAG,GAAI,CAACixB,EAAI,EAC5DE,EAAUJ,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAcK,GAAG,CAAC,SAAUC,SAASN,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAcK,GAAG,CAAC,UAAlBL,KAAAA,IAAAA,EAAAA,EAA6B,GAAI,IAAM,KACtFO,EAAcr1B,EAAMs1B,gBAAgB,EAAI,CAACt1B,EAAMu1B,iBAAiB,CAAG,EAAI,EAEvE,CAAE7wB,iBAAAA,CAAgB,CAAES,oBAAAA,CAAmB,CAAEgB,YAAAA,CAAW,CAAEnB,YAAAA,CAAW,CAAE,CAAGR,SAAS,CACpFK,KAAMqwB,MAAAA,GAAmBA,EAAUnwB,EAAMhB,MAAM,CAAGmxB,EAAUG,EAC5D5wB,aAAc,IAEbP,EAAOF,IAAI,CAAC,GAAoBa,MAAAA,CAAjBjC,EAAS,UAAakI,MAAA,CAALjG,GAAQkB,KAAAA,GACxC8mB,OAAO6F,QAAQ,CAAC,EAAG,EACpB,EACA3tB,MAAAA,CACD,GAIA,MACC,GAAAsB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,kHACd,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,wCACd,GAAAN,EAAAC,GAAA,EAAC6O,GAAAA,IAAIA,CAAAA,UACJ,GAAA9O,EAAAC,GAAA,EAAC5G,EAAAA,QAAc,EAAC0M,SAAU,GAAA/F,EAAAC,GAAA,EAACsuB,WAAAA,CAAAA,YACzBrjB,MAPU2jB,GAAmBA,IAAYxwB,EAO/BM,EAAY4d,YAAY,CAACzc,GAAe,GAAAE,EAAAC,GAAA,EAACsuB,WAAAA,CAAAA,SAIvD,GAAAvuB,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,kDACd,GAAAN,EAAAW,IAAA,EAACmO,GAAAA,IAAIA,CAAAA,CAACxO,UAAU,gBACf,GAAAN,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,mEACd,GAAAN,EAAAC,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,0EAAiE,qBAEhF,GAAAN,EAAAC,GAAA,EAACF,cAAaA,CACbrB,MAAOA,EACPoB,YAAaA,EACbzB,iBAAkBA,EAClBS,oBAAqBA,WAM3B,iBCjJO,IAAMqwB,OAAgC,QAO/BtsB,EANb,GAAM,CAAE+F,KAAMwmB,CAAO,CAAE,CAAGtmB,EAAAA,CAAIA,CAACsmB,OAAO,CAACnmB,QAAQ,CAACvJ,KAAAA,EAAW,CAAEsd,iBAAkB,GAAMxP,eAAgB,EAAM,GACrG,CAAE5E,KAAMymB,CAAE,CAAE,CAAGvmB,EAAAA,CAAIA,CAACwmB,SAAS,CAACrmB,QAAQ,CAACvJ,KAAAA,EAAW,CAAEsd,iBAAkB,GAAMxP,eAAgB,EAAM,GAClG3K,EAAkBid,CAAAA,EAAAA,EAAAA,EAAAA,EAAeoB,GAAAA,EAAYA,EACnD,MACC,GAAAlhB,EAAAW,IAAA,EAAAX,EAAAY,QAAA,YACC,GAAAZ,EAAAC,GAAA,EAACsvB,GAAAA,EAAuBA,CAAAA,CACvB91B,MAAO,GAAsCgL,MAAA,CAAnC5B,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAiB/F,IAAI,GAArB+F,KAAAA,IAAAA,EAAAA,EAAyB,UAAU,UAC7ChD,YAAa,SAAsBwvB,MAAAA,CAAbD,EAAQ,OAAQ3qB,MAAA,CAAH4qB,KAGpC,GAAArvB,EAAAC,GAAA,EAACuuB,WAAUA,CAAE,GAAG70B,CAAK,KAGxB,gJCvBA,IAAM61B,OAAS,OAAC,CAAEC,sBAAAA,EAAwB,EAAI,CAAE,GAAG91B,EAA0D,CAAA0f,QAC5G,GAAArZ,EAAAC,GAAA,EAACyvB,EAAAA,CAAeA,CAACC,IAAI,EAACF,sBAAuBA,EAAwB,GAAG91B,CAAK,EAAG,CAEjF61B,CAAAA,OAAO/e,WAAW,CAAG,SAErB,IAAMmf,EAAgBF,EAAAA,CAAeA,CAACG,OAAO,CAEvCC,EAAeJ,EAAAA,CAAeA,CAACK,MAAM,CAErCC,EAAcN,EAAAA,CAAeA,CAACO,KAAK,CAEnCC,EAAgB72B,EAAAA,UAAgB,CAGpC,CAAAggB,EAA0Blf,QAAzB,CAAEmG,UAAAA,CAAS,CAAE,GAAG3G,EAAO,CAAA0f,QACzB,GAAArZ,EAAAC,GAAA,EAACyvB,EAAAA,CAAeA,CAACS,OAAO,EAACh2B,IAAKA,EAAKmG,UAAW8vB,CAAAA,EAAAA,EAAAA,EAAAA,EAAG,iCAAkC9vB,GAAa,GAAG3G,CAAK,EAAG,GAE5G02B,CAAAA,EAAAA,EAAAA,CAAAA,EAAeH,EAAeR,EAAAA,CAAeA,CAACS,OAAO,CAAC1f,WAAW,EAEjE,IAAM6f,EAAgBj3B,EAAAA,UAAgB,CAGpC,CAAAggB,EAAoClf,QAAnC,CAAEmG,UAAAA,CAAS,CAAEtC,SAAAA,CAAQ,CAAE,GAAGrE,EAAO,CAAA0f,QACnC,GAAArZ,EAAAW,IAAA,EAACmvB,EAAAA,WACA,GAAA9vB,EAAAC,GAAA,EAACiwB,EAAAA,CAAAA,GACD,GAAAlwB,EAAAW,IAAA,EAAC+uB,EAAAA,CAAeA,CAACa,OAAO,EACvBp2B,IAAKA,EACLmG,UAAW8vB,CAAAA,EAAAA,EAAAA,EAAAA,EACV,kKACA9vB,GAEA,GAAG3G,CAAK,WAET,GAAAqG,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,qDACdtC,OAEW,GAEfqyB,CAAAA,EAAAA,EAAAA,CAAAA,EAAeC,EAAe,iBAE9B,IAAME,aAAe,OAAC,CAAElwB,UAAAA,CAAS,CAAE,GAAG3G,EAA6C,CAAA0f,QAClF,GAAArZ,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAW8vB,CAAAA,EAAAA,EAAAA,EAAAA,EAAG,4CAA6C9vB,GAAa,GAAG3G,CAAK,EAAG,CAEzF62B,CAAAA,aAAa/f,WAAW,CAAG,eAE3B,IAAMggB,aAAe,OAAC,CAAEnwB,UAAAA,CAAS,CAAE,GAAG3G,EAA6C,CAAA0f,QAClF,GAAArZ,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAW8vB,CAAAA,EAAAA,EAAAA,EAAAA,EAAG,kCAAmC9vB,GAAa,GAAG3G,CAAK,EAAG,CAE/E82B,CAAAA,aAAahgB,WAAW,CAAG,eAE3B,IAAMigB,EAAcr3B,EAAAA,UAAgB,CAGlC,CAAAggB,EAA0Blf,QAAzB,CAAEmG,UAAAA,CAAS,CAAE,GAAG3G,EAAO,CAAA0f,QACzB,GAAArZ,EAAAC,GAAA,EAACyvB,EAAAA,CAAeA,CAACiB,KAAK,EACrBx2B,IAAKA,EACLmG,UAAW8vB,CAAAA,EAAAA,EAAAA,EAAAA,EAAG,oDAAqD9vB,GAClE,GAAG3G,CAAK,EACT,GAEF02B,CAAAA,EAAAA,EAAAA,CAAAA,EAAeK,EAAahB,EAAAA,CAAeA,CAACiB,KAAK,CAAClgB,WAAW,EAE7D,IAAMmgB,EAAoBv3B,EAAAA,UAAgB,CAGxC,CAAAggB,EAA0Blf,QAAzB,CAAEmG,UAAAA,CAAS,CAAE,GAAG3G,EAAO,CAAA0f,QACzB,GAAArZ,EAAAC,GAAA,EAACyvB,EAAAA,CAAeA,CAAC7W,WAAW,EAAC1e,IAAKA,EAAKmG,UAAW8vB,CAAAA,EAAAA,EAAAA,EAAAA,EAAG,gCAAiC9vB,GAAa,GAAG3G,CAAK,EAAG,GAE/G02B,CAAAA,EAAAA,EAAAA,CAAAA,EAAeO,EAAmBlB,EAAAA,CAAeA,CAAC7W,WAAW,CAACpI,WAAW,wEE1BlE,SAAS3E,MAAMnS,CAAiB,MAuGfA,EAKAA,EAKDA,EACfA,EA+BeA,EAKAA,EAMAA,EACfA,EA5JP,GAAM,CAAEqH,QAAAA,CAAO,CAAEkL,QAAAA,CAAO,CAAEoW,oBAAAA,CAAmB,CAAE,CAAG3oB,EAC5C,CAACgvB,EAAMkI,EAAQ,CAAGtyB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS5E,MAAAA,EAAMqE,QAAQ,EACzC,CAAC8yB,EAAmBC,EAAqB,CAAGxyB,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,IACpEyyB,EAAgBt0B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UACjC,IAAMu0B,EAAWjwB,MAAAA,EAAAA,KAAAA,EAAAA,IACjB,GAAIiwB,aAAoBh1B,QAAS,CAChC80B,EAAqB,GACrB,GAAI,CACH,MAAME,EACN/kB,MAAAA,GAAAA,IACA2kB,EAAQ,GACT,CAAE,MAAO7rB,EAAG,CAIX,MAHIA,aAAaiT,OAChBiZ,EAAAA,CAAKA,CAACttB,KAAK,CAACoB,EAAEF,OAAO,EAEhBE,CACP,QAAU,CACT+rB,EAAqB,GACtB,CACD,MACC7kB,MAAAA,GAAAA,IACA2kB,EAAQ,GAEV,EAAG,CAAC7vB,EAASkL,EAAQ,EAEfilB,EAAuBz0B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UACxC,IAAMu0B,EAAW3O,MAAAA,EAAAA,KAAAA,EAAAA,IACjB,GAAI2O,aAAoBh1B,QAAS,CAChC80B,EAAqB,GACrB,GAAI,CACH,MAAME,EACN/kB,MAAAA,GAAAA,IACA2kB,EAAQ,GACT,CAAE,MAAO7rB,EAAG,CAIX,MAHIA,aAAaiT,OAChBiZ,EAAAA,CAAKA,CAACttB,KAAK,CAACoB,EAAEF,OAAO,EAEhBE,CACP,QAAU,CACT+rB,EAAqB,GACtB,CACD,MACC7kB,MAAAA,GAAAA,IACA2kB,EAAQ,GAEV,EAAG,CAACvO,EAAqBpW,EAAQ,EAE3BklB,EAAgB10B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACjCwP,MAAAA,GAAAA,IACA2kB,EAAQ,GACT,EAAG,CAAC3kB,EAAQ,EAENvI,EAAUhK,EAAMgI,SAAS,CAC9B,GAAA3B,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,8GACd,GAAAN,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,UAAUuB,SAAU,GAAMf,cAAY,WAEvDnH,CAAkB,IAAlBA,EAAMgK,OAAO,CAChB,GAAA3D,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,8GACd,GAAAN,EAAAC,GAAA,EAACgB,EAAAA,CAAKA,CAAAA,CAACX,UAAU,2CAA2CQ,cAAY,WAEtEnH,CAAkB,IAAlBA,EAAMgK,OAAO,CAChB,GAAA3D,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,8GACd,GAAAN,EAAAC,GAAA,EAACoxB,EAAAA,CAAKA,CAAAA,CAAC/wB,UAAU,2CAA2CQ,cAAY,WAEtE,KACEwwB,EAAYC,SDhHWprB,CAAa,MAEHqrB,EADvC,IAAMA,EAAiDhL,OAAOiL,UAAU,CAACtrB,GACnE,CAACurB,EAASC,EAAW,CAAGpzB,CAAAA,EAAAA,EAAAA,QAAAA,EAASizB,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAgBE,OAAO,GAAvBF,KAAAA,IAAAA,GAAAA,GAiBvC,MAfAxyB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACT,GAAIwyB,MAAAA,EACH,OAED,IAAMI,aAAe,IACpBD,EAAW5V,EAAM2V,OAAO,CACzB,EAIA,OAFAF,EAAevb,gBAAgB,CAAC,SAAU2b,cAEnC,KACNJ,EAAeK,mBAAmB,CAAC,SAAUD,aAC9C,CACD,EAAG,CAACJ,EAAe,EAEZE,CACR,EC4FiC,6BAEhC,EAEE,GAAA1xB,EAAAW,IAAA,EAACmxB,EAAAA,EAAMA,CAAAA,CACNnJ,KAAMA,EACNoJ,aAAc,IACR1U,EAGJwT,EAAQxT,GAFR+T,GAIF,YAECz3B,EAAMqE,QAAQ,EAAI,GAAAgC,EAAAC,GAAA,EAAC+xB,EAAAA,EAAaA,CAAAA,CAACC,QAAO,YAAEt4B,EAAMqE,QAAQ,GACzD,GAAAgC,EAAAW,IAAA,EAACuxB,EAAAA,EAAaA,CAAAA,CAAC5xB,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EAAO/G,EAAMw4B,IAAI,CAAG,YAAc,gBAAiB,yBAC5E,GAAAnyB,EAAAW,IAAA,EAACE,MAAAA,CAAIP,UAAU,oCACbqD,EACD,GAAA3D,EAAAW,IAAA,EAACyxB,EAAAA,EAAYA,CAAAA,WACZ,GAAApyB,EAAAC,GAAA,EAACoyB,EAAAA,EAAWA,CAAAA,UAAE14B,EAAMF,KAAK,GACzB,GAAAuG,EAAAC,GAAA,EAACqyB,EAAAA,EAAiBA,CAAAA,UAAE34B,EAAMoS,IAAI,SAGhC,GAAA/L,EAAAC,GAAA,EAACmF,EAAAA,CAAiBA,CAAAA,CAAC6W,mBAAmB,iDACpCtiB,EAAMqS,OAAO,GAEf,GAAAhM,EAAAW,IAAA,EAACE,MAAAA,CACAP,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACV,wBACA/G,EAAM0oB,iBAAiB,EAAI1oB,EAAM2oB,mBAAmB,CACjD,cACA3oB,EAAMsS,WAAW,EAAItS,EAAMqH,OAAO,CACjC,cACA,yBAGJrH,EAAMsS,WAAW,EAAItS,EAAMqH,OAAO,EAClC,GAAAhB,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CAACC,QAASpI,OAAAA,CAAAA,EAAAA,EAAM44B,aAAa,GAAnB54B,KAAAA,IAAAA,EAAAA,EAAuB,OAAQqH,QAASgwB,YACvDr3B,EAAMsS,WAAW,CAAC,IAAE6kB,IAAAA,GAA2B,GAAA9wB,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,eAAeuB,SAAU,QAG7FlI,EAAM0oB,iBAAiB,EAAI1oB,EAAM2oB,mBAAmB,EACpD,GAAAtiB,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CAACC,QAASpI,OAAAA,CAAAA,EAAAA,EAAM64B,mBAAmB,GAAzB74B,KAAAA,IAAAA,EAAAA,EAA6B,gBAAiBqH,QAASmwB,YACtEx3B,EAAM0oB,iBAAiB,CAAE,IACzByO,IAAAA,GAA2B,GAAA9wB,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,eAAeuB,SAAU,QAG1E,GAAA7B,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACC,QAASpI,OAAAA,CAAAA,EAAAA,EAAM84B,cAAc,GAApB94B,KAAAA,IAAAA,EAAAA,EAAwB,UAAWqH,QAASowB,WAC3Dz3B,OAAAA,CAAAA,EAAAA,EAAM+4B,WAAW,GAAjB/4B,KAAAA,IAAAA,EAAAA,EAAqB,oBAS3B,GAAAqG,EAAAW,IAAA,EAAC6uB,OAAMA,CACN7G,KAAMA,EACNoJ,aAAc,IACR1U,EAGJwT,EAAQxT,GAFR+T,GAIF,YAECz3B,EAAMqE,QAAQ,EAAI,GAAAgC,EAAAC,GAAA,EAAC2vB,EAAaA,CAACqC,QAAO,YAAEt4B,EAAMqE,QAAQ,GACzD,GAAAgC,EAAAW,IAAA,EAAC2vB,EAAaA,WACb,GAAAtwB,EAAAW,IAAA,EAAC6vB,aAAYA,CAAClwB,UAAU,8CACtBqD,EACD,GAAA3D,EAAAW,IAAA,EAACE,MAAAA,WACA,GAAAb,EAAAC,GAAA,EAACywB,EAAWA,UAAE/2B,EAAMF,KAAK,GACzB,GAAAuG,EAAAC,GAAA,EAAC2wB,EAAiBA,UAAEj3B,EAAMoS,IAAI,SAG/BpS,EAAMqS,OAAO,EAAI,GAAAhM,EAAAC,GAAA,EAACY,MAAAA,CAAIP,UAAU,2CAAmC3G,EAAMqS,OAAO,GACjF,GAAAhM,EAAAW,IAAA,EAAC8vB,aAAYA,CAACnwB,UAAU,iBACtB3G,EAAMsS,WAAW,EAAItS,EAAMqH,OAAO,EAClC,GAAAhB,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CAACC,QAASpI,OAAAA,CAAAA,EAAAA,EAAM44B,aAAa,GAAnB54B,KAAAA,IAAAA,EAAAA,EAAuB,OAAQqH,QAASgwB,YACvDr3B,EAAMsS,WAAW,CAAC,IAAE6kB,IAAAA,GAA2B,GAAA9wB,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,eAAeuB,SAAU,QAG7FlI,EAAM0oB,iBAAiB,EAAI1oB,EAAM2oB,mBAAmB,EACpD,GAAAtiB,EAAAW,IAAA,EAACmB,EAAAA,CAAMA,CAAAA,CAACC,QAASpI,OAAAA,CAAAA,EAAAA,EAAM64B,mBAAmB,GAAzB74B,KAAAA,IAAAA,EAAAA,EAA6B,gBAAiBqH,QAASmwB,YACtEx3B,EAAM0oB,iBAAiB,CAAE,IACzByO,IAAAA,GAA2B,GAAA9wB,EAAAC,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAACtB,UAAU,eAAeuB,SAAU,QAG1E,GAAA7B,EAAAC,GAAA,EAAC+vB,EAAWA,CAACiC,QAAO,YACnB,GAAAjyB,EAAAC,GAAA,EAAC6B,EAAAA,CAAMA,CAAAA,CAACC,QAASpI,OAAAA,CAAAA,EAAAA,EAAM84B,cAAc,GAApB94B,KAAAA,IAAAA,EAAAA,EAAwB,UAAWqH,QAASowB,WAC3Dz3B,OAAAA,CAAAA,EAAAA,EAAM+4B,WAAW,GAAjB/4B,KAAAA,IAAAA,EAAAA,EAAqB,qBAO7B,4HCzMO,IAAM+M,OAAgC,GAE3C,GAAAisB,EAAAhyB,IAAA,EAACiyB,EAAAA,CAAMA,CAACC,KAAK,EAACpc,GAAG,MAAMnW,UAAU,sDAChC,GAAAqyB,EAAAhyB,IAAA,EAACI,OAAAA,CAAKT,UAAU,oCACf,GAAAqyB,EAAA1yB,GAAA,EAAC2yB,EAAAA,CAAMA,CAACha,KAAK,EACZnC,GAAG,OACHnW,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EACV,iEACAvH,EAAMgN,OAAO,EAAIhN,EAAM8M,KAAK,EAAI,aAChC9M,EAAMgN,OAAO,EAAI,CAAChN,EAAM8M,KAAK,EAAI,sCAElCqsB,QAAO,YAENn5B,EAAMsI,KAAK,GAEZtI,EAAMkG,WAAW,EACjB,GAAA8yB,EAAA1yB,GAAA,EAAC2yB,EAAAA,CAAMA,CAAC/Z,WAAW,EAACpC,GAAG,OAAOnW,UAAU,oDACtC3G,EAAMkG,WAAW,MAIrB,GAAA8yB,EAAA1yB,GAAA,EAAC2yB,EAAAA,CAAMA,CAAAA,CACNlc,QAAS/c,EAAM8M,KAAK,CACpBG,SAAUjN,EAAMiN,QAAQ,CACxBtG,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACV/G,EAAM8M,KAAK,EAAI9M,MAAAA,EAAMgN,OAAO,CAAW,eAAiB,kCACxD,+PAGD,GAAAgsB,EAAA1yB,GAAA,EAACc,OAAAA,CACAD,cAAY,OACZR,UAAWI,CAAAA,EAAAA,EAAAA,EAAAA,EACV/G,EAAM8M,KAAK,CAAG,gBAAkB,gBAChC,gOAIF9M,EAAMgN,OAAO,EACb,GAAAgsB,EAAA1yB,GAAA,EAACc,OAAAA,CAAKT,UAAU,mCACf,GAAAqyB,EAAA1yB,GAAA,EAAC2yB,EAAAA,CAAMA,CAACha,KAAK,EACZnC,GAAG,OACHnW,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EACV,iEACAvH,EAAMgN,OAAO,EAAI,CAAChN,EAAM8M,KAAK,EAAI,aACjC9M,EAAMgN,OAAO,EAAIhN,EAAM8M,KAAK,EAAI,sCAEjCqsB,QAAO,YAENn5B,EAAMgN,OAAO,kOCvCb,IAAMX,iBAAoD,QAsEpDvC,EASAA,EASAA,EASAA,EAWR2F,EAaQ3F,EAUAA,EAYAA,EAWAA,EAYAA,EAYAA,EAsBAA,EAYAA,EAnNZ,GAAM,CAAE2F,SAAAA,CAAQ,CAAEwT,YAAAA,CAAW,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAyBljB,EAAMsM,UAAU,EACrE,CAACxC,EAAQsvB,EAAU,CAAGx0B,CAAAA,EAAAA,EAAAA,QAAAA,EAAwC,MAE9Dy0B,EAAmBt2B,CAAAA,EAAAA,EAAAA,WAAAA,EACxB,CAAsFswB,EAAUvmB,KAC/F,IAAMwsB,EAAU7pB,EAAS8pB,YAAY,CAAC,CAAE,CAAClG,EAAM,CAAEvmB,CAAM,GACvD,GAAIwsB,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAStvB,OAAO,GAAIsvB,EAAQrqB,IAAI,EAAI9O,OAAOuN,IAAI,CAAC4rB,EAAQrqB,IAAI,EAAElL,MAAM,CAAG,EAAG,CAC7E,IAAMy1B,EAAMvW,EAAY,CAAE,GAAGxT,EAAS0U,SAAS,EAAE,CAAE,GAAGmV,EAAQrqB,IAAI,GAClEuqB,EAAIh3B,IAAI,CAAC,IACHuwB,EAAI/oB,OAAO,CAEO,MAAZ+oB,EAAI9jB,IAAI,EAClBmqB,EAAU,MAFVA,EAAUrG,EAAI9oB,KAAK,CAACiB,UAAU,CAIhC,EACD,MAAO,GAAKouB,MAAAA,EAAAA,KAAAA,EAAAA,EAAStvB,OAAO,CAG3BovB,EAAU,UAHmB,KACnBE,EAAVF,EAAUE,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAASrvB,KAAK,CAACiB,UAAU,GAAzBouB,KAAAA,IAAAA,EAAAA,EAA6B,KACxC,CAGD,EACA,CAAC7pB,EAAUwT,EAAY,SAGxB,MAAIxT,EAEF,GAAAupB,EAAAhyB,IAAA,EAACE,MAAAA,WACA,GAAA8xB,EAAAhyB,IAAA,EAACE,MAAAA,CAAIP,UAAU,iBACd,GAAAqyB,EAAA1yB,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,4EAAmE,gBACjF,GAAAqyB,EAAA1yB,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,4DAIxE,GAAAqyB,EAAA1yB,GAAA,EAACY,MAAAA,CAAIP,UAAU,kFACd,GAAAqyB,EAAA1yB,GAAA,EAACY,MAAAA,CAAIP,UAAU,sDACd,GAAAqyB,EAAA1yB,GAAA,EAAC2B,EAAAA,CAAOA,CAAAA,CAAAA,UAQZ,GAAA+wB,EAAAhyB,IAAA,EAACE,MAAAA,CACAP,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EACV6d,CAAAA,EAAAA,EAAAA,EAAAA,EAAsB,CAAEvW,MAAO,MAAO,GACtC,mEAGD,GAAAmqB,EAAAhyB,IAAA,EAACE,MAAAA,CACAP,UAAWY,CAAAA,EAAAA,EAAAA,EAAAA,EACV4d,CAAAA,EAAAA,EAAAA,EAAAA,EAA0B,CAAEtW,MAAO,MAAO,GAC1CwW,CAAAA,EAAAA,EAAAA,EAAAA,EAAoB,CAAExW,MAAO,MAAO,GACpCuW,CAAAA,EAAAA,EAAAA,EAAAA,EAAsB,CAAEvW,MAAO,MAAO,GACtC,iDAGD,GAAAmqB,EAAAhyB,IAAA,EAACuE,KAAAA,CAAG5E,UAAU,6EAAmE,YACtE8I,EAASiT,cAAc,GAAG,eAErC,GAAAsW,EAAAhyB,IAAA,EAACwE,IAAAA,CAAE7E,UAAU,mCAAyB,uCACA8I,EAASkT,cAAc,GAAGgS,iBAAiB,SAGlF,GAAAqE,EAAAhyB,IAAA,EAACE,MAAAA,CAAIP,UAAU,wDACd,GAAAqyB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBC,MAAM,UACNM,MAAO2C,EAASgqB,SAAS,GACzBxvB,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACkE,MAAM,GAA1BvnB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4B+Z,IAAI,CAAC,MACxCvb,MAAM,SACNuE,SAAU,GAAWwsB,EAAiB,SAAUvsB,OAGlD,GAAAksB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBjE,MAAM,oBACNkE,MAAM,cACNvC,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACmE,UAAU,GAA9BxnB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAgC+Z,IAAI,CAAC,MAC5ChX,SAAU,GAAgBwsB,EAAiB,aAAc/H,EAAW7wB,EAAE,EACtEqM,MAAO4sB,CAAAA,EAAAA,EAAAA,EAAAA,EAAoBjqB,EAASshB,aAAa,QAGnD,GAAAiI,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACqzB,EAAAA,EAAQA,CAAAA,CACRrxB,MAAM,cACNuE,SAAU,GAAWwsB,EAAiB,SAAU,CAAE,GAAG5pB,EAASmqB,SAAS,EAAE,CAAEziB,KAAMrK,EAAMrM,EAAE,GACzFwJ,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAAC0M,MAAM,GAA1B/vB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4B+Z,IAAI,CAAC,MACxC3N,QAAS/V,OAAOshB,MAAM,CAACqY,EAAAA,EAAMA,CAACC,KAAK,CAAC5iB,IAAI,CAAC6iB,MAAM,EAAEpzB,GAAG,CAAC8yB,EAAAA,EAAmBA,EACxE5sB,MAAO4sB,CAAAA,EAAAA,EAAAA,EAAAA,EAAoBjqB,EAASmqB,SAAS,GAAGziB,IAAI,MAGtD,GAAA6hB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAAC2mB,EAAAA,CAASA,CAAAA,CACT9V,KAAK,SACL7O,MAAM,kBACN2B,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAAC0M,MAAM,GAA1B/vB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4B+Z,IAAI,CAAC,MACxCnM,aAAcjI,EAASmqB,SAAS,GAAGK,QAAQ,CAC3Clb,OAAQ,GACPsa,EAAiB,SAAU,CAAE,GAAG5pB,EAASmqB,SAAS,EAAE,CAAEK,SAAUC,WAAW7uB,EAAEgX,MAAM,CAACvV,KAAK,CAAE,GAE5FqtB,UAAU,UACVt1B,KAAM,GACN2kB,IAAK,GACLI,IAAK,QAGNna,CAAAA,OAAAA,CAAAA,EAAAA,EAAS6T,YAAY,KAArB7T,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBqhB,yBAAyB,GAAIrhB,WAAAA,EAASshB,aAAa,IAC5E,GAAAiI,EAAA1yB,GAAA,EAACY,MAAAA,CAAIP,UAAU,sBACd,GAAAqyB,EAAA1yB,GAAA,EAACqO,EAAAA,CAAcA,CAAAA,CAAC7U,MAAM,wEAA+D,oRAOvF,GAAAk5B,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBjE,MAAM,WACNkE,MAAM,YACNvC,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAAC1iB,QAAQ,GAA5BX,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA8B+Z,IAAI,CAAC,MAC1ChX,SAAU,GAAWwsB,EAAiB,WAAYvsB,GAClDA,MAAO2C,EAAS2qB,WAAW,OAG7B,GAAApB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBjE,MAAM,QACNkE,MAAM,SACN6tB,SAAU5qB,IAAAA,EAASoY,OAAO,GAC1B5d,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACsE,KAAK,GAAzB3nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA2B+Z,IAAI,CAAC,MACvChX,SAAU,GAAWwsB,EAAiB,QAASvsB,MAAAA,EAAAA,EAAS/G,KAAAA,GACxD+G,MAAO2C,EAAS6qB,QAAQ,UAI3B,GAAAtB,EAAAhyB,IAAA,EAACE,MAAAA,CAAIP,UAAU,2GACd,GAAAqyB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBE,KAAM,CAAEH,WAAYmD,EAASoY,OAAO,GAAInb,OAAQ,CAAC,CAAE,EACnD7D,+BAA+B,SAC/BP,MAAM,YACN2B,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACwD,QAAQ,GAA5B7mB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA8B+Z,IAAI,CAAC,MAC1CrX,MAAM,YACNK,SAAU,GAAWwsB,EAAiB,WAAYvsB,GAClDA,MAAO2C,EAAS8qB,WAAW,OAG7B,GAAAvB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBE,KAAM,CAAEH,WAAYmD,EAASoY,OAAO,GAAInb,OAAQ,CAAC,CAAE,EACnD7D,+BAA+B,SAC/BP,MAAM,YACN2B,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACqE,QAAQ,GAA5B1nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA8B+Z,IAAI,CAAC,MAC1CrX,MAAM,YACNK,SAAU,GAAWwsB,EAAiB,WAAYvsB,GAClDA,MAAO2C,EAAS+qB,WAAW,UAI9B,GAAAxB,EAAAhyB,IAAA,EAACE,MAAAA,CAAIP,UAAU,2GACd,GAAAqyB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBE,KAAM,CAAEH,WAAYmD,EAASoY,OAAO,GAAInb,OAAQ,CAAC,CAAE,EACnD7D,+BAA+B,SAC/BoB,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACuE,OAAO,GAA3B5nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA6B+Z,IAAI,CAAC,MACzCvb,MAAM,mBACNkE,MAAM,iBACNG,KAAMC,EAAAA,EAAOA,CACbC,SAAU,GAAWwsB,EAAiB,UAAWvsB,GACjDA,MAAO2C,EAASgrB,UAAU,OAG5B,GAAAzB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBE,KAAM,CAAEH,WAAYmD,EAASoY,OAAO,GAAInb,OAAQ,CAAC,CAAE,EACnD7D,+BAA+B,SAC/BoB,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACwE,SAAS,GAA7B7nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA+B+Z,IAAI,CAAC,MAC3Cvb,MAAM,aACNkE,MAAM,mBACNG,KAAMC,EAAAA,EAAOA,CACbC,SAAU,GAAWwsB,EAAiB,YAAavsB,GACnDA,MAAO2C,EAASirB,YAAY,UAI/B,GAAA1B,EAAAhyB,IAAA,EAACE,MAAAA,CAAIP,UAAU,oEACd,GAAAqyB,EAAA1yB,GAAA,EAACiF,KAAAA,CAAG5E,UAAU,4EAAmE,mBACjF,GAAAqyB,EAAA1yB,GAAA,EAACkF,IAAAA,CAAE7E,UAAU,mEAA0D,qKAKxE,GAAAqyB,EAAAhyB,IAAA,EAACE,MAAAA,CAAIP,UAAU,2GACd,GAAAqyB,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBE,KAAM,CAAEH,WAAYmD,EAASoY,OAAO,GAAInb,OAAQ,CAAC,CAAE,EACnD7D,+BAA+B,SAC/BP,MAAM,uBACN2B,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAACyE,cAAc,GAAlC9nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoC+Z,IAAI,CAAC,MAChDrX,MAAM,wBACNK,SAAU,GAAWwsB,EAAiB,iBAAkBvsB,GACxDA,MAAO2C,EAASkrB,iBAAiB,GACjC7Y,KAAM,OAGR,GAAAkX,EAAA1yB,GAAA,EAACY,MAAAA,UACA,GAAA8xB,EAAA1yB,GAAA,EAACiG,EAAAA,EAAwBA,CAAAA,CACxBE,KAAM,CAAEH,WAAYmD,EAASoY,OAAO,GAAInb,OAAQ,CAAC,CAAE,EACnD7D,+BAA+B,SAC/BP,MAAM,uBACN2B,MAAOH,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAQqjB,WAAW,CAAC0E,cAAc,GAAlC/nB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoC+Z,IAAI,CAAC,MAChDrX,MAAM,wBACNK,SAAU,GAAWwsB,EAAiB,iBAAkBvsB,GACxDA,MAAO2C,EAASmrB,iBAAiB,GACjC9Y,KAAM,YAMZ,gHChPA4U,CAAAA,EAAAA,SAAAA,CAAAA,EAAevuB,EAAAA,CAAMA,CAAE,6ICMhB,IAAMwM,eAAgD,GAE3D,GAAAqkB,EAAA1yB,GAAA,EAACsI,EAAAA,CAAMA,CAAAA,CACNC,MAAM,SACNC,KAAM+rB,EACN/6B,MAAOE,EAAMF,KAAK,CAAG,YAAcE,EAAMF,KAAK,CAAG,UACjD6G,UAAW3G,EAAM2G,SAAS,UAEzB3G,EAAMqE,QAAQ,0BCjBlBxD,EAAAC,OAAA,CAAAnB,EAAA,uKCAkY,IAAAyZ,EAAM,GAAA0hB,EAAAjkB,aAAA,EAAC,MAA8M,SAAAW,IAAa,IAAA3T,EAAA2J,EAAA,CAAS,GAAAstB,EAAAl2B,QAAA,EAAC,IAAK,OAAAf,EAAAE,MAAA,GAAAF,EAAAggB,IAAA,aAAqC,GAAAiX,EAAA3hB,OAAA,EAAC,aAAA9N,CAAA,EAAiB,IAAAgO,EAAM,GAAA0hB,EAAA5iB,CAAA,EAAC5T,GAAAiJ,CAAAA,EAAAlJ,GAAA,IAAAA,EAAAC,EAAA,MAAAiJ,EAAAlJ,IAA8B,IAAAR,EAAAQ,EAAAiS,KAAA,GAAAgC,EAAAzU,EAAAk3B,OAAA,CAAAz2B,GAA+B,OAAAgU,KAAAA,GAAAzU,EAAA4S,MAAA,CAAA6B,EAAA,GAAAzU,CAAA,EAA+B,GAAAoV,EAAM,GAAA4hB,EAAA3hB,OAAA,EAAC,MAAO8hB,SAAA5hB,EAAAiE,KAAAjS,EAAAiS,IAAA,CAAAna,KAAAkI,EAAAlI,IAAA,CAAAnD,MAAAqL,EAAArL,KAAA,GAAiD,CAAAqZ,EAAAhO,EAAAiS,IAAA,CAAAjS,EAAAlI,IAAA,CAAAkI,EAAArL,KAAA,GAA6B,OAAO86B,EAAA56B,aAAe,CAAAkZ,EAAAmD,QAAA,EAAazP,MAAAoM,CAAA,EAAQ7N,EAAAhH,QAAA,GAAa,CAAAmJ,EAAA,GAAO,IAAA6K,EAAgB,GAAA6iB,EAAA5jB,EAAA,EAAC,SAAA9J,CAAA,CAAA7M,CAAA,EAAe,IAAA0K,EAAM,GAAA8vB,EAAA3jB,CAAA,IAAC,CAAI/W,GAAA4Y,EAAA,oBAAyBhO,EAAE,EAAA8tB,QAAAjgB,EAAA,MAAA3U,EAAoB,CAAAiJ,EAAAlJ,EAAAmS,SAAlnBA,IAAa,IAAA5S,EAAM,GAAAi3B,EAAAzc,UAAA,EAACjF,GAAI,GAAAvV,OAAAA,EAAA,CAAa,IAAA2J,EAAA,gFAA2F,OAAA8Q,MAAAC,iBAAA,EAAAD,MAAAC,iBAAA,CAAA/Q,EAAAiJ,GAAAjJ,CAAA,CAA8D,OAAA3J,CAAA,IAAobC,EAAW,GAAAs3B,EAAAnjB,CAAA,EAACtX,GAAI,GAAA06B,EAAAhwB,CAAA,EAAC,IAAA/G,EAAA22B,QAAA,CAAA5hB,GAAA,CAAAA,EAAA/U,EAAA22B,QAAA,GAAmC,IAAA1iB,EAAA,CAAO/X,IAAAsD,EAAA,GAAAQ,EAAAtE,KAAA,CAAAS,GAAA4Y,CAAA,EAAuB,OAAAH,GAAA,aAAAX,GAAA,OAAAA,EAAAlR,OAAA,aAAA9C,GAAA,OAAAA,EAAA8C,OAAA,EAA4E,GAAA6zB,EAAAhe,EAAA,EAAC,CAAEC,SAAA5E,EAAA8E,WAAA9Y,EAAA+Y,KAAAhZ,EAAAgZ,IAAA,KAAuCC,WAAlS,QAAkSpa,KAAAmB,EAAAnB,IAAA,WAAmC,kOCA9U,IAAAsV,EAAM,GAAAqiB,EAAAjkB,aAAA,EAAC,KAAO4B,CAAAA,EAAA3B,WAAA,gBAA6B,IAAA2X,EAAMqM,EAAA7zB,QAAC,CAAy4Cq0B,EAAAn7B,OAAAC,MAAA,CAAh/B,GAAAm7B,EAAAjkB,EAAA,EAAC,SAAAhT,CAAA,CAAAiU,CAAA,EAAe,IAAAW,EAAM,GAAAsiB,EAAAhkB,CAAA,IAAC,CAAI/W,GAAAiY,EAAA,qBAA0BQ,EAAE,EAAA6D,QAAAtG,CAAA,CAAAglB,eAAApiB,EAAA,GAAApM,SAAAzB,CAAA,CAAArI,KAAAxC,CAAA,CAAAmM,MAAAiL,CAAA,IAAAuJ,EAA+D,CAAAhd,EAAAkJ,EAAK,GAAAstB,EAAAzc,UAAA,EAAC5F,GAAAW,EAAM,GAAA0hB,EAAA51B,MAAA,EAAC,MAAAkT,EAAS,GAAAsjB,EAAAzjB,CAAA,EAACmB,EAAAb,EAAA/K,OAAAA,EAAA,KAAAA,EAAAmuB,SAAA,GAAA93B,EAAAC,EAAA,CAAsC,GAAA83B,EAAA3iB,CAAA,EAACxC,EAAAjL,EAAA6N,GAAApB,EAAU,GAAA4jB,EAAA1jB,CAAA,EAAC,IAAArU,MAAAA,EAAA,OAAAA,EAAA,CAAAD,IAAA4W,EAA6B,GAAAohB,EAAA1jB,CAAA,EAAC9M,IAAK,GAAG,GAAAywB,EAAAnd,CAAA,EAACtT,EAAAqP,aAAA,SAAArP,EAAAwP,cAAA,EAA4CxP,CAAAA,EAAAwP,cAAA,GAAA5C,GAAA,GAAuBY,EAAI,GAAAgjB,EAAA1jB,CAAA,EAAC9M,IAAKA,EAAA/J,GAAA,GAAQy6B,EAAAzhB,CAAC,CAAAoB,KAAA,CAAArQ,CAAAA,EAAAwP,cAAA,GAAA5C,GAAA,EAAA5M,EAAA/J,GAAA,GAAwCy6B,EAAAzhB,CAAC,CAAAC,KAAA,EAAQ,GAAAyhB,EAAAvhB,CAAA,EAACpP,EAAAqP,aAAA,IAAkBjD,EAAI,GAAAokB,EAAA1jB,CAAA,EAAC9M,GAAAA,EAAAwP,cAAA,IAAAlC,EAA0B,GAAAmiB,EAAA3hB,OAAA,EAAC,MAAO4D,QAAAlZ,CAAA,GAAU,CAAAA,EAAA,EAAAyW,EAAA,CAAU7Z,GAAAiY,EAAAlY,IAAA4X,EAAA1R,KAAA,SAAAyQ,KAA8B,GAAA8kB,EAAArjB,CAAA,EAACtU,EAAA8U,GAAAyF,SAAA,iBAAAhb,EAAA,kBAAA2J,MAAAA,EAAA,OAAAA,EAAA0uB,UAAA,oBAAA1uB,MAAAA,EAAA,OAAAA,EAAA2uB,WAAA,CAAA90B,QAAAoT,EAAA6U,QAAAzW,EAAAujB,WAAA3kB,CAAA,EAAiKiF,EAAG,GAAA2f,EAAAvkB,CAAA,IAAI,MAAO,GAAAgjB,EAAAz1B,SAAA,EAAC,KAAM,IAAA6R,EAAM,IAAA7L,EAAA,MAAA6L,CAAAA,EAAAkC,EAAAhW,OAAA,SAAA8T,EAAA0F,OAAA,QAAmD,CAAAvR,GAAAgO,KAAA,IAAAA,GAAAqD,EAAAJ,gBAAA,CAAAjR,EAAA,aAAkDvH,EAAAuV,EAAA,EAAK,EAAE,CAAAD,EAAAtV,EAAA,EAAQg3B,EAAA56B,aAAe,CAAC46B,EAAA7zB,QAAU,MAAAtG,MAAAA,GAAAkD,GAAkBi3B,EAAA56B,aAAe,CAACo8B,EAAAngB,CAAC,EAAEM,SAAS6f,EAAA5f,CAAC,CAAAC,MAAA,IAAW,GAAA4e,EAAA1e,EAAA,EAAC,CAAEC,GAAA,QAAA3F,KAAA,WAAA6F,OAAA,GAAAC,SAAA,GAAAF,QAAAlZ,EAAAV,KAAAxC,EAAAmM,MAAAiL,CAAA,EAA0E,GAAI,GAAAwjB,EAAAre,EAAA,EAAC,CAAEC,SAAA7C,EAAA+C,WAAAiE,EAAAhE,KAAA3E,EAAA4E,WAAr8B,SAAq8Bpa,KAAA,WAA2D,GAAG,CAAuB+1B,MAA/5C,SAAAt3B,CAAA,EAAc,IAAA0C,EAAAiU,EAAA,CAAS,GAAAuiB,EAAAl2B,QAAA,EAAC,OAAAsU,EAAAR,EAAA,CAAa,GAAA6jB,EAAA9jB,CAAA,IAAC,CAAAhC,EAAA4C,EAAA,CAAS,GAAAmjB,EAAA5jB,CAAA,IAACpN,EAAK,GAAAsvB,EAAA3hB,OAAA,EAAC,MAAOsjB,OAAAn4B,EAAAq3B,UAAApjB,EAAA2jB,WAAAhjB,EAAAijB,YAAA1lB,CAAA,GAAgD,CAAAnS,EAAAiU,EAAAW,EAAAzC,EAAA,EAAsB,OAAOqkB,EAAA56B,aAAe,CAAAmZ,EAAA,CAAIlW,KAAA,sBAA2B23B,EAAA56B,aAAe,CAAAwY,EAAA,CAAIvV,KAAA,eAAAnD,MAAA,CAA2BqH,UAAU,GAAA/C,CAAAA,EAAAo4B,KAAA,GAAAp4B,EAAAsa,KAAA,EAAwB+d,cAAA,IAAiB,KAAM7B,EAAA56B,aAAe,CAAAuY,EAAA8D,QAAA,EAAazP,MAAAtB,CAAA,EAAS,GAAA+vB,EAAAre,EAAA,EAAC,CAAEC,SAA1N,GAA0NE,WAAzMzb,EAAyM2b,WAAAkR,EAAAtrB,KAAA,mBAAyD,EAA+hC8b,MAAcsd,EAAApgB,CAAC,CAAA+C,YAAasd,EAAA77B,CAAC,iGCAvzE,SAAAsX,EAAA1T,CAAA,CAAAiJ,CAAA,CAAAiJ,CAAA,EAAkB,IAAA3S,EAAAoV,EAAA,CAAS,GAAA4hB,EAAAl2B,QAAA,EAAC6R,GAAApL,EAAA9G,KAAA,IAAAA,EAAAD,EAAmB,GAAAw2B,EAAA51B,MAAA,EAACmG,GAAA+N,EAAM,GAAA0hB,EAAA51B,MAAA,EAAC,IAAAvE,EAAO,GAAAm6B,EAAA51B,MAAA,EAAC,IAAK,MAAAmG,CAAAA,GAAA/G,EAAAlB,OAAA,EAAAgW,EAAAhW,OAAA,KAAAkB,EAAAlB,OAAA,EAAAzC,EAAAyC,OAAA,EAAAzC,CAAAA,EAAAyC,OAAA,IAAAkB,EAAAlB,OAAA,CAAAiI,EAAAuxB,QAAA3yB,KAAA,mKAAAmP,CAAAA,EAAAhW,OAAA,IAAAkB,EAAAlB,OAAA,CAAAiI,EAAAuxB,QAAA3yB,KAAA,oKAAAoB,EAAA9G,EAAAT,EAAud,GAAA+4B,EAAA1kB,CAAA,EAACtU,GAAAwH,CAAAA,GAAA6N,EAAArV,GAAA2J,MAAAA,EAAA,OAAAA,EAAA3J,EAAA,yCCA9hB,SAAAqV,EAAArV,CAAA,CAAA2J,CAAA,EAAgB,OAAA3J,EAAAA,EAAA,IAAA2J,EAAA,IAAAA,CAAA,CAAqT,SAAAhC,EAAA3H,CAAA,EAAc,IAAAS,EAAM,IAAAkJ,EAAA,MAAAlJ,CAAAA,EAAAT,MAAAA,EAAA,OAAAA,EAAAi5B,IAAA,EAAAx4B,EAAAT,EAAA+Y,OAAA,SAA0D,GAAApP,EAAQ,SAAA1J,KAAA0J,EAAAuvB,QAAA,IAAAj5B,UAAAA,EAAAk5B,OAAA,EAAAl5B,WAAAA,EAAAqT,IAAA,EAAArT,WAAAA,EAAAk5B,OAAA,EAAAl5B,WAAAA,EAAAqT,IAAA,EAAArT,UAAAA,EAAAm5B,QAAA,EAAAn5B,UAAAA,EAAAqT,IAAA,EAAoJrT,EAAA44B,KAAA,GAAU,2DAA9oB,SAAArxB,EAAAxH,EAAA,EAAe,CAAA2J,EAAA,KAAAlJ,EAAA,IAAc,QAAAR,EAAAuV,EAAA,GAAAlZ,OAAAqjB,OAAA,CAAA3f,IAAA+U,SAA+FA,EAAA/U,CAAA,CAAA2J,CAAA,CAAAlJ,CAAA,EAAkB,GAAAyJ,MAAAC,OAAA,CAAA1J,GAAA,QAAAR,EAAAuV,EAAA,GAAA/U,EAAAkf,OAAA,GAAA5K,EAAA/U,EAAAqV,EAAA1L,EAAA1J,EAAAyd,QAAA,IAAAlI,QAAwE/U,aAAA44B,KAAAr5B,EAAAG,IAAA,EAAAwJ,EAAAlJ,EAAA64B,WAAA,uBAAA74B,EAAAT,EAAAG,IAAA,EAAAwJ,EAAAlJ,EAAA,2BAAAA,EAAAT,EAAAG,IAAA,EAAAwJ,EAAAlJ,EAAA,mBAAAA,EAAAT,EAAAG,IAAA,EAAAwJ,EAAA,GAA8JlJ,EAAE,IAAAA,MAAAA,EAAAT,EAAAG,IAAA,EAAAwJ,EAAA,KAAAnC,EAAA/G,EAAAkJ,EAAA3J,EAAA,EAAzVS,EAAA4U,EAAA1L,EAAA1J,GAAAuV,GAA+C,OAAA/U,CAAA","sources":["webpack://_N_E/./node_modules/.pnpm/@heroicons+react@2.0.14_react@18.2.0/node_modules/@heroicons/react/20/solid/ChevronRightIcon.js","webpack://_N_E/./node_modules/.pnpm/@heroicons+react@2.0.14_react@18.2.0/node_modules/@heroicons/react/24/outline/ArrowPathIcon.js","webpack://_N_E/./node_modules/.pnpm/@heroicons+react@2.0.14_react@18.2.0/node_modules/@heroicons/react/24/outline/CheckCircleIcon.js","webpack://_N_E/./node_modules/.pnpm/@heroicons+react@2.0.14_react@18.2.0/node_modules/@heroicons/react/24/solid/ArrowDownTrayIcon.js","webpack://_N_E/./node_modules/.pnpm/@heroicons+react@2.0.14_react@18.2.0/node_modules/@heroicons/react/24/solid/InformationCircleIcon.js","webpack://_N_E/./node_modules/.pnpm/@heroicons+react@2.0.14_react@18.2.0/node_modules/@heroicons/react/24/solid/PlayIcon.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/area-chart.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/chevron-left.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/monitor.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/move-3d.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/video.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/wand-sparkles.js","webpack://_N_E/?a761","webpack://_N_E/./app/_hooks/navigation.ts","webpack://_N_E/./hooks/useSteps.tsx","webpack://_N_E/./components/common/vertical-steps.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/chevron-right.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/chevrons-right.js","webpack://_N_E/./components/step-nav-buttons.tsx","webpack://_N_E/./components/setup-steps/hardware-selection.tsx","webpack://_N_E/./components/common/mutation-status.tsx","webpack://_N_E/./components/common/info-message.tsx","webpack://_N_E/./components/setup-steps/mcu/dfu-flash.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/sunset.js","webpack://_N_E/./components/setup-steps/mcu/sd-card-flash.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/toy-brick.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/memory-stick.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/file-question.js","webpack://_N_E/./components/setup-steps/mcu/flash.tsx","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-flags.js","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/components/radio-group/radio-group.js","webpack://_N_E/./components/card-selector.tsx","webpack://_N_E/./app/_helpers/lists.ts","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/search-x.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/search.js","webpack://_N_E/./components/setup-steps/mcu/pick.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/usb.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/zap-off.js","webpack://_N_E/./components/setup-steps/mcu-preparation.tsx","webpack://_N_E/./components/card-selector-with-options.tsx","webpack://_N_E/./components/common/show-when-ready.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/shield-check.js","webpack://_N_E/./components/setup-steps/printer-selection.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/signal-zero.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/signal-low.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/signal-medium.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/signal-high.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/signal.js","webpack://_N_E/./helpers/wifi.tsx","webpack://_N_E/./helpers/validators/wifi.ts","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/eye-off.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/eye.js","webpack://_N_E/./components/setup-steps/wifi-setup.tsx","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/components/disclosure/disclosure.js","webpack://_N_E/./components/setup-steps/wizard-complete.tsx","webpack://_N_E/./components/setup-steps/index.tsx","webpack://_N_E/./app/wizard/wizard.tsx","webpack://_N_E/./components/ui/drawer.tsx","webpack://_N_E/./hooks/useMediaQuery.tsx","webpack://_N_E/./components/common/modal.tsx","webpack://_N_E/./components/forms/toggle.tsx","webpack://_N_E/./components/setup-steps/toolhead-settings.tsx","webpack://_N_E/./components/ui/button.tsx","webpack://_N_E/./components/warning-message.tsx","webpack://_N_E/./node_modules/.pnpm/next@13.5.6_@babel+core@7.21.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/navigation.js","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/components/label/label.js","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/components/switch/switch.js","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-controllable.js","webpack://_N_E/./node_modules/.pnpm/@headlessui+react@1.7.8_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@headlessui/react/dist/utils/form.js","webpack://_N_E/<anon>"],"sourcesContent":["const React = require(\"react\");\n\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronRightIcon);\nmodule.exports = ForwardRef;","const React = require(\"react\");\n\nfunction ArrowPathIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ArrowPathIcon);\nmodule.exports = ForwardRef;","const React = require(\"react\");\n\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(CheckCircleIcon);\nmodule.exports = ForwardRef;","const React = require(\"react\");\n\nfunction ArrowDownTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25a.75.75 0 01.75.75v11.69l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3a.75.75 0 01.75-.75zm-9 13.5a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ArrowDownTrayIcon);\nmodule.exports = ForwardRef;","const React = require(\"react\");\n\nfunction InformationCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(InformationCircleIcon);\nmodule.exports = ForwardRef;","const React = require(\"react\");\n\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(PlayIcon);\nmodule.exports = ForwardRef;","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AreaChart = createLucideIcon(\"AreaChart\", [\n  [\"path\", { d: \"M3 3v18h18\", key: \"1s2lah\" }],\n  [\"path\", { d: \"M7 12v5h12V8l-5 5-4-4Z\", key: \"zxz28u\" }]\n]);\n\nexport { AreaChart as default };\n//# sourceMappingURL=area-chart.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"ChevronLeft\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Monitor = createLucideIcon(\"Monitor\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"3\", rx: \"2\", key: \"48i651\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"21\", y2: \"21\", key: \"1svkeh\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"17\", y2: \"21\", key: \"vw1qmm\" }]\n]);\n\nexport { Monitor as default };\n//# sourceMappingURL=monitor.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Move3d = createLucideIcon(\"Move3d\", [\n  [\"path\", { d: \"M5 3v16h16\", key: \"1mqmf9\" }],\n  [\"path\", { d: \"m5 19 6-6\", key: \"jh6hbb\" }],\n  [\"path\", { d: \"m2 6 3-3 3 3\", key: \"tkyvxa\" }],\n  [\"path\", { d: \"m18 16 3 3-3 3\", key: \"1d4glt\" }]\n]);\n\nexport { Move3d as default };\n//# sourceMappingURL=move-3d.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Video = createLucideIcon(\"Video\", [\n  [\"path\", { d: \"m22 8-6 4 6 4V8Z\", key: \"50v9me\" }],\n  [\"rect\", { width: \"14\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", ry: \"2\", key: \"1rqjg6\" }]\n]);\n\nexport { Video as default };\n//# sourceMappingURL=video.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst WandSparkles = createLucideIcon(\"WandSparkles\", [\n  [\n    \"path\",\n    {\n      d: \"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\",\n      key: \"ul74o6\"\n    }\n  ],\n  [\"path\", { d: \"m14 7 3 3\", key: \"1r5n42\" }],\n  [\"path\", { d: \"M5 6v4\", key: \"ilb8ba\" }],\n  [\"path\", { d: \"M19 14v4\", key: \"blhpug\" }],\n  [\"path\", { d: \"M10 2v2\", key: \"7u0qdc\" }],\n  [\"path\", { d: \"M7 8H3\", key: \"zfb6yr\" }],\n  [\"path\", { d: \"M21 16h-4\", key: \"1cnmox\" }],\n  [\"path\", { d: \"M11 3H9\", key: \"1obp7u\" }]\n]);\n\nexport { WandSparkles as default };\n//# sourceMappingURL=wand-sparkles.js.map\n","import(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/wizard/wizard.tsx\");\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/components/common/no-ssr.tsx\")","'use client';\nimport { usePathname, useRouter } from 'next/navigation';\nimport React, { useCallback } from 'react';\nimport type { Route } from 'next';\nimport { AreaChart, LucideProps, Monitor, Move3D, Video, Wand, Wand2 } from 'lucide-react';\n\nexport const useLocalPathname = () => {\n\tconst pathname = (usePathname() ?? '/').replace('/configure', '') as Route;\n\treturn pathname;\n};\n\nexport const useIsRouteActive = () => {\n\tconst pathname = useLocalPathname();\n\treturn useCallback(\n\t\t(href: string) => {\n\t\t\treturn pathname.startsWith(href);\n\t\t},\n\t\t[pathname],\n\t);\n};\n\nexport type NavigationItem = {\n\tname: string;\n\thref: Route;\n\tcurrent: boolean;\n\ticon: React.ComponentType<any>;\n\ticonClass?: string;\n};\n\nconst routes: NavigationItem[] = [\n\t{ name: 'Setup Wizard', href: '/wizard', current: false, icon: Wand2 },\n\t{ name: 'Dashboard', href: '/', current: false, icon: Monitor },\n\t{ name: 'Motion', href: '/motion', current: false, icon: Move3D },\n\t{ name: 'Visual Calibration (BETA)', href: '/calibration', current: false, icon: Video },\n\t{ name: 'Realtime Analysis (BETA)', href: '/analysis', current: false, icon: AreaChart },\n\t// { name: 'Boards', href: '/', current: false, icon: Cpu },\n\t// { name: 'Toolhead', href: '/toolhead', current: false, icon: ArrowDownOnSquareIcon },\n];\n\nexport const useNavigation = () => {\n\tconst isRouteActive = useIsRouteActive();\n\tlet prevActive: number | null = null;\n\tconst result: typeof routes = [];\n\troutes.forEach((n, i) => {\n\t\tn.current = isRouteActive(n.href);\n\t\tif (n.current) {\n\t\t\tif (prevActive !== null && result[prevActive]?.href.length < n.href.length) {\n\t\t\t\tresult[prevActive].current = false;\n\t\t\t\tprevActive = i;\n\t\t\t} else if (prevActive !== null) {\n\t\t\t\tn.current = false;\n\t\t\t} else {\n\t\t\t\tprevActive = i;\n\t\t\t}\n\t\t}\n\t\tresult.push(n);\n\t});\n\treturn result;\n};\n\ninterface RedirecterProps extends React.PropsWithChildren {\n\thasLastPrinterSettings: boolean;\n}\n\nexport const Redirecter: React.FC<RedirecterProps> = (props) => {\n\tconst router = useRouter();\n\tconst isRouteActive = useIsRouteActive();\n\tif (!props.hasLastPrinterSettings && !isRouteActive('/wizard')) {\n\t\trouter.replace('/wizard');\n\t} else {\n\t\treturn props.children;\n\t}\n};\n","'use client';\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\n\nexport interface StepScreenProps extends React.PropsWithChildren<{}> {\n\tnextScreen?: () => void;\n\tpreviousScreen?: () => void;\n\thasNextScreen: boolean;\n\thasPreviousScreen: boolean;\n\tskipSteps?: () => void;\n\tdescription: string;\n\tname: string;\n\tkey: string;\n}\n\ntype NoExtraProps = '__noExtraProps';\ntype ExtraStepProps<P extends NoExtraProps | Object = NoExtraProps> = P extends NoExtraProps\n\t? {}\n\t: { extraScreenProps: P };\ntype NormalizedGeneric<P extends NoExtraProps | Object = NoExtraProps> = P extends NoExtraProps ? {} : P;\n\nexport interface StepScreen<P extends NoExtraProps | Object = NoExtraProps> {\n\trenderScreen: (screenProps: StepScreenProps & NormalizedGeneric<P>) => JSX.Element | null;\n\tid: string;\n\tcanBeSkippedTo?: boolean;\n\tname: string | ((props: Omit<StepScreenProps, 'name' | 'description'> & NormalizedGeneric<P>) => string);\n\tdescription: string | ((props: Omit<StepScreenProps, 'name' | 'description'> & NormalizedGeneric<P>) => string);\n\thref: string;\n}\n\ntype UseStepProps<P extends NoExtraProps | Object = NoExtraProps> = {\n\tonStepChange?: (step: number, action: 'set' | 'increment' | 'decrement') => void;\n\tsteps: StepScreen<P>[];\n\tstep?: number;\n\tparentScreenProps?: StepScreenProps;\n} & ExtraStepProps<P>;\n\nexport const useSteps = <P extends NoExtraProps | Object>(props: UseStepProps<P>) => {\n\tconst { onStepChange } = props;\n\tconst [currentStepIndex, _setCurrentStepIndex] = useState(\n\t\tprops.step != null && !isNaN(props.step) && props.steps[props.step] != null ? props.step : 0,\n\t);\n\tconst currentStep = props.steps[currentStepIndex];\n\tconst currentStepRef = useRef(currentStepIndex);\n\tcurrentStepRef.current = currentStepIndex;\n\tconst setCurrentStepIndex = useCallback(\n\t\t(stepIndex: number) => {\n\t\t\tonStepChange?.(stepIndex, 'set');\n\t\t\t_setCurrentStepIndex(stepIndex);\n\t\t},\n\t\t[onStepChange],\n\t);\n\tuseEffect(() => {\n\t\tif (props.step && !isNaN(props.step) && props.step !== currentStepRef.current && props.steps[props.step] != null) {\n\t\t\t_setCurrentStepIndex(props.step);\n\t\t}\n\t}, [props.step, props.steps]);\n\tconst hasNextScreen = currentStepIndex < props.steps.length - 1;\n\tconst hasPreviousScreen = currentStepIndex > 0;\n\tconst incrementStep = useCallback(() => {\n\t\t_setCurrentStepIndex((csi) => {\n\t\t\tonStepChange?.(csi + 1, 'increment');\n\t\t\treturn csi + 1;\n\t\t});\n\t}, [onStepChange]);\n\tconst decrementStep = useCallback(() => {\n\t\t_setCurrentStepIndex((csi) => {\n\t\t\tonStepChange?.(csi - 1, 'decrement');\n\t\t\treturn csi - 1;\n\t\t});\n\t}, [onStepChange]);\n\tconst partialScreenProps: Omit<StepScreenProps, 'name' | 'description'> & NormalizedGeneric<P> = {\n\t\t...(('extraScreenProps' in props ? props.extraScreenProps : {}) as NormalizedGeneric<P>),\n\t\tkey: 'step-' + currentStepIndex,\n\t\thasNextScreen: hasNextScreen || (props.parentScreenProps?.hasNextScreen ?? false),\n\t\thasPreviousScreen: hasPreviousScreen || (props.parentScreenProps?.hasNextScreen ?? false),\n\t\tnextScreen: hasNextScreen\n\t\t\t? incrementStep\n\t\t\t: props.parentScreenProps?.hasNextScreen\n\t\t\t\t? props.parentScreenProps.nextScreen\n\t\t\t\t: undefined,\n\t\tpreviousScreen: hasPreviousScreen\n\t\t\t? decrementStep\n\t\t\t: props.parentScreenProps?.hasPreviousScreen\n\t\t\t\t? props.parentScreenProps.previousScreen\n\t\t\t\t: undefined,\n\t\tskipSteps:\n\t\t\tprops.parentScreenProps && props.parentScreenProps.hasNextScreen ? props.parentScreenProps.nextScreen : undefined,\n\t};\n\tconst name = typeof currentStep.name === 'function' ? currentStep.name(partialScreenProps) : currentStep.name;\n\tconst description =\n\t\ttypeof currentStep.description === 'function'\n\t\t\t? currentStep.description(partialScreenProps)\n\t\t\t: currentStep.description;\n\tconst screenProps: StepScreenProps = {\n\t\t...partialScreenProps,\n\t\tname,\n\t\tdescription,\n\t};\n\treturn {\n\t\tscreenProps,\n\t\tcurrentStepIndex,\n\t\tsetCurrentStepIndex: setCurrentStepIndex,\n\t\tcurrentStep: props.steps[currentStepIndex],\n\t};\n};\n","import React from 'react';\nimport { twJoin, twMerge } from 'tailwind-merge';\nimport { StepScreen, StepScreenProps } from '@/hooks/useSteps';\nimport { Check } from 'lucide-react';\n\ninterface StepProps {\n\tsteps: StepScreen[];\n\tscreenProps: StepScreenProps;\n\tcurrentStepIndex: number;\n\tsetCurrentStepIndex: (index: number) => void;\n}\n\nexport const VerticalSteps: React.FC<StepProps> = (props) => {\n\treturn (\n\t\t<nav aria-label=\"Progress\">\n\t\t\t<ol role=\"list\" className=\"overflow-hidden\">\n\t\t\t\t{props.steps.map((step, stepIdx) => {\n\t\t\t\t\tconst name = typeof step.name === 'function' ? step.name(props.screenProps) : step.name;\n\t\t\t\t\tconst description =\n\t\t\t\t\t\ttypeof step.description === 'function' ? step.description(props.screenProps) : step.description;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={name} className={twJoin(stepIdx !== props.steps.length - 1 ? 'pb-10' : '', 'relative')}>\n\t\t\t\t\t\t\t{props.currentStepIndex > stepIdx ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{stepIdx !== props.steps.length - 1 ? (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute left-4 top-4 -ml-px mt-0.5 h-full w-0.5 bg-brand-600 dark:bg-brand-500\"\n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"group relative flex cursor-pointer items-start\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => props.setCurrentStepIndex(stepIdx)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex h-9 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"relative z-10 flex h-8 w-8 items-center justify-center rounded-full bg-brand-600 dark:bg-brand-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-brand-100 dark:text-brand-900\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"ml-4 flex min-w-0 flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold uppercase tracking-wide dark:text-zinc-200\">{name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-zinc-500 dark:text-zinc-400\">{description}</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : props.currentStepIndex === stepIdx ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{stepIdx !== props.steps.length - 1 ? (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute left-4 top-4 -ml-px mt-0.5 h-full w-0.5 bg-zinc-300 dark:bg-zinc-700\"\n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={twMerge('group relative flex items-start', step.canBeSkippedTo && 'cursor-pointer')}\n\t\t\t\t\t\t\t\t\t\taria-current=\"step\"\n\t\t\t\t\t\t\t\t\t\tonClick={!step.canBeSkippedTo ? undefined : () => props.setCurrentStepIndex(stepIdx)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex h-9 items-center\" aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"relative z-10 flex h-8 w-8 items-center justify-center rounded-full border-2 border-brand-600 bg-white dark:border-brand-500 dark:bg-zinc-800\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"h-2.5 w-2.5 rounded-full bg-brand-600 dark:bg-brand-500\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"ml-4 flex min-w-0 flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold uppercase tracking-wide text-brand-600 dark:text-brand-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-zinc-500 dark:text-zinc-400\">{description}</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{stepIdx !== props.steps.length - 1 ? (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute left-4 top-4 -ml-px mt-0.5 h-full w-0.5 bg-zinc-300 dark:bg-zinc-700\"\n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={twMerge('group relative flex items-start', step.canBeSkippedTo && 'cursor-pointer')}\n\t\t\t\t\t\t\t\t\t\taria-current=\"step\"\n\t\t\t\t\t\t\t\t\t\tonClick={!step.canBeSkippedTo ? undefined : () => props.setCurrentStepIndex(stepIdx)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex h-9 items-center\" aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"relative z-10 flex h-8 w-8 items-center justify-center rounded-full border-2 border-zinc-300 bg-white dark:border-zinc-700 dark:bg-zinc-800\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"h-2.5 w-2.5 rounded-full bg-transparent\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"ml-4 flex min-w-0 flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold uppercase tracking-wide text-zinc-500 dark:text-zinc-200\">\n\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-zinc-500 dark:text-zinc-400\">{description}</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ol>\n\t\t</nav>\n\t);\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronsRight = createLucideIcon(\"ChevronsRight\", [\n  [\"path\", { d: \"m6 17 5-5-5-5\", key: \"xnjwq\" }],\n  [\"path\", { d: \"m13 17 5-5-5-5\", key: \"17xmmf\" }]\n]);\n\nexport { ChevronsRight as default };\n//# sourceMappingURL=chevrons-right.js.map\n","'use client';\nimport { PlayIcon, ForwardIcon } from '@heroicons/react/24/outline';\nimport React from 'react';\nimport { Button } from '@/components/common/button';\nimport { Spinner } from '@/components/common/spinner';\nimport { ChevronLeft, ChevronRight, ChevronsRight } from 'lucide-react';\nimport { twJoin } from 'tailwind-merge';\n\nexport interface StepNavButton {\n\tlabel?: string;\n\tonClick?: () => void;\n\tdisabled?: boolean;\n\tisLoading?: boolean;\n\ttitle?: string;\n}\n\ninterface StepNavButtonsProps {\n\tinTitle?: boolean;\n\tright: StepNavButton;\n\tleft?: StepNavButton;\n\tskip?: Omit<StepNavButton, 'isLoading'>;\n}\n\nexport const StepNavButtons: React.FC<StepNavButtonsProps> = (props) => {\n\tconst leftIcon = props.left?.isLoading ? (\n\t\t<Spinner noMargin={true} className=\"dark:text-black\" />\n\t) : (\n\t\t<ChevronLeft className=\"-ml-2 h-5 w-5\" aria-hidden=\"true\" />\n\t);\n\tconst left = props.left?.onClick ? (\n\t\t<div className=\"flex flex-1 justify-start\">\n\t\t\t<Button\n\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\tdisabled={props.left.disabled}\n\t\t\t\tonClick={!props.left.isLoading ? props.left.onClick : undefined}\n\t\t\t\ttitle={props.left.title}\n\t\t\t\tclassName={props.left.isLoading ? 'cursor-wait' : 'cursor-pointer'}\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t{props.left.label ?? 'Back'}\n\t\t\t</Button>\n\t\t</div>\n\t) : null;\n\n\tconst rightIcon = props.right.isLoading ? (\n\t\t<Spinner noMargin={true} className=\"dark:text-black\" />\n\t) : (\n\t\t<ChevronRight className=\"-mr-2 h-5 w-5\" aria-hidden=\"true\" />\n\t);\n\n\tconst right = props.right.onClick ? (\n\t\t<div className=\"flex flex-1 justify-end gap-4\">\n\t\t\t{props.skip && (\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\t\tonClick={props.skip.onClick}\n\t\t\t\t\tdisabled={props.skip.disabled}\n\t\t\t\t\ttitle={props.skip.title}\n\t\t\t\t>\n\t\t\t\t\t{props.skip.label ?? 'Skip'}\n\t\t\t\t\t<ChevronsRight className=\"-mr-1.5 h-5 w-5\" aria-hidden=\"true\" />\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tdisabled={props.right.disabled}\n\t\t\t\tonClick={!props.right.isLoading ? props.right.onClick : undefined}\n\t\t\t\ttitle={props.right.title}\n\t\t\t\tclassName={props.right.isLoading ? 'cursor-wait' : undefined}\n\t\t\t>\n\t\t\t\t{props.right.label ?? 'Next'}\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t</div>\n\t) : null;\n\n\treturn (\n\t\t<div className={twJoin(props.inTitle ? '' : 'px-8 pb-5')}>\n\t\t\t<nav\n\t\t\t\tclassName={twJoin(\n\t\t\t\t\t'flex items-center justify-between border-zinc-200 py-3 dark:border-zinc-700',\n\t\t\t\t\tprops.inTitle ? '' : ' border-t',\n\t\t\t\t)}\n\t\t\t\taria-label=\"Pagination\"\n\t\t\t>\n\t\t\t\t{left}\n\t\t\t\t{right}\n\t\t\t</nav>\n\t\t</div>\n\t);\n};\n","'use client';\nimport React, { useEffect, useState } from 'react';\nimport { StepNavButtons } from '@/components/step-nav-buttons';\nimport { StepScreenProps } from '@/hooks/useSteps';\nimport { DropdownWithPrinterQuery } from '@/components/forms/dropdown';\nimport { usePrinterConfiguration } from '@/hooks/usePrinterConfiguration';\nimport { ErrorMessage } from '@/components/common/error-message';\nimport { Toggle } from '@/components/forms/toggle';\nimport { PrinterRailSettings } from '@/components/setup-steps/printer-rail-settings';\nimport { deserializePrinterRailDefinition } from '@/utils/serialization';\nimport { ToolheadSettings } from '@/components/setup-steps/toolhead-settings';\nimport { Spinner } from '@/components/common/spinner';\nimport { BasePrinterRail, PrinterAxis } from '@/zods/motion';\nimport { z } from 'zod';\nimport { AnimatePresence, LayoutGroup, motion } from 'framer-motion';\nimport { AnimatedContainer } from '@/components/common/animated-container';\nimport { fanHelp } from '@/data/fans';\n\nexport const HardwareSelection: React.FC<StepScreenProps> = (props) => {\n\tconst [advancedSteppers, setAdvancedSteppers] = useState(false);\n\tconst {\n\t\tselectedControllerFan,\n\t\tselectedBoard,\n\t\tselectedPrinter,\n\t\tperformanceMode,\n\t\tsetPerformanceMode,\n\t\tstealthchop,\n\t\tsetStealthchop,\n\t\tstandstillStealth,\n\t\tsetStandstillStealth,\n\t\tselectedPrinterRails,\n\t\tsetSelectedControllerFan: setControllerFan,\n\t\tserializedPrinterConfiguration,\n\t\tparsedPrinterConfiguration,\n\t\tpartialPrinterConfiguration,\n\t} = usePrinterConfiguration();\n\tconst errors: string[] = [];\n\tlet formattedErrors = parsedPrinterConfiguration.success === false ? parsedPrinterConfiguration.error.format() : null;\n\tconst railErrors: {\n\t\t[i: string]: z.inferFormattedError<typeof BasePrinterRail>;\n\t} = {};\n\tpartialPrinterConfiguration?.rails?.forEach((rail, ri) => {\n\t\tlet railError: string[] = [];\n\t\tif (![PrinterAxis.extruder, PrinterAxis.extruder1].includes(rail.axis)) {\n\t\t\tif (rail.motorSlot == null) {\n\t\t\t\terrors.push(`Motor slot for ${rail.axis.toUpperCase()} is not set`);\n\t\t\t\trailError = [`Motor slot for ${rail.axis.toUpperCase()} is not set`];\n\t\t\t}\n\t\t}\n\t\trailErrors[ri] = {\n\t\t\t...(formattedErrors?.rails?.[ri] ?? {}),\n\t\t\t_errors: formattedErrors?.rails?.[ri]?._errors?.concat(railError ?? []) ?? railError,\n\t\t};\n\t});\n\tif (partialPrinterConfiguration != null) {\n\t\tif (parsedPrinterConfiguration.success === false) {\n\t\t\tparsedPrinterConfiguration.error.flatten().formErrors.forEach((message) => {\n\t\t\t\terrors.push(message);\n\t\t\t});\n\t\t}\n\t}\n\tuseEffect(() => {\n\t\tif (parsedPrinterConfiguration.success === false) {\n\t\t\tif (parsedPrinterConfiguration.error.errors.some((e) => e.path[0] === 'rails')) {\n\t\t\t\tsetAdvancedSteppers(true);\n\t\t\t}\n\t\t}\n\t}, [parsedPrinterConfiguration]);\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\tSelect your printer hardware\n\t\t\t\t\t</h3>\n\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\tIf your hardware isn't listed, pick the one closest to it and override as necessary in printer.cfg later\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<AnimatedContainer>\n\t\t\t\t\t{errors.length > 0 && (\n\t\t\t\t\t\t<ErrorMessage className=\"mb-4\">\n\t\t\t\t\t\t\t<AnimatePresence>\n\t\t\t\t\t\t\t\t{errors.map((e) => (\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2\"\n\t\t\t\t\t\t\t\t\t\tkey={e}\n\t\t\t\t\t\t\t\t\t\texit={{ opacity: 0, scale: 0.9, y: -40 }}\n\t\t\t\t\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.9, y: 40 }}\n\t\t\t\t\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1, y: 0 }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t\t</ErrorMessage>\n\t\t\t\t\t)}\n\t\t\t\t\t<AnimatedContainer className=\"space-y-4\">\n\t\t\t\t\t\t<AnimatePresence>\n\t\t\t\t\t\t\t{serializedPrinterConfiguration?.toolheads?.map((th, i) =>\n\t\t\t\t\t\t\t\tth == null || th.axis == null ? null : (\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\texit={{ opacity: 0, scale: 0.9, y: -40 }}\n\t\t\t\t\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.9, y: 40 }}\n\t\t\t\t\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1, y: 0 }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<React.Suspense fallback={<Spinner />}>\n\t\t\t\t\t\t\t\t\t\t\t<ToolheadSettings toolOrAxis={th.axis} />\n\t\t\t\t\t\t\t\t\t\t</React.Suspense>\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t</AnimatedContainer>\n\t\t\t\t\t<div className=\"mt-4 border-t border-zinc-100 pt-8 dark:border-zinc-700\">\n\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t<h3 className=\"flex-1 text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100\">Electronics</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\t\tConfigure miscellaneous electronics settings\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\t\t\tlabel=\"Controller fan\"\n\t\t\t\t\t\t\t\tquery=\"controllerFanOptions\"\n\t\t\t\t\t\t\t\tvars={{ config: serializedPrinterConfiguration }}\n\t\t\t\t\t\t\t\thelp={fanHelp}\n\t\t\t\t\t\t\t\tonSelect={setControllerFan}\n\t\t\t\t\t\t\t\tvalue={selectedControllerFan}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-4 border-t border-zinc-100 pt-8 dark:border-zinc-700\">\n\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t<h3 className=\"flex-1 text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100\">Motion</h3>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Toggle label=\"Simple\" onLabel=\"Advanced\" onChange={setAdvancedSteppers} value={!!advancedSteppers} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\t\tConfigure your stepper motor and driver settings\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2\">\n\t\t\t\t\t\t{selectedPrinter?.speedLimits.performance && (\n\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t<Toggle\n\t\t\t\t\t\t\t\t\tlabel=\"Performance mode\"\n\t\t\t\t\t\t\t\t\tdescription=\"Increases the stepper power, max acceleration and velocity. Not recommended for initial setup. Requires actively cooled drivers (controller fan).\"\n\t\t\t\t\t\t\t\t\tonChange={setPerformanceMode}\n\t\t\t\t\t\t\t\t\tvalue={!!performanceMode}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t<Toggle\n\t\t\t\t\t\t\t\tlabel=\"Stealthchop\"\n\t\t\t\t\t\t\t\tdescription=\"Silent operation at the cost of a 135 mm/s velocity limit and less positional accuracy. Not recommended unless quiteness is absolutely necessary.\"\n\t\t\t\t\t\t\t\tonChange={setStealthchop}\n\t\t\t\t\t\t\t\tvalue={!!stealthchop}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t<Toggle\n\t\t\t\t\t\t\t\tlabel=\"Standstill Stealth\"\n\t\t\t\t\t\t\t\tdescription=\"Makes steppers silent when idling, but can cause unpredictable behavior on some drivers. Can result in skipped steps and positional errors, use with caution.\"\n\t\t\t\t\t\t\t\tonChange={setStandstillStealth}\n\t\t\t\t\t\t\t\tvalue={!!standstillStealth}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</AnimatedContainer>\n\t\t\t\t<div>\n\t\t\t\t\t{selectedPrinter && (\n\t\t\t\t\t\t<LayoutGroup id=\"rails\">\n\t\t\t\t\t\t\t<AnimatedContainer className=\"grid gap-4 py-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t{selectedPrinterRails.map((rail, ri) => {\n\t\t\t\t\t\t\t\t\tconst defaultRail = selectedPrinter.defaults.rails.find((r) => r.axis === rail.axis);\n\t\t\t\t\t\t\t\t\tif (defaultRail == null) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error('No printer default for axis ' + rail.axis);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst errorCount =\n\t\t\t\t\t\t\t\t\t\trailErrors[ri] == null\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: Object.keys(railErrors[ri]).reduce((acc, key) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst objKey = key as keyof (typeof railErrors)[number];\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst keyErrors = railErrors[ri][objKey];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (keyErrors == null) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst count = Array.isArray(keyErrors) ? keyErrors.length : keyErrors._errors?.length ?? 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn acc + count;\n\t\t\t\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<PrinterRailSettings\n\t\t\t\t\t\t\t\t\t\t\tkey={rail.axis}\n\t\t\t\t\t\t\t\t\t\t\terrors={railErrors[ri]}\n\t\t\t\t\t\t\t\t\t\t\tselectedBoard={selectedBoard}\n\t\t\t\t\t\t\t\t\t\t\tprinterRail={rail}\n\t\t\t\t\t\t\t\t\t\t\tprinterRailDefault={deserializePrinterRailDefinition(defaultRail)}\n\t\t\t\t\t\t\t\t\t\t\tperformanceMode={performanceMode}\n\t\t\t\t\t\t\t\t\t\t\tisVisible={advancedSteppers || errorCount > 0}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</AnimatedContainer>\n\t\t\t\t\t\t</LayoutGroup>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<StepNavButtons\n\t\t\t\tleft={{ onClick: props.previousScreen }}\n\t\t\t\tright={{\n\t\t\t\t\tonClick: props.nextScreen,\n\t\t\t\t\tdisabled: !parsedPrinterConfiguration.success || errors.length > 0,\n\t\t\t\t\ttitle:\n\t\t\t\t\t\tparsedPrinterConfiguration.success === false || errors.length > 0\n\t\t\t\t\t\t\t? 'Invalid printer configuration selected'\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","'use client';\nimport { TRPCClientErrorLike } from '@trpc/client';\nimport { UseMutationResult } from '@tanstack/react-query';\nimport { AppRouter } from '@/server/routers';\nimport { ErrorMessage } from '@/components/common/error-message';\nimport { Spinner } from '@/components/common/spinner';\n\nexport const MutationStatus = (mutation: UseMutationResult<any, TRPCClientErrorLike<AppRouter>, any, any>) => {\n\tif (mutation.isError) {\n\t\treturn (\n\t\t\t<div className=\"mb-4 h-48\">\n\t\t\t\t<ErrorMessage>{mutation.error?.message}</ErrorMessage>\n\t\t\t</div>\n\t\t);\n\t}\n\tif (mutation.isLoading && !mutation.isIdle && !mutation.isPaused) {\n\t\treturn (\n\t\t\t<div className=\"absolute right-5 top-9 mb-4 flex items-center\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n};\n","import { InformationCircleIcon } from '@heroicons/react/24/solid';\nimport React from 'react';\nimport { Banner } from '@/components/common/banner';\n\nexport type InfoMessageProps = React.PropsWithChildren<{\n\ttitle?: string;\n\tclassName?: string;\n}>;\n\nexport const InfoMessage: React.FC<InfoMessageProps> = (props) => {\n\treturn (\n\t\t<Banner\n\t\t\tcolor=\"blue\"\n\t\t\tIcon={InformationCircleIcon}\n\t\t\ttitle={props.title ? props.title : 'Info'}\n\t\t\tclassName={props.className}\n\t\t>\n\t\t\t{props.children}\n\t\t</Banner>\n\t);\n};\n","/* eslint-disable @next/next/no-img-element */\nimport React, { useCallback, useState } from 'react';\nimport { ToolheadHelper } from '@/helpers/toolhead';\nimport { trpc } from '@/helpers/trpc';\nimport { Board } from '@/zods/boards';\nimport { Button } from '@/components/common/button';\nimport { ErrorMessage } from '@/components/common/error-message';\nimport { InfoMessage } from '@/components/common/info-message';\n\ninterface DFUFlashProps {\n\tboard: Board;\n\ttoolhead?: ToolheadHelper<any> | null;\n\tonSuccess?: () => void;\n}\n\nexport const DFUFlash: React.FC<DFUFlashProps> = (props) => {\n\tconst { data: dfuDetected, error } = trpc.mcu.dfuDetect.useQuery(\n\t\t{ boardPath: props.board.path, toolhead: props.toolhead?.serialize() },\n\t\t{\n\t\t\trefetchInterval: 1000,\n\t\t},\n\t);\n\tconst flashDfuMutation = trpc.mcu.dfuFlash.useMutation({ onSuccess: props.onSuccess });\n\tconst [isFlashing, setIsFlashing] = useState(false);\n\n\tconst startFlash = useCallback(async () => {\n\t\tsetIsFlashing(true);\n\t\tflashDfuMutation.mutate(\n\t\t\t{ boardPath: props.board.path, toolhead: props.toolhead?.serialize() },\n\t\t\t{\n\t\t\t\tonSettled: () => setIsFlashing(false),\n\t\t\t},\n\t\t);\n\t}, [flashDfuMutation, props.board.path, props.toolhead]);\n\n\tconst dfuError = error ? <ErrorMessage>{error.message}</ErrorMessage> : null;\n\n\tconst flashButtonTitle = isFlashing ? 'Flashing...' : dfuDetected ? 'Flash' : 'Waiting for DFU...';\n\n\tconst boardPathUri = 'boardPath=' + encodeURIComponent(props.board.path);\n\n\tconst instructions = props.board.dfu?.instructions.map((step, index) => <li key={index}>{step}</li>);\n\n\tconst detectionText = dfuDetected ? 'DFU device detected' : 'DFU not detected';\n\tconst jumperReminder =\n\t\tdfuDetected && props.board.dfu?.hasBoot0Jumper ? (\n\t\t\t<InfoMessage title=\"Reminder\">Make sure to remove the BOOT0 jumper from the board before flashing.</InfoMessage>\n\t\t) : null;\n\n\treturn (\n\t\t<div className=\"space-y-4\">\n\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">Flashing {props.board.name} via DFU</h3>\n\t\t\t{dfuError}\n\t\t\t{}\n\t\t\t<p className=\"mt-4 text-zinc-500 dark:text-zinc-400\">Status: {detectionText}</p>\n\t\t\t{jumperReminder}\n\t\t\t<Button variant=\"primary\" disabled={!dfuDetected || isFlashing} onClick={startFlash}>\n\t\t\t\t{flashButtonTitle}\n\t\t\t</Button>\n\t\t\t<h4 className=\"text-sm font-medium text-zinc-900 dark:text-zinc-100\">DFU Boot Instructions</h4>\n\t\t\t<div className=\"prose mt-4 text-base text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t<ol className=\"mb-4 list-decimal pl-4\">{instructions}</ol>\n\t\t\t\t<img src={'/configure/api/dfu-image?' + boardPathUri} alt=\"DFU boot buttons and/or jumper visualization\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sunset = createLucideIcon(\"Sunset\", [\n  [\"path\", { d: \"M12 10V2\", key: \"16sf7g\" }],\n  [\"path\", { d: \"m4.93 10.93 1.41 1.41\", key: \"2a7f42\" }],\n  [\"path\", { d: \"M2 18h2\", key: \"j10viu\" }],\n  [\"path\", { d: \"M20 18h2\", key: \"wocana\" }],\n  [\"path\", { d: \"m19.07 10.93-1.41 1.41\", key: \"15zs5n\" }],\n  [\"path\", { d: \"M22 22H2\", key: \"19qnx5\" }],\n  [\"path\", { d: \"m16 6-4 4-4-4\", key: \"6wukr\" }],\n  [\"path\", { d: \"M16 18a4 4 0 0 0-8 0\", key: \"1lzouq\" }]\n]);\n\nexport { Sunset as default };\n//# sourceMappingURL=sunset.js.map\n","/**\n * 1) Check if board is already flashed and connected, if yes proceed to ?.\n * 2) Compile firmware for board and start download (if flash via sd card)\n * 3) Tell the user to follow the flashing instructions at os.ratrig.com. Poll board serial path in the background. Show tips about flashing.\n * 4) Once board presence is confirmed, verify automatic flashing if supported. (allow skipping)\n * 5) Printer configuration!\n */\n\nimport { ArrowDownTrayIcon, PlayIcon } from '@heroicons/react/24/solid';\nimport React, { useState } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport { trpc } from '@/helpers/trpc';\nimport { Button } from '@/components/common/button';\nimport { Modal } from '@/components/common/modal';\nimport { Spinner } from '@/components/common/spinner';\nimport { useMoonraker } from '@/moonraker/hooks';\nimport { Board } from '@/zods/boards';\nimport { ToolheadHelper } from '@/helpers/toolhead';\nimport { ErrorMessage } from '@/components/common/error-message';\nimport { Banner } from '@/components/common/banner';\nimport { Sunset } from 'lucide-react';\n\ninterface SDCardFlashingProps {\n\tboard: Board;\n\ttoolhead?: ToolheadHelper<any> | null;\n\tonSuccess?: () => void;\n}\n\nexport const SDCardFlashing: React.FC<SDCardFlashingProps> = (props) => {\n\tconst [shutdownModalVisible, setShutdownModalVisible] = useState(false);\n\tconst { query: moonrakerQuery, isReady } = useMoonraker();\n\tconst [isFirmwareReady, setIsFirmwareReady] = useState(false);\n\tconst compile = trpc.mcu.compile.useMutation({\n\t\tonSuccess: () => setIsFirmwareReady(true),\n\t\tonError: () => setIsFirmwareReady(false),\n\t});\n\tconst shutdownMutation = useMutation<void, string>({\n\t\tmutationFn: () => {\n\t\t\tif (isReady) {\n\t\t\t\tmoonrakerQuery('machine.shutdown');\n\t\t\t}\n\t\t\treturn Promise.reject('Cannot reboot raspberry pi: No connection to moonraker');\n\t\t},\n\t});\n\n\tconst shutdown = () => {\n\t\tshutdownMutation.mutate();\n\t};\n\tconst onShutdown = () => {\n\t\tsetShutdownModalVisible(true);\n\t};\n\n\tconst compileButton = compile.isLoading ? (\n\t\t<span>\n\t\t\tCompiling... <Spinner className=\"ml-1 inline\" noMargin={true} />\n\t\t</span>\n\t) : (\n\t\t<span>\n\t\t\tCompile firmware <PlayIcon className=\"inline h-5 w-5\" />\n\t\t</span>\n\t);\n\n\treturn (\n\t\t<div className=\"space-y-4\">\n\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t{props.board.manufacturer} {props.board.name} was not detected\n\t\t\t</h3>\n\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={\n\t\t\t\t\tisFirmwareReady\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: () => compile.mutate({ boardPath: props.board.path, toolhead: props.toolhead?.serialize() })\n\t\t\t\t}\n\t\t\t\tclassName=\"w-52 justify-center\"\n\t\t\t\tdisabled={compile.isLoading && !isFirmwareReady}\n\t\t\t\thref={isFirmwareReady ? `/api/download-firmware?boardPath=${encodeURIComponent(props.board.path)}` : undefined}\n\t\t\t>\n\t\t\t\t{isFirmwareReady ? (\n\t\t\t\t\t<span>\n\t\t\t\t\t\tDownload firmware <ArrowDownTrayIcon className=\"inline h-5 w-5\" />\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\tcompileButton\n\t\t\t\t)}\n\t\t\t</Button>\n\n\t\t\t{compile.error?.message ? <ErrorMessage>{compile.error?.message}</ErrorMessage> : null}\n\n\t\t\t<div className=\"prose mt-4 text-base text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t<ol className=\"mb-4 list-decimal pl-4\">\n\t\t\t\t\t<li>Disconnect all wires except Power and USB, and make sure your jumpers are set correctly.</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tFormat the sd card for your board to FAT16 (sometimes just called FAT), or FAT32 with a clustersize of 8kb\n\t\t\t\t\t\tor 4kb.\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tIf you're reusing a card you've used for flashing before, be sure to delete ALL files on the card (or\n\t\t\t\t\t\treformat it).\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>Copy the firmware binary onto the sd card for your board</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tMake sure the firmware file is called firmware.bin on the sd card (enable \"display file extensions\" in your\n\t\t\t\t\t\tfile explorer). The file you downloaded will already have the correct name.\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>Safely eject the SD card through your operating system.</li>\n\t\t\t\t\t<li>Physically take out the sd card and insert it into your control board.</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tClick the reset button on the board, or turn it off and back on again. NOTE: if the Raspberry Pi running\n\t\t\t\t\t\tRatOS is currently powered by your control board or the same power source, please shut it down safely first\n\t\t\t\t\t\tby using the button below. When the green light stops blinking and is turned off, you can cut the power.\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>Click \"Check board status\" below.</li>\n\t\t\t\t</ol>\n\t\t\t\t<div className=\"flex gap-x-4\">\n\t\t\t\t\t<Button variant=\"indeterminate\" onClick={onShutdown}>\n\t\t\t\t\t\tShutdown RatOS\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"primary\" onClick={props.onSuccess}>\n\t\t\t\t\t\tCheck board status\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{shutdownModalVisible ? (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Shutdown RatOS?\"\n\t\t\t\t\tbody={`You raspberry pi will shutdown and this page will become unresponsive until it's powered back on.`}\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<Banner color=\"yellow\" title=\"Premature power removal can cause SD card corruption\" Icon={Sunset}>\n\t\t\t\t\t\t\tDo not remove power before the green light on the Rasperry Pi has stopped blinking.\n\t\t\t\t\t\t</Banner>\n\t\t\t\t\t}\n\t\t\t\t\tbuttonLabel=\"Shutdown\"\n\t\t\t\t\tonClick={shutdown}\n\t\t\t\t\tonClose={() => setTimeout(() => setShutdownModalVisible(false), 500)}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ToyBrick = createLucideIcon(\"ToyBrick\", [\n  [\"rect\", { width: \"18\", height: \"12\", x: \"3\", y: \"8\", rx: \"1\", key: \"158fvp\" }],\n  [\"path\", { d: \"M10 8V5c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v3\", key: \"s0042v\" }],\n  [\"path\", { d: \"M19 8V5c0-.6-.4-1-1-1h-3a1 1 0 0 0-1 1v3\", key: \"9wmeh2\" }]\n]);\n\nexport { ToyBrick as default };\n//# sourceMappingURL=toy-brick.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MemoryStick = createLucideIcon(\"MemoryStick\", [\n  [\"path\", { d: \"M6 19v-3\", key: \"1nvgqn\" }],\n  [\"path\", { d: \"M10 19v-3\", key: \"iu8nkm\" }],\n  [\"path\", { d: \"M14 19v-3\", key: \"kcehxu\" }],\n  [\"path\", { d: \"M18 19v-3\", key: \"1vh91z\" }],\n  [\"path\", { d: \"M8 11V9\", key: \"63erz4\" }],\n  [\"path\", { d: \"M16 11V9\", key: \"fru6f3\" }],\n  [\"path\", { d: \"M12 11V9\", key: \"ha00sb\" }],\n  [\"path\", { d: \"M2 15h20\", key: \"16ne18\" }],\n  [\n    \"path\",\n    {\n      d: \"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z\",\n      key: \"lhddv3\"\n    }\n  ]\n]);\n\nexport { MemoryStick as default };\n//# sourceMappingURL=memory-stick.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileQuestion = createLucideIcon(\"FileQuestion\", [\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }],\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z\", key: \"1mlx9k\" }],\n  [\"path\", { d: \"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3\", key: \"mhlwft\" }]\n]);\n\nexport { FileQuestion as default };\n//# sourceMappingURL=file-question.js.map\n","import { CheckCircleIcon, ArrowPathIcon } from '@heroicons/react/24/outline';\nimport { Fragment, useCallback, useState } from 'react';\nimport { trpc } from '@/helpers/trpc';\nimport { Button } from '@/components/common/button';\nimport { MutationStatus } from '@/components/common/mutation-status';\nimport { InfoMessage } from '@/components/common/info-message';\nimport { Spinner } from '@/components/common/spinner';\nimport { StepNavButton, StepNavButtons } from '@/components/step-nav-buttons';\nimport { WarningMessage } from '@/components/warning-message';\nimport { MCUStepScreenProps } from '@/components/setup-steps/mcu-preparation';\nimport { DFUFlash } from '@/components/setup-steps/mcu/dfu-flash';\nimport { SDCardFlashing } from '@/components/setup-steps/mcu/sd-card-flash';\nimport { Card } from '@/components/common/card';\nimport { CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { ChevronRight, FileQuestion, MemoryStick, ToyBrick, Zap } from 'lucide-react';\nimport { Badge } from '@/components/common/badge';\n\nexport const MCUFlashing = (props: MCUStepScreenProps) => {\n\tconst [forceReflash, setForceReflash] = useState(false);\n\tconst [flashStrategy, setFlashStrategy] = useState<null | 'dfu' | 'sdcard' | 'path'>(null);\n\tconst [flashPath, setFlashPath] = useState<string | null>(null);\n\tconst { selectedControlboard, selectedToolboard, toolhead } = props;\n\tconst selectedBoardToFlash = toolhead ? selectedToolboard : selectedControlboard;\n\tconst selectedBoard = selectedBoardToFlash;\n\tconst boardDetected = trpc.mcu.detect.useQuery(\n\t\t{ boardPath: selectedBoardToFlash?.path ?? '', toolhead: toolhead?.serialize() },\n\t\t{\n\t\t\trefetchInterval: (data) => {\n\t\t\t\tif (data === true) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn 1000;\n\t\t\t},\n\t\t\tenabled: selectedBoardToFlash !== null,\n\t\t},\n\t);\n\tconst unidentifiedBoards = trpc.mcu.unidentifiedDevices.useQuery({ toolhead: toolhead?.serialize() });\n\tconst boardVersion = trpc.mcu.boardVersion.useQuery(\n\t\t{ boardPath: selectedBoardToFlash?.path ?? '', toolhead: toolhead?.serialize() },\n\t\t{\n\t\t\tenabled: selectedBoardToFlash !== null && !!boardDetected.data && forceReflash === false,\n\t\t\trefetchOnWindowFocus: false,\n\t\t\trefetchOnMount: false,\n\t\t\trefetchOnReconnect: false,\n\t\t},\n\t);\n\tconst { data: klipperVersion } = trpc.klipperVersion.useQuery(undefined, {\n\t\trefetchInterval: 60000,\n\t});\n\tconst flashViaPath = trpc.mcu.flashViaPath.useMutation({ onSuccess: () => setForceReflash(false) });\n\n\tconst reflash = useCallback(() => {\n\t\tsetFlashStrategy(null);\n\t\tsetForceReflash(true);\n\t\tsetFlashPath(null);\n\t\tboardDetected.remove();\n\t\tboardVersion.remove();\n\t}, [boardVersion, boardDetected]);\n\n\tlet rightButton: StepNavButton = {\n\t\tonClick: props.nextScreen,\n\t\tlabel: 'Next',\n\t\tdisabled: !boardDetected.data || forceReflash,\n\t};\n\tlet leftButton: StepNavButton = {\n\t\tonClick: props.previousScreen,\n\t};\n\n\tconst onFlashViaPath = useCallback(() => {\n\t\tif (selectedBoard == null) return;\n\t\tsetFlashStrategy('path');\n\t\tflashViaPath.mutate({ boardPath: selectedBoard.path, toolhead: toolhead?.serialize() });\n\t}, [flashViaPath, selectedBoard, toolhead]);\n\n\tlet content = null;\n\tif (boardVersion.error && !forceReflash) {\n\t\tcontent = (\n\t\t\t<Fragment>\n\t\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t{selectedBoard?.name} detected but is unresponsive.\n\t\t\t\t</h3>\n\t\t\t\t<p>\n\t\t\t\t\tKlipper doesn't seem to be running on your board, which may indicate faulty firmware or a faulty board. Please\n\t\t\t\t\tcheck your board and try flashing it again.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<Button variant=\"indeterminate\" onClick={reflash}>\n\t\t\t\t\t\t<span>Flash again</span> <ArrowPathIcon className=\"inline h-5 w-5\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</p>\n\t\t\t</Fragment>\n\t\t);\n\t} else if (boardVersion.isFetching) {\n\t\tcontent = (\n\t\t\t<Fragment>\n\t\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t<Spinner className=\"relative -top-0.5 mr-2 inline\" noMargin={true} /> {selectedBoard?.name} detected, checking\n\t\t\t\t\tversion...\n\t\t\t\t</h3>\n\t\t\t\t<p>Please wait while RatOS queries your board..</p>\n\t\t\t</Fragment>\n\t\t);\n\t} else if (boardVersion.data || (boardDetected.data && !forceReflash)) {\n\t\tconst dfuReminder =\n\t\t\tflashStrategy === 'dfu' && selectedBoard?.dfu?.reminder ? (\n\t\t\t\t<InfoMessage title=\"Reminder\">{selectedBoard?.dfu?.reminder}</InfoMessage>\n\t\t\t) : null;\n\t\tconst versionMismatch =\n\t\t\tboardVersion.data != null && klipperVersion != null && boardVersion.data !== klipperVersion ? (\n\t\t\t\t<WarningMessage title=\"Version mismatch\">\n\t\t\t\t\tThe board is running version {boardVersion.data} but you your pi is on version {klipperVersion}. If you want\n\t\t\t\t\tto update your board click 'flash again' below.\n\t\t\t\t</WarningMessage>\n\t\t\t) : null;\n\t\tcontent = (\n\t\t\t<Fragment>\n\t\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t<CheckCircleIcon className=\"relative -top-0.5 inline h-7 w-7 text-brand-700 dark:text-brand-500\" />{' '}\n\t\t\t\t\t{selectedBoard?.name} detected\n\t\t\t\t</h3>\n\t\t\t\t{dfuReminder}\n\t\t\t\t{versionMismatch}\n\t\t\t\t<p>\n\t\t\t\t\tProceed to the next step or{' '}\n\t\t\t\t\t<Button variant=\"indeterminate\" onClick={reflash}>\n\t\t\t\t\t\t<span>Flash again</span> <ArrowPathIcon className=\"inline h-5 w-5\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</p>\n\t\t\t</Fragment>\n\t\t);\n\t} else if (flashStrategy == null) {\n\t\tconst dfuStrategyEnabled = selectedBoard?.dfu != null;\n\t\tconst sdCardStrategyEnabled = !selectedBoard?.isToolboard;\n\t\tconst pathStrategyEnabled = boardDetected.data && selectedBoard?.flashScript != null;\n\t\tconst unidentifiedPathStrategyEnabled = unidentifiedBoards.data?.length;\n\t\tconst dfu = (\n\t\t\t<Card className=\"flex flex-col justify-between\">\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle>Manual flashing using DFU</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tFlash the board by manually placing a boot jumper or clicking boot and reset buttons on your board.\n\t\t\t\t\t\tInstructions will be provided on the next page.\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"text-right xl:text-left\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\t\t\tonClick={() => setFlashStrategy('dfu')}\n\t\t\t\t\t\tdisabled={!dfuStrategyEnabled}\n\t\t\t\t\t\tclassName=\"justify-endt\"\n\t\t\t\t\t\ttitle={dfuStrategyEnabled ? undefined : 'This board does not support DFU flashing.'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToyBrick className=\"size-4\" />\n\t\t\t\t\t\tFlash manually via DFU\n\t\t\t\t\t</Button>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t\tconst sdCard = (\n\t\t\t<Card className=\"flex flex-col justify-between\">\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle>Manual flashing using an SD-card</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tFlash the board by placing the firmware on an SD-card and inserting it into the board. Instructions will be\n\t\t\t\t\t\tprovided on the next page.\n\t\t\t\t\t</CardDescription>\n\t\t\t\t\t<CardDescription className=\"text-sky-300/50\">\n\t\t\t\t\t\tThis method is generally not recommended unless other methods aren't available.\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"text-right xl:text-left\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\t\t\tonClick={() => setFlashStrategy('sdcard')}\n\t\t\t\t\t\tdisabled={!sdCardStrategyEnabled}\n\t\t\t\t\t\tclassName=\"justify-center\"\n\t\t\t\t\t\ttitle={sdCardStrategyEnabled ? undefined : 'This board does not support SD card flashing.'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MemoryStick className=\"size-4\" />\n\t\t\t\t\t\tFlash manually via SD card\n\t\t\t\t\t</Button>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t\tconst path = (\n\t\t\t<Card className=\"flex flex-col justify-between\">\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle className=\"flex items-center justify-between gap-2\">\n\t\t\t\t\t\tAutomated flashing\n\t\t\t\t\t\t{!pathStrategyEnabled ? (\n\t\t\t\t\t\t\t<Badge color=\"yellow\" className=\"mr-1\">\n\t\t\t\t\t\t\t\tUnavailable\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Badge color=\"lime\" className=\"mr-1\">\n\t\t\t\t\t\t\t\tRecommended\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tIf RatOS has already detected your board, it can be flashed automatically. This is the fastest and easiest\n\t\t\t\t\t\tmethod.\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"text-right xl:text-left\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\t\t\tonClick={onFlashViaPath}\n\t\t\t\t\t\tdisabled={!pathStrategyEnabled}\n\t\t\t\t\t\tclassName=\"justify-center\"\n\t\t\t\t\t\ttitle={pathStrategyEnabled ? undefined : 'Board was not detected.'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Zap className=\"size-4\" />\n\t\t\t\t\t\tFlash automatically\n\t\t\t\t\t</Button>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t\tconst unidentifiedPath = (\n\t\t\t<Card className=\"flex flex-col justify-between\">\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle className=\"flex items-center justify-between gap-2\">\n\t\t\t\t\t\tFlash unidentified board\n\t\t\t\t\t\t{!unidentifiedPathStrategyEnabled && (\n\t\t\t\t\t\t\t<Badge color=\"yellow\" className=\"mr-1\">\n\t\t\t\t\t\t\t\tUnavailable\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tIf RatOS detects any boards that are already running klipper but not managed by RatOS, their device path\n\t\t\t\t\t\twill be listed here. These will flash automatically, but make sure you pick the right one. If you're unsure\n\t\t\t\t\t\twhat to pick, choose one of the other methods.\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"text-right xl:text-left\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\t\t\tclassName=\"justify-center\"\n\t\t\t\t\t\tdisabled={!unidentifiedPathStrategyEnabled}\n\t\t\t\t\t\ttitle={unidentifiedPathStrategyEnabled ? undefined : 'No unidentified boards detected.'}\n\t\t\t\t\t\tdropdownItems={unidentifiedBoards.data?.map((ub) => ({\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tif (selectedBoard == null) return;\n\t\t\t\t\t\t\t\tsetFlashStrategy('path');\n\t\t\t\t\t\t\t\tsetFlashPath(ub);\n\t\t\t\t\t\t\t\tflashViaPath.mutate({ boardPath: selectedBoard.path, flashPath: ub, toolhead: toolhead?.serialize() });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: ub,\n\t\t\t\t\t\t}))}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileQuestion className=\"size-4\" />\n\t\t\t\t\t\tFlash unidentified board\n\t\t\t\t\t</Button>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t\tcontent = (\n\t\t\t<Fragment>\n\t\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\tHow do you want to flash your {selectedBoard?.name}?\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"grid grid-cols-1 gap-4 sm:grid-cols-1 xl:grid-cols-2\">\n\t\t\t\t\t{path}\n\t\t\t\t\t{dfu}\n\t\t\t\t\t{sdCard}\n\t\t\t\t\t{unidentifiedPath}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t} else {\n\t\tif (selectedBoard == null) {\n\t\t\tcontent = (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"prose mt-4 text-base text-red-700\">\n\t\t\t\t\t\tYou have to select a board before navigating to this screen.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tswitch (flashStrategy) {\n\t\t\t\tcase 'dfu':\n\t\t\t\t\tcontent = <DFUFlash board={selectedBoard} onSuccess={() => setForceReflash(false)} toolhead={toolhead} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'sdcard':\n\t\t\t\t\tcontent = (\n\t\t\t\t\t\t<SDCardFlashing board={selectedBoard} onSuccess={() => setForceReflash(false)} toolhead={toolhead} />\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'path':\n\t\t\t\t\tcontent = (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3 className=\"text-xl font-medium text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\tFlashing {selectedBoard.name}\n\t\t\t\t\t\t\t\t{flashPath ? ` at ${flashPath}` : ''}...\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"prose mt-4 text-base text-zinc-500\">Please wait while RatOS flashes your board.</div>\n\t\t\t\t\t\t\t<MutationStatus {...flashViaPath} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t{' '}\n\t\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">{props.name}</h3>\n\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">{props.description}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"space-y-4 text-zinc-700 dark:text-zinc-300\">\n\t\t\t\t\t{props.children}\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<StepNavButtons right={rightButton} left={leftButton} />\n\t\t</Fragment>\n\t);\n};\n","import{useState as m,useCallback as t}from\"react\";function b(g=0){let[r,l]=m(g),u=t(e=>l(a=>a|e),[r]),n=t(e=>Boolean(r&e),[r]),o=t(e=>l(a=>a&~e),[l]),s=t(e=>l(a=>a^e),[l]);return{addFlag:u,hasFlag:n,removeFlag:o,toggleFlag:s}}export{b as useFlags};\n","import g,{createContext as J,useContext as q,useMemo as A,useReducer as se,useRef as B,useEffect as ue}from\"react\";import{forwardRefWithAs as Q,render as X,compact as de}from'../../utils/render.js';import{useId as Y}from'../../hooks/use-id.js';import{match as ce}from'../../utils/match.js';import{useIsoMorphicEffect as fe}from'../../hooks/use-iso-morphic-effect.js';import{Keys as P}from'../../components/keyboard.js';import{focusIn as Z,Focus as H,FocusResult as z,sortByDomNode as Te}from'../../utils/focus-management.js';import{useFlags as me}from'../../hooks/use-flags.js';import{Label as be,useLabels as ee}from'../../components/label/label.js';import{Description as Re,useDescriptions as te}from'../../components/description/description.js';import{useTreeWalker as ye}from'../../hooks/use-tree-walker.js';import{useSyncRefs as re}from'../../hooks/use-sync-refs.js';import{Hidden as ge,Features as ve}from'../../internal/hidden.js';import{attemptSubmit as Oe,objectToFormEntries as Ee}from'../../utils/form.js';import{getOwnerDocument as Ae}from'../../utils/owner.js';import{useEvent as v}from'../../hooks/use-event.js';import{useControllable as Pe}from'../../hooks/use-controllable.js';import{isDisabledReactIssue7711 as oe}from'../../utils/bugs.js';import{useLatestValue as De}from'../../hooks/use-latest-value.js';import{useDisposables as Ge}from'../../hooks/use-disposables.js';var he=(t=>(t[t.RegisterOption=0]=\"RegisterOption\",t[t.UnregisterOption=1]=\"UnregisterOption\",t))(he||{});let ke={[0](n,r){let t=[...n.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...n,options:Te(t,d=>d.element.current)}},[1](n,r){let t=n.options.slice(),d=n.options.findIndex(c=>c.id===r.id);return d===-1?n:(t.splice(d,1),{...n,options:t})}},$=J(null);$.displayName=\"RadioGroupDataContext\";function ne(n){let r=q($);if(r===null){let t=new Error(`<${n} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return r}let V=J(null);V.displayName=\"RadioGroupActionsContext\";function ie(n){let r=q(V);if(r===null){let t=new Error(`<${n} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ie),t}return r}function Fe(n,r){return ce(r.type,ke,n,r)}let Le=\"div\",Ce=Q(function(r,t){let d=Y(),{id:c=`headlessui-radiogroup-${d}`,value:D,defaultValue:O,name:I,onChange:E,by:G=(e,i)=>e===i,disabled:h=!1,...U}=r,T=v(typeof G==\"string\"?(e,i)=>{let o=G;return(e==null?void 0:e[o])===(i==null?void 0:i[o])}:G),[k,F]=se(Fe,{options:[]}),a=k.options,[M,N]=ee(),[m,L]=te(),C=B(null),W=re(C,t),[l,x]=Pe(D,E,O),s=A(()=>a.find(e=>!e.propsRef.current.disabled),[a]),b=A(()=>a.some(e=>T(e.propsRef.current.value,l)),[a,l]),u=v(e=>{var o;if(h||T(e,l))return!1;let i=(o=a.find(f=>T(f.propsRef.current.value,e)))==null?void 0:o.propsRef.current;return i!=null&&i.disabled?!1:(x==null||x(e),!0)});ye({container:C.current,accept(e){return e.getAttribute(\"role\")===\"radio\"?NodeFilter.FILTER_REJECT:e.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute(\"role\",\"none\")}});let K=v(e=>{let i=C.current;if(!i)return;let o=Ae(i),f=a.filter(p=>p.propsRef.current.disabled===!1).map(p=>p.element.current);switch(e.key){case P.Enter:Oe(e.currentTarget);break;case P.ArrowLeft:case P.ArrowUp:if(e.preventDefault(),e.stopPropagation(),Z(f,H.Previous|H.WrapAround)===z.Success){let y=a.find(j=>j.element.current===(o==null?void 0:o.activeElement));y&&u(y.propsRef.current.value)}break;case P.ArrowRight:case P.ArrowDown:if(e.preventDefault(),e.stopPropagation(),Z(f,H.Next|H.WrapAround)===z.Success){let y=a.find(j=>j.element.current===(o==null?void 0:o.activeElement));y&&u(y.propsRef.current.value)}break;case P.Space:{e.preventDefault(),e.stopPropagation();let p=a.find(y=>y.element.current===(o==null?void 0:o.activeElement));p&&u(p.propsRef.current.value)}break}}),w=v(e=>(F({type:0,...e}),()=>F({type:1,id:e.id}))),R=A(()=>({value:l,firstOption:s,containsCheckedOption:b,disabled:h,compare:T,...k}),[l,s,b,h,T,k]),S=A(()=>({registerOption:w,change:u}),[w,u]),ae={ref:W,id:c,role:\"radiogroup\",\"aria-labelledby\":M,\"aria-describedby\":m,onKeyDown:K},le=A(()=>({value:l}),[l]),_=B(null),pe=Ge();return ue(()=>{!_.current||O!==void 0&&pe.addEventListener(_.current,\"reset\",()=>{u(O)})},[_,u]),g.createElement(L,{name:\"RadioGroup.Description\"},g.createElement(N,{name:\"RadioGroup.Label\"},g.createElement(V.Provider,{value:S},g.createElement($.Provider,{value:R},I!=null&&l!=null&&Ee({[I]:l}).map(([e,i],o)=>g.createElement(ge,{features:ve.Hidden,ref:o===0?f=>{var p;_.current=(p=f==null?void 0:f.closest(\"form\"))!=null?p:null}:void 0,...de({key:e,as:\"input\",type:\"radio\",checked:i!=null,hidden:!0,readOnly:!0,name:e,value:i})})),X({ourProps:ae,theirProps:U,slot:le,defaultTag:Le,name:\"RadioGroup\"})))))});var xe=(t=>(t[t.Empty=1]=\"Empty\",t[t.Active=2]=\"Active\",t))(xe||{});let we=\"div\",Ie=Q(function(r,t){var w;let d=Y(),{id:c=`headlessui-radiogroup-option-${d}`,value:D,disabled:O=!1,...I}=r,E=B(null),G=re(E,t),[h,U]=ee(),[T,k]=te(),{addFlag:F,removeFlag:a,hasFlag:M}=me(1),N=De({value:D,disabled:O}),m=ne(\"RadioGroup.Option\"),L=ie(\"RadioGroup.Option\");fe(()=>L.registerOption({id:c,element:E,propsRef:N}),[c,L,E,r]);let C=v(R=>{var S;if(oe(R.currentTarget))return R.preventDefault();!L.change(D)||(F(2),(S=E.current)==null||S.focus())}),W=v(R=>{if(oe(R.currentTarget))return R.preventDefault();F(2)}),l=v(()=>a(2)),x=((w=m.firstOption)==null?void 0:w.id)===c,s=m.disabled||O,b=m.compare(m.value,D),u={ref:G,id:c,role:\"radio\",\"aria-checked\":b?\"true\":\"false\",\"aria-labelledby\":h,\"aria-describedby\":T,\"aria-disabled\":s?!0:void 0,tabIndex:(()=>s?-1:b||!m.containsCheckedOption&&x?0:-1)(),onClick:s?void 0:C,onFocus:s?void 0:W,onBlur:s?void 0:l},K=A(()=>({checked:b,disabled:s,active:M(2)}),[b,s,M]);return g.createElement(k,{name:\"RadioGroup.Description\"},g.createElement(U,{name:\"RadioGroup.Label\"},X({ourProps:u,theirProps:I,slot:K,defaultTag:we,name:\"RadioGroup.Option\"})))}),ut=Object.assign(Ce,{Option:Ie,Label:be,Description:Re});export{ut as RadioGroup};\n","'use client';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { RadioGroup } from '@headlessui/react';\nimport { twJoin } from 'tailwind-merge';\nimport { motion } from 'framer-motion';\n\nexport interface SelectableCard {\n\tid: string | number;\n\tname: React.ReactNode;\n\tright?: React.ReactNode;\n\tleft?: React.ReactNode;\n\tdetails: React.ReactNode;\n}\n\ninterface CardSelectorProps<Selectable extends SelectableCard = SelectableCard> {\n\tcards: Selectable[];\n\tonSelect?: (card: Selectable) => void;\n\tvalue?: Selectable | null;\n\ttitle?: (card: Selectable) => React.ReactNode;\n}\n\nexport const CardSelector = <Selectable extends SelectableCard = SelectableCard>(\n\tprops: CardSelectorProps<Selectable>,\n) => {\n\tconst [selected, setSelected] = useState<Selectable | null>(null);\n\tconst { onSelect: _onSelect } = props;\n\n\tconst onSelect = useCallback(\n\t\t(card: Selectable) => {\n\t\t\tif (props.value === undefined) {\n\t\t\t\tsetSelected(card);\n\t\t\t}\n\t\t\t_onSelect?.(card);\n\t\t},\n\t\t[_onSelect, props.value],\n\t);\n\n\tuseEffect(() => {\n\t\tif (props.value !== undefined) {\n\t\t\tsetSelected(props.value);\n\t\t}\n\t}, [props.value]);\n\n\treturn (\n\t\t<RadioGroup value={selected} onChange={onSelect}>\n\t\t\t<motion.div className=\"grid grid-cols-1 gap-4 2xl:grid-cols-2\">\n\t\t\t\t{props.cards.map((card, i) => (\n\t\t\t\t\t<RadioGroup.Option\n\t\t\t\t\t\tkey={card.id}\n\t\t\t\t\t\tvalue={card}\n\t\t\t\t\t\tclassName={({ checked, active }) =>\n\t\t\t\t\t\t\ttwJoin(\n\t\t\t\t\t\t\t\tchecked ? 'border-transparent' : 'border-zinc-300 dark:border-zinc-700',\n\t\t\t\t\t\t\t\t'relative flex cursor-pointer items-stretch rounded-lg border bg-white px-4 py-4 shadow-sm focus:outline-none active:ring-0 dark:bg-zinc-800/70',\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ active, checked }) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-1 flex-col items-stretch justify-between gap-4\">\n\t\t\t\t\t\t\t\t\t{card.left && (\n\t\t\t\t\t\t\t\t\t\t<RadioGroup.Description as=\"div\" className=\"mr-4 mt-2 flex text-sm sm:mt-0 sm:block sm:text-left\">\n\t\t\t\t\t\t\t\t\t\t\t{card.left}\n\t\t\t\t\t\t\t\t\t\t</RadioGroup.Description>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-shrink-0 flex-col\">\n\t\t\t\t\t\t\t\t\t\t<RadioGroup.Label\n\t\t\t\t\t\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center space-x-2 text-sm font-bold text-zinc-900 dark:text-zinc-100\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{props.title ? props.title(card) : card.name}\n\t\t\t\t\t\t\t\t\t\t</RadioGroup.Label>\n\t\t\t\t\t\t\t\t\t\t<RadioGroup.Description\n\t\t\t\t\t\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-1 flex-1 text-xs font-medium text-zinc-500 dark:text-zinc-400\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:inline\">{card.details}</div>\n\t\t\t\t\t\t\t\t\t\t</RadioGroup.Description>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{card.right && (\n\t\t\t\t\t\t\t\t\t<RadioGroup.Description as=\"div\" className=\"ml-4 mt-2 flex text-sm sm:mt-0 sm:block sm:text-right\">\n\t\t\t\t\t\t\t\t\t\t{card.right}\n\t\t\t\t\t\t\t\t\t</RadioGroup.Description>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\t\tchecked ? 'border-brand-600' : 'border-transparent',\n\t\t\t\t\t\t\t\t\t\t'pointer-events-none absolute -inset-px rounded-lg border-2',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</RadioGroup.Option>\n\t\t\t\t))}\n\t\t\t</motion.div>\n\t\t</RadioGroup>\n\t);\n};\n","export const categorizeList = <T>(list: T[], categorizer: (item: T) => string): Record<string, T[]> => {\n\tconst categorizedList: Record<string, T[]> = {};\n\n\tlist.forEach((item) => {\n\t\tconst category = categorizer(item);\n\t\tif (!categorizedList[category]) {\n\t\t\tcategorizedList[category] = [];\n\t\t}\n\t\tcategorizedList[category].push(item);\n\t});\n\n\treturn categorizedList;\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SearchX = createLucideIcon(\"SearchX\", [\n  [\"path\", { d: \"m13.5 8.5-5 5\", key: \"1cs55j\" }],\n  [\"path\", { d: \"m8.5 8.5 5 5\", key: \"a8mexj\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { SearchX as default };\n//# sourceMappingURL=search-x.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","import React, { Fragment, useCallback } from 'react';\nimport { CardSelector } from '@/components/card-selector';\nimport { StepNavButton, StepNavButtons } from '@/components/step-nav-buttons';\nimport { MCUStepScreenProps, SelectableBoard } from '@/components/setup-steps/mcu-preparation';\nimport { Button } from '@/components/common/button';\nimport { Input } from '@/components/ui/input';\nimport { BoardWithDetectionStatus } from '@/zods/boards';\nimport { PrinterAxis } from '@/zods/motion';\nimport { AnimatedContainer } from '@/components/common/animated-container';\nimport { categorizeList } from '@/app/_helpers/lists';\nimport { Search, SearchX } from 'lucide-react';\n\nexport const MCUPicker: React.FC<MCUStepScreenProps> = (props) => {\n\tconst { toolhead, skipSteps, setSelectedBoard, selectedControlboard, selectedToolboard, selectedPrinter, cards } =\n\t\tprops;\n\n\tconst [globalFilter, setGlobalFilter] = React.useState<string | null>(null);\n\n\tconst isToolboardRequired = useCallback(\n\t\t(controlboard: BoardWithDetectionStatus | null = selectedControlboard) => {\n\t\t\treturn selectedPrinter != null && (controlboard?.driverCount ?? 0) < selectedPrinter.driverCountRequired;\n\t\t},\n\t\t[selectedControlboard, selectedPrinter],\n\t);\n\n\tconst isBoardDetected = toolhead ? selectedToolboard?.detected : selectedControlboard?.detected;\n\n\tconst categorizedCards = categorizeList(\n\t\tcards.filter((c) => {\n\t\t\tif (globalFilter == null || globalFilter?.trim() === '') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst filterVal = globalFilter.toLowerCase();\n\t\t\tconst boardSearchStrings = [\n\t\t\t\tc.board.name.toLowerCase(),\n\t\t\t\tc.board.manufacturer.toLowerCase(),\n\t\t\t\t...c.board.driverVoltages.map((v) => v.toString()),\n\t\t\t\t...(c.board.integratedDrivers\n\t\t\t\t\t? Object.values(c.board.integratedDrivers).map((v) => v.toString().toLowerCase())\n\t\t\t\t\t: []),\n\t\t\t\tc.board.flashScript && !c.board.disableAutoFlash ? 'automatic flashing' : 'manual flashing',\n\t\t\t\tc.board.integratedDrivers ? 'integrated drivers' : 'step sticks',\n\t\t\t];\n\t\t\treturn filterVal.split(' ').every((fv) => boardSearchStrings.some((s) => s.includes(fv) || fv.includes(s)));\n\t\t}),\n\t\t(card) => card.board.manufacturer,\n\t);\n\n\tlet content = Object.keys(categorizedCards)\n\t\t.sort((a, b) => categorizedCards[b].length - categorizedCards[a].length)\n\t\t.map((category) => (\n\t\t\t<div key={category} className=\"mb-8\">\n\t\t\t\t<h3 className=\"font-display font-bold tracking-tight text-zinc-300\">{category}</h3>\n\t\t\t\t<p className=\"mb-4 max-w-4xl text-sm font-medium text-zinc-500 dark:text-zinc-500\">\n\t\t\t\t\tSupported boards from {category}\n\t\t\t\t</p>\n\t\t\t\t<CardSelector<SelectableBoard>\n\t\t\t\t\tcards={categorizedCards[category]}\n\t\t\t\t\tvalue={cards.find((c) => c.id === (toolhead ? selectedToolboard : selectedControlboard)?.id)}\n\t\t\t\t\tonSelect={setSelectedBoard}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t));\n\n\tlet rightButton: StepNavButton = {\n\t\tonClick: props.nextScreen,\n\t\tlabel: 'Next',\n\t\tdisabled: true,\n\t};\n\tlet leftButton: StepNavButton = {\n\t\tonClick: props.previousScreen,\n\t};\n\n\tconst skip = useCallback(() => {\n\t\tskipSteps?.();\n\t}, [skipSteps]);\n\n\tlet skipButton: StepNavButton | undefined =\n\t\t((toolhead && !isToolboardRequired()) || isBoardDetected) && skipSteps && skip\n\t\t\t? {\n\t\t\t\t\tonClick: skip,\n\t\t\t\t\tlabel: 'Skip',\n\t\t\t\t}\n\t\t\t: undefined;\n\n\tif (\n\t\t(toolhead && (!isToolboardRequired() || selectedToolboard != null)) ||\n\t\t(!toolhead && selectedControlboard != null)\n\t) {\n\t\trightButton = {\n\t\t\tonClick: props.nextScreen,\n\t\t\tlabel: 'Next',\n\t\t};\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t{' '}\n\t\t\t\t<div className=\"mb-5 flex border-b border-zinc-200 pb-2 dark:border-zinc-700\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">{props.name}</h3>\n\t\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">{props.description}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{toolhead && toolhead.getMotionAxis() === PrinterAxis.x && selectedToolboard != null && (\n\t\t\t\t\t\t\t\t<Button onClick={() => setSelectedBoard(null)} variant=\"danger\">\n\t\t\t\t\t\t\t\t\tClear selection\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<StepNavButtons right={rightButton} skip={skipButton} inTitle={true} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mb-6 border-b border-zinc-200 pb-2 dark:border-zinc-800\">\n\t\t\t\t\t<h3 className=\"mb-1 text-base font-bold text-zinc-900 dark:text-zinc-300\">Search boards</h3>\n\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"Filter boards...\"\n\t\t\t\t\t\t\tvalue={globalFilter ?? ''}\n\t\t\t\t\t\t\tonChange={(event) => setGlobalFilter(event.target.value)}\n\t\t\t\t\t\t\tclassName=\"mb-4 h-8 w-full pr-8\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{globalFilter != null && globalFilter?.trim() != '' ? (\n\t\t\t\t\t\t\t<SearchX\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetGlobalFilter(null);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"absolute right-2 top-1.5 h-5 w-5 cursor-pointer text-zinc-400 hover:text-rose-400\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Search className=\"absolute right-2 top-1.5 h-5 w-5 text-zinc-400\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<AnimatedContainer containerClassName=\"overflow-hidden\">\n\t\t\t\t\t{props.children}\n\t\t\t\t\t{content}\n\t\t\t\t</AnimatedContainer>\n\t\t\t</div>\n\t\t\t<StepNavButtons right={rightButton} left={leftButton} skip={skipButton} />\n\t\t</Fragment>\n\t);\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Usb = createLucideIcon(\"Usb\", [\n  [\"circle\", { cx: \"10\", cy: \"7\", r: \"1\", key: \"dypaad\" }],\n  [\"circle\", { cx: \"4\", cy: \"20\", r: \"1\", key: \"22iqad\" }],\n  [\"path\", { d: \"M4.7 19.3 19 5\", key: \"1enqfc\" }],\n  [\"path\", { d: \"m21 3-3 1 2 2Z\", key: \"d3ov82\" }],\n  [\"path\", { d: \"M9.26 7.68 5 12l2 5\", key: \"1esawj\" }],\n  [\"path\", { d: \"m10 14 5 2 3.5-3.5\", key: \"v8oal5\" }],\n  [\"path\", { d: \"m18 12 1-1 1 1-1 1Z\", key: \"1bh22v\" }]\n]);\n\nexport { Usb as default };\n//# sourceMappingURL=usb.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ZapOff = createLucideIcon(\"ZapOff\", [\n  [\"path\", { d: \"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317\", key: \"193nxd\" }],\n  [\"path\", { d: \"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773\", key: \"27a7lr\" }],\n  [\n    \"path\",\n    {\n      d: \"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643\",\n      key: \"1e0qe9\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n]);\n\nexport { ZapOff as default };\n//# sourceMappingURL=zap-off.js.map\n","import React, { useCallback, useMemo } from 'react';\nimport { trpc } from '@/helpers/trpc';\nimport { usePrinterConfiguration } from '@/hooks/usePrinterConfiguration';\nimport { StepScreen, StepScreenProps, useSteps } from '@/hooks/useSteps';\nimport { Board, BoardWithDetectionStatus, Toolboard } from '@/zods/boards';\nimport { SelectableCard } from '@/components/card-selector';\nimport { QueryStatus } from '@/components/common/query-status';\nimport { MCUFlashing } from '@/components/setup-steps/mcu/flash';\nimport { MCUPicker } from '@/components/setup-steps/mcu/pick';\nimport { PrinterDefinitionWithResolvedToolheads } from '@/zods/printer';\nimport { ToolOrAxis } from '@/zods/toolhead';\nimport { ToolheadHelper } from '@/helpers/toolhead';\nimport { useToolheadConfiguration } from '@/hooks/useToolheadConfiguration';\nimport Image from 'next/image';\nimport { Cpu, FileQuestion, MemoryStick, Usb, Zap, ZapOff } from 'lucide-react';\nimport { Badge } from '@/components/common/badge';\nimport { deserializeDriver } from '@/utils/serialization';\n\nexport interface SelectableBoard extends SelectableCard {\n\tboard: BoardWithDetectionStatus;\n}\n\ninterface ExtraStepProps {\n\tselectedControlboard: BoardWithDetectionStatus | null;\n\tselectedToolboard: BoardWithDetectionStatus | null;\n\tcards: SelectableBoard[];\n\tsetSelectedBoard: (board: SelectableBoard | null) => void;\n\tselectedPrinter: PrinterDefinitionWithResolvedToolheads | null;\n\ttoolhead: ToolheadHelper<any> | null;\n}\n\ninterface ExtraProps {\n\ttoolOrAxis?: ToolOrAxis;\n}\n\nexport type MCUStepScreenProps = StepScreenProps & ExtraStepProps;\n\nconst MCUSteps: StepScreen<ExtraStepProps>[] = [\n\t{\n\t\tid: '01',\n\t\tname: (screenProps) =>\n\t\t\t`Pick ${screenProps.toolhead ? `${screenProps.toolhead.getToolCommand()} Toolboard` : 'Control board'}`,\n\t\tdescription: (screenProps) =>\n\t\t\t`Pick the ${\n\t\t\t\tscreenProps.toolhead\n\t\t\t\t\t? `toolboard for ${screenProps.toolhead.getDescription()}. If you don't use a toolboard you can skip this step.`\n\t\t\t\t\t: 'control board. Toolboard(s) can be added in a later step.'\n\t\t\t}`,\n\t\thref: '#',\n\t\trenderScreen: (screenProps) => <MCUPicker {...screenProps} key={screenProps.key} />,\n\t},\n\t{\n\t\tid: '02',\n\t\tname: (screenProps) =>\n\t\t\t`${screenProps.toolhead ? `${screenProps.toolhead.getToolCommand()} Toolboard` : 'Control board'} flashing`,\n\t\tdescription: (screenProps) =>\n\t\t\t`Make sure your ${\n\t\t\t\tscreenProps.toolhead ? `toolboard for ${screenProps.toolhead.getDescription()}` : 'control board'\n\t\t\t} is flashed and up to date.`,\n\t\thref: '#',\n\t\trenderScreen: (screenProps) => <MCUFlashing {...screenProps} key={screenProps.key} />,\n\t},\n];\n\nexport const MCUPreparation: React.FC<StepScreenProps & ExtraProps> = (props) => {\n\tconst {\n\t\tselectedPrinter,\n\t\tselectedBoard: _controlBoard,\n\t\tsetSelectedBoard: _setControlboard,\n\t} = usePrinterConfiguration();\n\tconst { toolhead, setToolhead } = useToolheadConfiguration(props.toolOrAxis, false);\n\n\tconst boardsQuery = trpc.mcu.boards.useQuery(\n\t\t{\n\t\t\tboardFilters: {\n\t\t\t\tdriverCountRequired:\n\t\t\t\t\ttoolhead != null\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: (selectedPrinter?.driverCountRequired ?? 0) - (selectedPrinter?.defaults.toolheads.length ?? 1),\n\t\t\t},\n\t\t\ttoolhead: toolhead?.serialize(),\n\t\t\tcontrolboard: _controlBoard?.id,\n\t\t},\n\t\t{ keepPreviousData: true },\n\t);\n\n\tconst selectedControlboard = boardsQuery.data?.find((c) => c.id == _controlBoard?.id) ?? null;\n\tconst selectedToolboard = boardsQuery.data?.find((c) => c.id == toolhead?.getToolboard()?.id) ?? null;\n\n\tconst isToolboardRequired = useCallback(\n\t\t(controlboard: BoardWithDetectionStatus | null = selectedControlboard) => {\n\t\t\treturn selectedPrinter != null && (controlboard?.driverCount ?? 0) < selectedPrinter.driverCountRequired;\n\t\t},\n\t\t[selectedControlboard, selectedPrinter],\n\t);\n\n\tconst cards: SelectableBoard[] = useMemo(() => {\n\t\tif (boardsQuery.isError || boardsQuery.data == null) return [];\n\t\treturn boardsQuery.data\n\t\t\t.filter((b) => b.isToolboard == (toolhead != null ? true : null))\n\t\t\t.map((b) => {\n\t\t\t\tlet boardDescription = ``;\n\t\t\t\tif (b.integratedDrivers && Object.keys(b.integratedDrivers).length) {\n\t\t\t\t\tconst integratedDrivers = Object.entries(b.integratedDrivers).reduce(\n\t\t\t\t\t\t(acc, [key, val]) => {\n\t\t\t\t\t\t\tconst driver = deserializeDriver(val)?.title;\n\t\t\t\t\t\t\tif (!driver) {\n\t\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (acc[driver] == null) {\n\t\t\t\t\t\t\t\tacc[driver] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tacc[driver] += 1;\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{} as { [key: string]: number },\n\t\t\t\t\t);\n\t\t\t\t\tconst countedDrivers = Object.entries(integratedDrivers).map(\n\t\t\t\t\t\t([key, val]) => `${val == 1 ? 'an' : val} integrated ${key} driver${val > 1 ? 's' : ''}`,\n\t\t\t\t\t);\n\t\t\t\t\tboardDescription = `A ${b.isToolboard ? 'tool board' : 'control board'} with ${\n\t\t\t\t\t\tcountedDrivers.length > 1\n\t\t\t\t\t\t\t? countedDrivers.slice(0, -1).join(', ') + ' and ' + countedDrivers[countedDrivers.length - 1]\n\t\t\t\t\t\t\t: countedDrivers.join('')\n\t\t\t\t\t} ${b.driverCount > Object.keys(b.integratedDrivers).length ? `(${b.driverCount} total driver${b.driverCount > 1 ? 's' : ''})` : ``} and`;\n\t\t\t\t} else {\n\t\t\t\t\tboardDescription = `${b.driverCount}-driver ${b.isToolboard ? 'tool board' : 'control board'} with`;\n\t\t\t\t}\n\t\t\t\tboardDescription += ` ${b.flashScript && !b.disableAutoFlash ? 'support for automatic flashing' : 'manual flashing'}.`;\n\t\t\t\tconst voltages =\n\t\t\t\t\tb.driverVoltages.length > 1\n\t\t\t\t\t\t? `${b.driverVoltages.slice(0, -1).join('V, ')}V and ${b.driverVoltages[b.driverVoltages.length - 1]}V`\n\t\t\t\t\t\t: `${b.driverVoltages[0]}V`;\n\t\t\t\tif (b.driverVoltages.length > 1 || b.driverVoltages[0] != 24) {\n\t\t\t\t\t// TODO: This is definitely not true in all cases..\n\t\t\t\t\tboardDescription += ` Supports running steppers at ${voltages}${b.driverVoltages.length > 1 ? ' via a dedicated motor power input port' : ''}.`;\n\t\t\t\t}\n\n\t\t\t\tconst boardImgUri = b.boardImageFileName\n\t\t\t\t\t? '/configure/api/mcu-image?boardId=' + encodeURIComponent(b.id)\n\t\t\t\t\t: '/configure/img/missing-board-img.webp';\n\t\t\t\treturn {\n\t\t\t\t\tid: b.id,\n\t\t\t\t\tboard: b,\n\t\t\t\t\tname: (\n\t\t\t\t\t\t<h3 className=\"flex gap-2\">\n\t\t\t\t\t\t\t{b.name}\n\t\t\t\t\t\t\t{!toolhead && isToolboardRequired(b) && (\n\t\t\t\t\t\t\t\t<Badge color=\"yellow\" size=\"sm\">\n\t\t\t\t\t\t\t\t\tToolboard required\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t),\n\t\t\t\t\tdetails: (\n\t\t\t\t\t\t<div className=\"flex-col justify-between\">\n\t\t\t\t\t\t\t<p className=\"mt-1 flex-1 text-xs font-medium text-zinc-500 dark:text-zinc-400\">{boardDescription}</p>\n\t\t\t\t\t\t\t<div className=\"mt-4 flex gap-2\">\n\t\t\t\t\t\t\t\t<Badge color={b.detected ? 'lime' : 'gray'} size=\"sm\">\n\t\t\t\t\t\t\t\t\t<Usb className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\tcolor={b.flashScript && !b.disableAutoFlash ? 'lime' : 'rose'}\n\t\t\t\t\t\t\t\t\ttitle=\"Automatic flashing\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{b.flashScript && !b.disableAutoFlash ? <Zap className=\"h-4 w-4\" /> : <ZapOff className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t<Badge color=\"gray\" size=\"sm\" className=\"text-base/5\">\n\t\t\t\t\t\t\t\t\t<MemoryStick className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t{b.driverCount}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t),\n\t\t\t\t\tright: (\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tsrc={boardImgUri}\n\t\t\t\t\t\t\t\tclassName=\"aspect-auto rounded-lg object-contain object-right\"\n\t\t\t\t\t\t\t\twidth={100}\n\t\t\t\t\t\t\t\theight={100}\n\t\t\t\t\t\t\t\talt={`${b.manufacturer} ${b.name}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t});\n\t}, [boardsQuery.isError, boardsQuery.data, toolhead, isToolboardRequired]);\n\n\tconst setSelectedBoard = useCallback(\n\t\t(newBoard: SelectableBoard | null) => {\n\t\t\tif (toolhead) {\n\t\t\t\tsetToolhead({\n\t\t\t\t\t...toolhead.getConfig(),\n\t\t\t\t\ttoolboard: newBoard == null ? null : Toolboard.parse(newBoard.board),\n\t\t\t\t});\n\t\t\t} else if (newBoard != null) {\n\t\t\t\t_setControlboard(Board.parse(newBoard.board));\n\t\t\t}\n\t\t},\n\t\t[_setControlboard, setToolhead, toolhead],\n\t);\n\n\tconst extraScreenProps: ExtraStepProps = {\n\t\tselectedControlboard,\n\t\tselectedToolboard,\n\t\tcards,\n\t\tsetSelectedBoard,\n\t\tselectedPrinter,\n\t\ttoolhead,\n\t};\n\tconst { currentStep, screenProps } = useSteps<ExtraStepProps>({\n\t\tsteps: MCUSteps,\n\t\tparentScreenProps: props,\n\t\textraScreenProps: extraScreenProps,\n\t});\n\n\treturn currentStep.renderScreen({\n\t\t...screenProps,\n\t\t...extraScreenProps,\n\t\tchildren: <QueryStatus {...boardsQuery} />,\n\t});\n};\n","'use client';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { RadioGroup } from '@headlessui/react';\nimport { twJoin, twMerge } from 'tailwind-merge';\nimport { badgeBackgroundColorStyle, badgeBorderColorStyle, badgeTextColorStyle } from '@/components/common/badge';\nimport { useAutoAnimate } from '@formkit/auto-animate/react';\n\nexport interface SelectableOption {\n\tname: string;\n\tid: string | number;\n}\n\nexport interface SelectableCardWithOptions<Option extends SelectableOption = SelectableOption> {\n\tid: string | number;\n\tname: string;\n\tright: JSX.Element | null;\n\tdetails: JSX.Element | string;\n\toptions?: Option[];\n}\n\nexport type SelectedCard<Selectable> = Selectable;\n\ninterface CardSelectorProps<\n\tOption extends SelectableOption = SelectableOption,\n\tSelectable extends SelectableCardWithOptions<Option> = SelectableCardWithOptions<Option>,\n> {\n\tcards: Selectable[];\n\tonSelect?: (card: SelectedCard<Selectable>, option: Option | null) => void;\n\tvalue?: SelectedCard<Selectable> | null;\n\toptionValue?: Option | null;\n}\n\nexport const CardSelectorWithOptions = <\n\tOption extends SelectableOption = SelectableOption,\n\tSelectable extends SelectableCardWithOptions<Option> = SelectableCardWithOptions<Option>,\n>(\n\tprops: CardSelectorProps<Option, Selectable>,\n) => {\n\tconst [selected, setSelected] = useState<SelectedCard<Selectable> | null>(null);\n\tconst [selectedOption, setSelectedOption] = useState<Option | null>(null);\n\tconst selectedRef = useRef({ selected, selectedOption });\n\tconst { onSelect: _onSelect } = props;\n\tconst [parent] = useAutoAnimate();\n\n\tconst onSelect = useCallback(\n\t\t(card: Selectable) => {\n\t\t\t// Do not select the same card twice, since onSelectOption might have been called first.\n\t\t\tif (selectedRef.current.selected !== card) {\n\t\t\t\tif (props.value === undefined) {\n\t\t\t\t\tsetSelected(card);\n\t\t\t\t\tif (props.optionValue === undefined) {\n\t\t\t\t\t\tsetSelectedOption(card.options?.[0] ?? null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tselectedRef.current.selected = card;\n\t\t\t\tselectedRef.current.selectedOption = card.options?.[0] ?? null;\n\t\t\t\t_onSelect?.(card, card.options?.[0] ?? null);\n\t\t\t}\n\t\t},\n\t\t[_onSelect, props.value, props.optionValue],\n\t);\n\n\tconst onSelectOption = useCallback(\n\t\t(card: Selectable, option: Option | null) => {\n\t\t\tif (props.value === undefined) {\n\t\t\t\tsetSelected(card);\n\t\t\t\tsetSelectedOption(option);\n\t\t\t}\n\t\t\tselectedRef.current.selected = card;\n\t\t\tselectedRef.current.selectedOption = option;\n\t\t\t_onSelect?.(card, option);\n\t\t},\n\t\t[_onSelect, props.value],\n\t);\n\n\tuseEffect(() => {\n\t\tif (props.value !== undefined && props.value !== selectedRef.current.selected) {\n\t\t\tsetSelected(props.value);\n\t\t}\n\t\tif (props.optionValue !== undefined && props.optionValue !== selectedRef.current.selectedOption) {\n\t\t\tsetSelectedOption(props.optionValue);\n\t\t}\n\t}, [props.value, props.optionValue]);\n\n\treturn (\n\t\t<RadioGroup value={selected} onChange={onSelect}>\n\t\t\t<div className=\"grid grid-cols-1 gap-4 xl:grid-cols-2\" ref={parent}>\n\t\t\t\t{props.cards.map((card, i) => (\n\t\t\t\t\t<RadioGroup.Option\n\t\t\t\t\t\tkey={card.id}\n\t\t\t\t\t\tvalue={card}\n\t\t\t\t\t\tclassName={({ checked, active }) =>\n\t\t\t\t\t\t\ttwJoin(\n\t\t\t\t\t\t\t\tchecked ? 'border-transparent' : 'border-zinc-300 dark:border-zinc-700',\n\t\t\t\t\t\t\t\t'relative flex cursor-pointer items-stretch rounded-lg border bg-white px-4 py-4 shadow-sm  focus:outline-none active:ring-0 dark:bg-zinc-800/70',\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ active, checked }) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-1 items-stretch justify-between gap-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-1 flex-col\">\n\t\t\t\t\t\t\t\t\t\t<RadioGroup.Label as=\"p\" className=\"text-sm font-bold text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t{card.name}\n\t\t\t\t\t\t\t\t\t\t</RadioGroup.Label>\n\t\t\t\t\t\t\t\t\t\t<RadioGroup.Description\n\t\t\t\t\t\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-1 flex-1 text-xs font-medium text-zinc-500 dark:text-zinc-400\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:inline\">{card.details}</div>\n\t\t\t\t\t\t\t\t\t\t</RadioGroup.Description>\n\t\t\t\t\t\t\t\t\t\t{card.options != null && (\n\t\t\t\t\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selected?.id === card.id ? selectedOption : null}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(option: Option) => onSelectOption(card, option)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 w-full\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroup.Label className=\"sr-only\"> Choose a size option </RadioGroup.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-1 2xl:grid-cols-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{card.options.map((option) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroup.Option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={option.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={({ active, checked }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttwMerge(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive || checked ? 'ring-2' : 'ring-1',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'flex items-center justify-center rounded-md px-3 py-3 text-sm font-semibold uppercase ring-inset sm:flex-1 xl:text-xs 2xl:text-sm',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeBackgroundColorStyle({ color: checked ? 'brand' : 'gray' }),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeBorderColorStyle({ color: active || checked ? 'brand' : 'gray' }),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeTextColorStyle({ color: active || checked ? 'brand' : 'gray' }),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive || checked ? '' : 'dark:hover:bg-zinc-400/30',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroup.Label as=\"span\">{option.name}</RadioGroup.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RadioGroup.Option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<RadioGroup.Description as=\"div\" className=\"flex-0 relative flex text-sm sm:block sm:text-right\">\n\t\t\t\t\t\t\t\t\t\t{card.right}\n\t\t\t\t\t\t\t\t\t</RadioGroup.Description>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\t\tchecked ? 'border-brand-600' : 'border-transparent',\n\t\t\t\t\t\t\t\t\t\t'pointer-events-none absolute -inset-px rounded-lg border-2',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</RadioGroup.Option>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</RadioGroup>\n\t);\n};\n","import { ErrorMessage } from '@/components/common/error-message';\nimport { Spinner } from '@/components/common/spinner';\nimport React from 'react';\nimport { AnimatedContainer } from '@/components/common/animated-container';\n\nexport const ShowWhenReady: React.FC<\n\tReact.PropsWithChildren<{ queryErrors: string[]; isReady: boolean; showErrors?: boolean }>\n> = (props) => {\n\tif (props.queryErrors.length > 0 && props.showErrors) {\n\t\treturn (\n\t\t\t<ErrorMessage className=\"mb-4\">\n\t\t\t\t{props.queryErrors.map((e) => (\n\t\t\t\t\t<div className=\"mt-2\" key={e}>\n\t\t\t\t\t\t{e}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</ErrorMessage>\n\t\t);\n\t}\n\tif (!props.isReady && props.queryErrors.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"flex min-h-12 flex-1 items-center justify-center\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\t}\n\treturn <AnimatedContainer>{props.children as React.ReactElement}</AnimatedContainer>;\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ShieldCheck = createLucideIcon(\"ShieldCheck\", [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","'use client';\nimport React, { useCallback, useRef, useState } from 'react';\nimport Image from 'next/image';\nimport { StepNavButtons } from '@/components/step-nav-buttons';\nimport { StepScreenProps } from '@/hooks/useSteps';\nimport {\n\tCardSelectorWithOptions,\n\tSelectableCardWithOptions,\n\tSelectableOption,\n\tSelectedCard,\n} from '@/components/card-selector-with-options';\nimport { trpc } from '@/helpers/trpc';\nimport { ShowWhenReady } from '@/components/common/show-when-ready';\nimport { useAutoAnimate } from '@formkit/auto-animate/react';\nimport { useRecoilValue, useRecoilCallback } from 'recoil';\nimport {\n\tPrinterSizeState,\n\tPrinterState,\n\tLoadablePrinterState,\n\tPrinterRailsState,\n\tControlboardState,\n} from '@/recoil/printer';\nimport { PrinterDefinitionWithResolvedToolheads } from '@/zods/printer';\nimport { PrinterToolheadState, PrinterToolheadsState } from '@/recoil/toolhead';\nimport { ToolheadHelper } from '@/helpers/toolhead';\nimport {\n\tControllerFanState,\n\tPerformanceModeState,\n\tStandstillStealthState,\n\tStealthchopState,\n} from '@/hooks/usePrinterConfiguration';\nimport { AnimatedContainer } from '@/components/common/animated-container';\nimport { getLogger } from '@/app/_helpers/logger';\nimport { Modal } from '@/components/common/modal';\nimport { Banner } from '@/components/common/banner';\nimport { ShieldCheck } from 'lucide-react';\n\ninterface SelectablePrinter<Option extends SelectableOption = SelectableOption>\n\textends SelectableCardWithOptions<Option> {\n\tprinter: PrinterDefinitionWithResolvedToolheads;\n}\n\nexport const PrinterSelection: React.FC<StepScreenProps> = (props) => {\n\tconst printerQuery = trpc.printer.printers.useQuery();\n\tconst boardQuery = trpc.mcu.boards.useQuery({});\n\tconst lastSavedSettingsQuery = trpc.printer.getSavedConfig.useQuery();\n\tconst selectedPrinter = useRecoilValue(LoadablePrinterState);\n\tconst selectedPrinterOption = useRecoilValue(PrinterSizeState);\n\n\tconst cards = printerQuery.data\n\t\t? (printerQuery.data\n\t\t\t\t.slice()\n\t\t\t\t.filter((p) => p.manufacturer === 'Rat Rig')\n\t\t\t\t.sort((a, b) => a.releaseDate?.localeCompare(b.name) ?? a.name.localeCompare(b.name))\n\t\t\t\t.map((p) => {\n\t\t\t\t\tconst printerImgUri = 'printerId=' + encodeURIComponent(p.id);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: p.id,\n\t\t\t\t\t\tname: `${p.manufacturer} ${p.name}`,\n\t\t\t\t\t\tdetails: p.description,\n\t\t\t\t\t\tprinter: p,\n\t\t\t\t\t\tright: (\n\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={'/configure/api/printer-image?' + printerImgUri}\n\t\t\t\t\t\t\t\t\tclassName=\"aspect-auto rounded-lg object-contain object-right\"\n\t\t\t\t\t\t\t\t\twidth={100}\n\t\t\t\t\t\t\t\t\theight={100}\n\t\t\t\t\t\t\t\t\talt={`${p.manufacturer} ${p.name}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t\toptions:\n\t\t\t\t\t\t\tObject.values(p.sizes).length > 1\n\t\t\t\t\t\t\t\t? Object.entries(p.sizes).map(([key, volume]) => ({ id: key, name: key + '', volume }))\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t};\n\t\t\t\t}) satisfies SelectablePrinter[])\n\t\t: [];\n\n\tconst unofficialPrinters = printerQuery.data\n\t\t? (printerQuery.data\n\t\t\t\t.slice()\n\t\t\t\t.filter((p) => p.manufacturer !== 'Rat Rig')\n\t\t\t\t.sort((a, b) => (a.manufacturer + a.name).localeCompare(b.manufacturer + b.name))\n\t\t\t\t.map((p) => {\n\t\t\t\t\tconst printerImgUri = 'printerId=' + encodeURIComponent(p.id);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: p.id,\n\t\t\t\t\t\tname: `${p.manufacturer} ${p.name}`,\n\t\t\t\t\t\tdetails: p.description,\n\t\t\t\t\t\tprinter: p,\n\t\t\t\t\t\tright: (\n\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={'/configure/api/printer-image?' + printerImgUri}\n\t\t\t\t\t\t\t\t\tclassName=\"aspect-auto rounded-lg object-contain object-right\"\n\t\t\t\t\t\t\t\t\twidth={100}\n\t\t\t\t\t\t\t\t\theight={100}\n\t\t\t\t\t\t\t\t\talt={`${p.manufacturer} ${p.name}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t\toptions:\n\t\t\t\t\t\t\tObject.values(p.sizes).length > 1\n\t\t\t\t\t\t\t\t? Object.entries(p.sizes).map(([key, volume]) => ({ id: key, name: key + '', volume }))\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t};\n\t\t\t\t}) satisfies SelectablePrinter[])\n\t\t: [];\n\n\tconst selectedCard =\n\t\tcards.find((c) => c.id === selectedPrinter?.id) ?? unofficialPrinters.find((c) => c.id === selectedPrinter?.id);\n\tconst selectedPrinterOptionFromCard = selectedCard?.options?.find((o) => {\n\t\tif (typeof selectedPrinterOption !== 'string' && typeof selectedPrinterOption !== 'number') {\n\t\t\treturn (\n\t\t\t\tselectedPrinterOption?.x === o.volume.x &&\n\t\t\t\tselectedPrinterOption?.y === o.volume.y &&\n\t\t\t\tselectedPrinterOption?.z === o.volume.z\n\t\t\t);\n\t\t}\n\t\treturn o.id === selectedPrinterOption;\n\t});\n\n\tconst onSelectPrinter = useRecoilCallback(\n\t\t({ set, reset, snapshot }) =>\n\t\t\tasync (card: SelectedCard<Unpacked<typeof cards>>, option: SelectableOption | null, merge: boolean) => {\n\t\t\t\tconst printer = card.printer;\n\t\t\t\tif (printer == null) {\n\t\t\t\t\tgetLogger().error(card, 'No printer found matching the criteria');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst oldPrinter = await snapshot.getPromise(PrinterState);\n\t\t\t\tif (oldPrinter?.id !== printer.id) {\n\t\t\t\t\tset(PrinterState, printer);\n\t\t\t\t}\n\t\t\t\tif (Object.values(printer.sizes).length > 1) {\n\t\t\t\t\tif (option == null || typeof option.id !== 'string') {\n\t\t\t\t\t\tthrow new Error('An option must be selected for printers that come in different size configurations');\n\t\t\t\t\t}\n\t\t\t\t\tset(PrinterSizeState, printer.sizes[option.id]);\n\t\t\t\t} else {\n\t\t\t\t\tset(PrinterSizeState, printer.sizes[Object.keys(printer.sizes)[0]]);\n\t\t\t\t}\n\t\t\t\tif (oldPrinter?.id === printer.id) {\n\t\t\t\t\t// Don't reset if the printer is the same\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst oldToolheads = await snapshot.getPromise(PrinterToolheadsState);\n\t\t\t\tif (!merge) {\n\t\t\t\t\toldToolheads.forEach((th) => {\n\t\t\t\t\t\treset(PrinterToolheadState(th.toolNumber));\n\t\t\t\t\t});\n\t\t\t\t\tset(\n\t\t\t\t\t\tPrinterToolheadsState,\n\t\t\t\t\t\tprinter.defaults.toolheads.map((th) => ({ ...th, toolNumber: new ToolheadHelper(th).getTool() })),\n\t\t\t\t\t);\n\t\t\t\t\treset(PerformanceModeState);\n\t\t\t\t\treset(StealthchopState);\n\t\t\t\t\treset(StandstillStealthState);\n\t\t\t\t\treset(ControllerFanState);\n\t\t\t\t\treset(PrinterRailsState);\n\t\t\t\t\tconst defaultBoard = boardQuery.data?.find((b) => b.id === printer.defaults.board);\n\t\t\t\t\tif (defaultBoard != null) {\n\t\t\t\t\t\tset(ControlboardState, defaultBoard);\n\t\t\t\t\t}\n\t\t\t\t\tif (printer.defaults.controllerFan) {\n\t\t\t\t\t\tset(ControllerFanState, { id: printer.defaults.controllerFan, title: printer.defaults.controllerFan });\n\t\t\t\t\t} else {\n\t\t\t\t\t\treset(ControllerFanState);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oldToolheads.length > printer.defaults.toolheads.length) {\n\t\t\t\t\t\toldToolheads.slice(printer.defaults.toolheads.length).forEach((th) => {\n\t\t\t\t\t\t\treset(PrinterToolheadState(th.toolNumber));\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (oldToolheads.length < printer.defaults.toolheads.length) {\n\t\t\t\t\t\tprinter.defaults.toolheads.slice(oldToolheads.length).forEach((th) => {\n\t\t\t\t\t\t\tconst toolNumber = new ToolheadHelper(th).getTool();\n\t\t\t\t\t\t\tset(PrinterToolheadState(toolNumber), { ...oldToolheads[0], toolNumber });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t[printerQuery.data],\n\t);\n\n\tconst pendingSelection = useRef<{\n\t\tcard: SelectedCard<Unpacked<typeof cards>>;\n\t\toption: SelectableOption | null;\n\t} | null>(null);\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\n\tconst beforeSelectPrinter = useCallback(\n\t\t(card: SelectedCard<Unpacked<typeof cards>>, option: SelectableOption | null) => {\n\t\t\tif (selectedPrinter == null) {\n\t\t\t\tonSelectPrinter(card, option, false);\n\t\t\t\tsetIsModalVisible(false);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst printer = card.printer;\n\t\t\tif (printer == null) {\n\t\t\t\tgetLogger().error(card, 'No printer found matching the criteria');\n\t\t\t\tsetIsModalVisible(false);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (selectedPrinter.id === printer.id) {\n\t\t\t\tif (selectedPrinterOption === option) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonSelectPrinter(card, option, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpendingSelection.current = { card, option };\n\t\t\tsetIsModalVisible(true);\n\t\t},\n\t\t[onSelectPrinter, selectedPrinter, selectedPrinterOption],\n\t);\n\n\tconst errors = printerQuery.error ? [printerQuery.error?.message] : [];\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Select your printer</h3>\n\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\tThis will determine the template used for printer.cfg\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<ShowWhenReady isReady={printerQuery.isFetched} queryErrors={errors}>\n\t\t\t\t\t<h3 className=\"font-display font-bold tracking-tight text-zinc-300\">Official Support</h3>\n\t\t\t\t\t<p className=\"mb-4 max-w-4xl text-sm font-medium text-zinc-500 dark:text-zinc-500\">\n\t\t\t\t\t\tThese printers are officially supported by Rat Rig and the RatOS team.\n\t\t\t\t\t</p>\n\t\t\t\t\t<CardSelectorWithOptions\n\t\t\t\t\t\tcards={cards}\n\t\t\t\t\t\tonSelect={beforeSelectPrinter}\n\t\t\t\t\t\tvalue={selectedCard}\n\t\t\t\t\t\toptionValue={selectedPrinterOptionFromCard}\n\t\t\t\t\t/>\n\t\t\t\t\t<h3 className=\"font-display mt-8 font-bold tracking-tight text-zinc-300\">Community Support</h3>\n\t\t\t\t\t<p className=\"mb-4 max-w-4xl text-sm font-medium text-zinc-500 dark:text-zinc-500\">\n\t\t\t\t\t\tThese printers are supported through community contributions and may not be as well tested.\n\t\t\t\t\t</p>\n\t\t\t\t\t<CardSelectorWithOptions\n\t\t\t\t\t\tcards={unofficialPrinters}\n\t\t\t\t\t\tonSelect={beforeSelectPrinter}\n\t\t\t\t\t\tvalue={selectedCard}\n\t\t\t\t\t\toptionValue={selectedPrinterOptionFromCard}\n\t\t\t\t\t/>\n\t\t\t\t</ShowWhenReady>\n\t\t\t</div>\n\t\t\t{isModalVisible && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"How do you want to proceed?\"\n\t\t\t\t\tbuttonLabel={`Reuse configuration`}\n\t\t\t\t\tsecondButtonLabel=\"Start fresh\"\n\t\t\t\t\tonClickSecondButton={() =>\n\t\t\t\t\t\tonSelectPrinter(pendingSelection.current!.card, pendingSelection.current!.option, false)\n\t\t\t\t\t}\n\t\t\t\t\tonClick={() => onSelectPrinter(pendingSelection.current!.card, pendingSelection.current!.option, true)}\n\t\t\t\t\tbody={`You already configured a printer, do you want to reuse your existing hardware configuration or start fresh from the ${pendingSelection.current?.card.printer.name} defaults?`}\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<AnimatedContainer>\n\t\t\t\t\t\t\t{lastSavedSettingsQuery.data && (\n\t\t\t\t\t\t\t\t<Banner color=\"sky\" Icon={ShieldCheck} title=\"Your klipper configuration is safe!\">\n\t\t\t\t\t\t\t\t\tYour existing klipper configuration will be safe until you explicitly save a new hardware\n\t\t\t\t\t\t\t\t\tconfiguration at the end of the wizard.\n\t\t\t\t\t\t\t\t</Banner>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</AnimatedContainer>\n\t\t\t\t\t}\n\t\t\t\t\tonClose={() =>\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetIsModalVisible(false);\n\t\t\t\t\t\t\tpendingSelection.current = null;\n\t\t\t\t\t\t}, 500)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<StepNavButtons\n\t\t\t\tleft={{ onClick: props.previousScreen }}\n\t\t\t\tright={{\n\t\t\t\t\tonClick: props.nextScreen,\n\t\t\t\t\tdisabled: selectedPrinter == null,\n\t\t\t\t\ttitle: selectedPrinter == null ? 'You have to select a printer' : undefined,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SignalZero = createLucideIcon(\"SignalZero\", [[\"path\", { d: \"M2 20h.01\", key: \"4haj6o\" }]]);\n\nexport { SignalZero as default };\n//# sourceMappingURL=signal-zero.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SignalLow = createLucideIcon(\"SignalLow\", [\n  [\"path\", { d: \"M2 20h.01\", key: \"4haj6o\" }],\n  [\"path\", { d: \"M7 20v-4\", key: \"j294jx\" }]\n]);\n\nexport { SignalLow as default };\n//# sourceMappingURL=signal-low.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SignalMedium = createLucideIcon(\"SignalMedium\", [\n  [\"path\", { d: \"M2 20h.01\", key: \"4haj6o\" }],\n  [\"path\", { d: \"M7 20v-4\", key: \"j294jx\" }],\n  [\"path\", { d: \"M12 20v-8\", key: \"i3yub9\" }]\n]);\n\nexport { SignalMedium as default };\n//# sourceMappingURL=signal-medium.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SignalHigh = createLucideIcon(\"SignalHigh\", [\n  [\"path\", { d: \"M2 20h.01\", key: \"4haj6o\" }],\n  [\"path\", { d: \"M7 20v-4\", key: \"j294jx\" }],\n  [\"path\", { d: \"M12 20v-8\", key: \"i3yub9\" }],\n  [\"path\", { d: \"M17 20V8\", key: \"1tkaf5\" }]\n]);\n\nexport { SignalHigh as default };\n//# sourceMappingURL=signal-high.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Signal = createLucideIcon(\"Signal\", [\n  [\"path\", { d: \"M2 20h.01\", key: \"4haj6o\" }],\n  [\"path\", { d: \"M7 20v-4\", key: \"j294jx\" }],\n  [\"path\", { d: \"M12 20v-8\", key: \"i3yub9\" }],\n  [\"path\", { d: \"M17 20V8\", key: \"1tkaf5\" }],\n  [\"path\", { d: \"M22 4v16\", key: \"sih9yq\" }]\n]);\n\nexport { Signal as default };\n//# sourceMappingURL=signal.js.map\n","import { Signal, SignalHigh, SignalLow, SignalMedium, SignalZero } from 'lucide-react';\nimport { twMerge } from 'tailwind-merge';\n\nexport const parseSignal = (dBm: number) => {\n\tif (dBm >= -40) {\n\t\treturn <span className=\"font-semibold text-green-700\">Excellent</span>;\n\t}\n\tif (dBm >= -67) {\n\t\treturn <span className=\"font-semibold text-lime-600\">Very good</span>;\n\t}\n\tif (dBm >= -70) {\n\t\treturn <span className=\"font-semibold text-yellow-600\">Okay</span>;\n\t}\n\tif (dBm >= -80) {\n\t\treturn <span className=\"font-semibold text-orange-500\">Not good</span>;\n\t}\n\tif (dBm >= -100) {\n\t\treturn <span className=\"font-semibold text-red-600\">Unusable</span>;\n\t}\n};\n\nexport const signalIcon = (dBm: number, className?: string) => {\n\tlet icon = <></>;\n\tif (dBm >= -100) {\n\t\ticon = <SignalZero className=\"absolute inset-0 h-full w-full text-red-600\" />;\n\t}\n\tif (dBm >= -80) {\n\t\ticon = <SignalLow className=\"absolute inset-0 h-full w-full text-orange-500\" />;\n\t}\n\tif (dBm >= -70) {\n\t\ticon = <SignalMedium className=\"absolute inset-0 h-full w-full text-yellow-600\" />;\n\t}\n\tif (dBm >= -67) {\n\t\ticon = <SignalHigh className=\"absolute inset-0 h-full w-full text-lime-600\" />;\n\t}\n\tif (dBm >= -40) {\n\t\ticon = <Signal className=\"absolute inset-0 h-full w-full text-green-700\" />;\n\t}\n\treturn (\n\t\t<div className={twMerge('relative inline-block h-8 w-8', className)}>\n\t\t\t<Signal className=\"absolute inset-0 h-full w-full text-zinc-700\" />\n\t\t\t{icon}\n\t\t</div>\n\t);\n};\n","import { z } from 'zod';\n\nexport const hostnameInput = z.object({\n\thostname: z\n\t\t.string()\n\t\t.min(2)\n\t\t.regex(/^([a-zA-Z0-9]|-)+$/, 'Hostname can only include a-Z, 0-9 and dashes.'),\n});\n\nexport const joinInput = z.object({\n\tssid: z.string().min(1).max(32),\n\tpassphrase: z.string().min(8).max(63),\n\tfrequencies: z.string(),\n\tcountry: z.string().optional(),\n\thidden: z.boolean().optional(),\n});\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EyeOff = createLucideIcon(\"EyeOff\", [\n  [\"path\", { d: \"M9.88 9.88a3 3 0 1 0 4.24 4.24\", key: \"1jxqfv\" }],\n  [\n    \"path\",\n    {\n      d: \"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68\",\n      key: \"9wicm4\"\n    }\n  ],\n  [\n    \"path\",\n    { d: \"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61\", key: \"1jreej\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }]\n]);\n\nexport { EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\"path\", { d: \"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\", key: \"rwhkz3\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","'use client';\nimport React, { Fragment, useCallback, useEffect, useMemo, useState } from 'react';\nimport { CardSelector, SelectableCard } from '@/components/card-selector';\nimport { Spinner } from '@/components/common/spinner';\nimport { ErrorMessage } from '@/components/common/error-message';\nimport { WifiIcon } from '@heroicons/react/24/solid';\nimport { TextInput } from '@/components/forms/text-input';\nimport { StepNavButton, StepNavButtons } from '@/components/step-nav-buttons';\nimport type { Network } from '@/server/helpers/iw';\nimport { Modal } from '@/components/common/modal';\nimport { parseSignal, signalIcon } from '@/helpers/wifi';\nimport { StepScreenProps } from '@/hooks/useSteps';\nimport { trpc } from '@/helpers/trpc';\nimport { hostnameInput, joinInput } from '@/helpers/validators/wifi';\nimport { Button } from '@/components/common/button';\nimport { Eye, EyeOff } from 'lucide-react';\nimport { InfoMessage } from '@/components/common/info-message';\nimport { MutationStatus } from '@/components/common/mutation-status';\n\ninterface APList {\n\t[id: string]: Network;\n}\n\ninterface SelectableNetwork extends SelectableCard {\n\tid: string;\n}\n\nexport const WifiSetup: React.FC<StepScreenProps> = (props) => {\n\tconst timeoutRef = React.useRef<number | null>(null);\n\tconst [isScanning, setIsScanning] = useState(true);\n\tconst [apList, setApList] = useState<APList>({});\n\tconst [selectedNetwork, setSelectedNetwork] = useState<null | Network>(null);\n\tconst [password, setPassword] = useState('');\n\tconst [hostname, setHostname] = useState('RatOS');\n\tconst [hostnameCompleted, setHostnameCompleted] = useState(false);\n\tconst [showHidden, setShowHidden] = useState(false);\n\tconst [overrideSSID, setOverrideSSID] = useState<string | null>(null);\n\n\tconst { isError, error, data } = trpc.wifi.scan.useQuery(\n\t\t{ showHidden },\n\t\t{\n\t\t\trefetchInterval: (data, query) => {\n\t\t\t\tif (query.state.error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn 1000;\n\t\t\t},\n\t\t\tretry: false,\n\t\t\tenabled: isScanning && selectedNetwork == null,\n\t\t},\n\t);\n\tconst hostnameMutation = trpc.wifi.hostname.useMutation();\n\tconst wifiMutation = trpc.wifi.join.useMutation();\n\n\tuseEffect(() => {\n\t\t// Cleanup\n\t\treturn () => {\n\t\t\tif (timeoutRef.current != null) clearTimeout(timeoutRef.current);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetApList((apList) => {\n\t\t\tconst newList = {\n\t\t\t\t...apList,\n\t\t\t};\n\t\t\tdata?.forEach((ap) => {\n\t\t\t\tnewList[ap.address] = ap;\n\t\t\t});\n\t\t\treturn newList;\n\t\t});\n\t}, [data]);\n\n\t// Find all frequencies for SSID that are near the selected one.\n\tconst frequencies = useMemo(\n\t\t() =>\n\t\t\tObject.values(apList)\n\t\t\t\t.filter(\n\t\t\t\t\t(ap) =>\n\t\t\t\t\t\tselectedNetwork != null &&\n\t\t\t\t\t\tap.ssid === selectedNetwork.ssid &&\n\t\t\t\t\t\tMath.abs(ap.frequency - selectedNetwork?.frequency) < 1000,\n\t\t\t\t)\n\t\t\t\t.map((ap) => ap.frequency)\n\t\t\t\t.join(' '),\n\t\t[apList, selectedNetwork],\n\t);\n\tconst hostnameValidation = hostnameInput.safeParse({ hostname });\n\tconst passwordValidation = joinInput.safeParse({\n\t\tpassphrase: password,\n\t\tssid: selectedNetwork?.ssid ?? overrideSSID,\n\t\tcountry: selectedNetwork?.country,\n\t\tfrequencies,\n\t\thidden: selectedNetwork?.ssid == null,\n\t});\n\n\tconst cards: SelectableNetwork[] = useMemo(() => {\n\t\tif (isError) return [];\n\t\treturn Object.keys(apList)\n\t\t\t.filter((ap) => apList[ap].ssid != null || showHidden)\n\t\t\t.map((ap) => ({\n\t\t\t\tname: apList[ap].ssid?.trim() == '' ? 'Hidden SSID' : apList[ap].ssid ?? 'Hidden SSID',\n\t\t\t\tid: ap,\n\t\t\t\tdetails: (\n\t\t\t\t\t<div className=\"gap-4 md:grid md:grid-cols-2\">\n\t\t\t\t\t\t<div className=\"md:col-span-1 2xl:flex 2xl:flex-col\">\n\t\t\t\t\t\t\t<span className=\"font-semibold\">Signal Strength:</span>{' '}\n\t\t\t\t\t\t\t<span className=\"whitespace-nowrap font-medium\">{parseSignal(apList[ap].signal)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"md:col-span-1 2xl:flex 2xl:flex-col\">\n\t\t\t\t\t\t\t<span className=\"font-semibold\">Frequency:</span>{' '}\n\t\t\t\t\t\t\t<span className=\"whitespace-nowrap font-medium text-zinc-300\">\n\t\t\t\t\t\t\t\t{Math.round(apList[ap].frequency / 100) / 10}GHz\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\tright: signalIcon(apList[ap].signal),\n\t\t\t}))\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (apList[a.id].signal > apList[b.id].signal) return -1;\n\t\t\t\tif (apList[a.id].signal < apList[b.id].signal) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t}, [isError, apList, showHidden]);\n\n\tconst onSelectCard = useCallback(\n\t\t(card: SelectableNetwork) => {\n\t\t\tsetSelectedNetwork(apList[card.id]);\n\t\t},\n\t\t[apList],\n\t);\n\n\tconst connectToWifi = useCallback(() => {\n\t\tif (selectedNetwork == null) {\n\t\t\tthrow new Error('Cannot join wifi without selecting a network');\n\t\t}\n\n\t\tif (passwordValidation.success) {\n\t\t\twifiMutation.mutate(passwordValidation.data);\n\t\t}\n\t}, [passwordValidation, selectedNetwork, wifiMutation]);\n\n\tconst rebootMutation = trpc.reboot.useMutation();\n\n\tconst rebootAndClose = useCallback(async () => {\n\t\tawait rebootMutation.mutateAsync();\n\t\twindow.close();\n\t}, [rebootMutation]);\n\n\tconst confirmHostname = useCallback(async () => {\n\t\tawait hostnameMutation.mutateAsync({ hostname });\n\t\tsetHostnameCompleted(true);\n\t}, [hostnameMutation, hostname]);\n\n\tconst content =\n\t\tselectedNetwork &&\n\t\twifiMutation.isSuccess &&\n\t\thostnameCompleted &&\n\t\t!rebootMutation.isSuccess &&\n\t\t!rebootMutation.isError ? (\n\t\t\t<Modal\n\t\t\t\ttitle=\"Settings saved!\"\n\t\t\t\tbody={`RatOS is now setup to connect to ${selectedNetwork.ssid}! Your raspberry pi will now reboot, and join your local wifi network. Click the button below to reboot the pi and close this window. You can then reconnect to your local network where http://${hostname}.local/ should be available in a few minutes. If RatOS fails to join ${selectedNetwork.ssid}, it will recreate the \"ratos\" hotspot and you'll have to try again.`}\n\t\t\t\tbuttonLabel=\"Got it!\"\n\t\t\t\tonClick={rebootAndClose}\n\t\t\t/>\n\t\t) : rebootMutation.isError ? (\n\t\t\t<div className=\"mb-4 h-48\">\n\t\t\t\t<ErrorMessage>{rebootMutation.error.message}</ErrorMessage>\n\t\t\t</div>\n\t\t) : rebootMutation.isLoading || rebootMutation.isSuccess ? (\n\t\t\t<div className=\"mb-4 h-48\">\n\t\t\t\t<div className=\"mb-4 flex items-center justify-center font-bold text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\tRebooting...\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mb-4 flex items-center justify-center  text-zinc-600 dark:text-zinc-400\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\tPlease reconnect to {selectedNetwork?.ssid ?? 'your local network'} and visit{' '}\n\t\t\t\t\t\t<a href={`http://${hostname}.local/configure?step=1`} className=\"text-brand-600 dark:text-brand-400\">\n\t\t\t\t\t\t\thttp://{hostname}.local/configure?step=1\n\t\t\t\t\t\t</a>{' '}\n\t\t\t\t\t\tin a few minutes.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t) : selectedNetwork && wifiMutation.isSuccess ? (\n\t\t\t<TextInput\n\t\t\t\tlabel=\"Printer hostname\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tkey=\"hostname\"\n\t\t\t\tvalue={hostname}\n\t\t\t\terror={\n\t\t\t\t\thostnameMutation.isError\n\t\t\t\t\t\t? hostnameMutation.error.message\n\t\t\t\t\t\t: hostnameValidation.success\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: hostnameValidation.error.issues[0].message\n\t\t\t\t}\n\t\t\t\tonChange={(val) => setHostname(val as string)}\n\t\t\t\thelp='Only use characters from a-Z and dashes. For example, entering \"RatOS\" will make your printer available at http://RatOS.local/'\n\t\t\t/>\n\t\t) : selectedNetwork ? (\n\t\t\t<div className=\"grid gap-4\">\n\t\t\t\t{selectedNetwork.ssid == null ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<InfoMessage title=\"Hidden SSID\">\n\t\t\t\t\t\t\tYou have selected a hidden SSID. Please enter the SSID and password manually.\n\t\t\t\t\t\t</InfoMessage>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"mb-4 inline-flex gap-4 rounded-md border-2 border-brand-400/45 bg-brand-400/5 p-4\">\n\t\t\t\t\t\t\t<div className=\"\">{signalIcon(selectedNetwork.signal, 'h-12 w-12')}</div>\n\t\t\t\t\t\t\t<div className=\"flex flex-col gap-2 text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t{selectedNetwork.ssid}\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t{selectedNetwork.country} - {Math.round(selectedNetwork.frequency / 100) / 10}GHz\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{selectedNetwork.ssid == null ||\n\t\t\t\t\t(selectedNetwork.ssid.trim() === '' && (\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tlabel=\"SSID\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tkey=\"ssid\"\n\t\t\t\t\t\t\tvalue={overrideSSID ?? ''}\n\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\twifiMutation.isError\n\t\t\t\t\t\t\t\t\t? wifiMutation.error.message\n\t\t\t\t\t\t\t\t\t: passwordValidation.success\n\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t: passwordValidation.error.formErrors.fieldErrors.ssid?.join('\\n')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={setOverrideSSID}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t<TextInput\n\t\t\t\t\tlabel={selectedNetwork.security.toLocaleUpperCase() + ' Password'}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tkey=\"password\"\n\t\t\t\t\tvalue={password}\n\t\t\t\t\terror={\n\t\t\t\t\t\twifiMutation.isError\n\t\t\t\t\t\t\t? wifiMutation.error.message\n\t\t\t\t\t\t\t: passwordValidation.success\n\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t: passwordValidation.error.formErrors.fieldErrors.passphrase?.join('\\n')\n\t\t\t\t\t}\n\t\t\t\t\tonChange={(val) => setPassword(val + '')}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t) : isError ? (\n\t\t\t<div className=\"mb-4 h-48\">\n\t\t\t\t<ErrorMessage title=\"Unable to scan for wifi access points\">{error?.message}</ErrorMessage>\n\t\t\t</div>\n\t\t) : Object.keys(apList).length === 0 || !isScanning ? (\n\t\t\t<div className=\"mb-4 flex h-48 items-center justify-center\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t) : (\n\t\t\t<CardSelector<SelectableNetwork> cards={cards} onSelect={onSelectCard} />\n\t\t);\n\n\tlet rightButton: StepNavButton = {\n\t\tonClick: props.nextScreen,\n\t\tlabel: 'Skip',\n\t};\n\tlet leftButton: StepNavButton = {\n\t\tonClick: props.previousScreen,\n\t};\n\n\tlet subtext = 'Pick an access point to join';\n\n\tif (selectedNetwork) {\n\t\trightButton = {\n\t\t\tlabel: 'Submit',\n\t\t\tdisabled: !passwordValidation.success || wifiMutation.isLoading,\n\t\t\tisLoading: wifiMutation.isLoading,\n\t\t\ttitle: !passwordValidation.success\n\t\t\t\t? passwordValidation.error.errors\n\t\t\t\t\t\t.map((e) => (['ssid', 'password'].includes(e.path.pop() + '') ? null : `${e.path}: ${e.message}`))\n\t\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t\t.join('\\n')\n\t\t\t\t: undefined,\n\t\t\tonClick: connectToWifi,\n\t\t};\n\t\tleftButton = {\n\t\t\tonClick: () => setSelectedNetwork(null),\n\t\t\tlabel: 'Back',\n\t\t\tdisabled: wifiMutation.isLoading,\n\t\t};\n\t\tsubtext = 'Enter password for ' + selectedNetwork.ssid;\n\t\tif (wifiMutation.isSuccess) {\n\t\t\trightButton = {\n\t\t\t\tlabel: 'Save and Connect',\n\t\t\t\tdisabled: !hostnameValidation.success || hostnameMutation.isLoading,\n\t\t\t\tonClick: confirmHostname,\n\t\t\t};\n\t\t\tleftButton = {\n\t\t\t\tonClick: () => wifiMutation.reset(),\n\t\t\t\tlabel: 'Back',\n\t\t\t\tdisabled: wifiMutation.isLoading,\n\t\t\t};\n\t\t\tsubtext = 'Enter the hostname you want to use for the printer';\n\t\t\tif (hostnameCompleted) {\n\t\t\t\trightButton = {\n\t\t\t\t\tonClick: props.nextScreen,\n\t\t\t\t};\n\t\t\t\tleftButton = {};\n\t\t\t\tsubtext = 'Proceed to next step';\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t<div className=\"mb-5 flex border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Configure Wifi Setup</h3>\n\t\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">{subtext}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{selectedNetwork == null && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"indeterminate\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t// Disable fetching\n\t\t\t\t\t\t\t\t\tsetIsScanning(false);\n\t\t\t\t\t\t\t\t\tsetShowHidden((org) => !org);\n\t\t\t\t\t\t\t\t\t// wait for current scans to complete\n\t\t\t\t\t\t\t\t\tif (timeoutRef.current != null) clearTimeout(timeoutRef.current);\n\t\t\t\t\t\t\t\t\ttimeoutRef.current = window.setTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tsetApList({});\n\t\t\t\t\t\t\t\t\t\tsetIsScanning(true);\n\t\t\t\t\t\t\t\t\t\ttimeoutRef.current = null;\n\t\t\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{showHidden ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}{' '}\n\t\t\t\t\t\t\t\t{showHidden ? 'Hide Hidden SSIDs' : 'Show Hidden SSIDs'}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<MutationStatus {...wifiMutation} />\n\t\t\t\t<MutationStatus {...hostnameMutation} />\n\t\t\t\t{content}\n\t\t\t</div>\n\t\t\t<StepNavButtons right={rightButton} left={leftButton} />\n\t\t</Fragment>\n\t);\n};\n","import g,{Fragment as U,createContext as I,useContext as C,useEffect as w,useMemo as E,useReducer as j,useRef as R}from\"react\";import{match as L}from'../../utils/match.js';import{forwardRefWithAs as O,render as k,Features as F}from'../../utils/render.js';import{optionalRef as N,useSyncRefs as M}from'../../hooks/use-sync-refs.js';import{useId as _}from'../../hooks/use-id.js';import{Keys as m}from'../keyboard.js';import{isDisabledReactIssue7711 as G}from'../../utils/bugs.js';import{OpenClosedProvider as W,State as x,useOpenClosed as $}from'../../internal/open-closed.js';import{useResolveButtonType as q}from'../../hooks/use-resolve-button-type.js';import{getOwnerDocument as z}from'../../utils/owner.js';import{useEvent as b}from'../../hooks/use-event.js';var J=(l=>(l[l.Open=0]=\"Open\",l[l.Closed=1]=\"Closed\",l))(J||{}),Q=(t=>(t[t.ToggleDisclosure=0]=\"ToggleDisclosure\",t[t.CloseDisclosure=1]=\"CloseDisclosure\",t[t.SetButtonId=2]=\"SetButtonId\",t[t.SetPanelId=3]=\"SetPanelId\",t[t.LinkPanel=4]=\"LinkPanel\",t[t.UnlinkPanel=5]=\"UnlinkPanel\",t))(Q||{});let V={[0]:e=>({...e,disclosureState:L(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[4](e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},[5](e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},[2](e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},[3](e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},B=I(null);B.displayName=\"DisclosureContext\";function v(e){let n=C(B);if(n===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,v),l}return n}let h=I(null);h.displayName=\"DisclosureAPIContext\";function K(e){let n=C(h);if(n===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,K),l}return n}let H=I(null);H.displayName=\"DisclosurePanelContext\";function X(){return C(H)}function Y(e,n){return L(n.type,V,e,n)}let Z=U,ee=O(function(n,l){let{defaultOpen:y=!1,...u}=n,T=R(null),t=M(l,N(a=>{T.current=a},n.as===void 0||n.as===U)),o=R(null),f=R(null),s=j(Y,{disclosureState:y?0:1,linkedPanel:!1,buttonRef:f,panelRef:o,buttonId:null,panelId:null}),[{disclosureState:i,buttonId:p},D]=s,d=b(a=>{D({type:1});let r=z(T);if(!r||!p)return;let c=(()=>a?a instanceof HTMLElement?a:a.current instanceof HTMLElement?a.current:r.getElementById(p):r.getElementById(p))();c==null||c.focus()}),P=E(()=>({close:d}),[d]),A=E(()=>({open:i===0,close:d}),[i,d]),S={ref:t};return g.createElement(B.Provider,{value:s},g.createElement(h.Provider,{value:P},g.createElement(W,{value:L(i,{[0]:x.Open,[1]:x.Closed})},k({ourProps:S,theirProps:u,slot:A,defaultTag:Z,name:\"Disclosure\"}))))}),te=\"button\",ne=O(function(n,l){let y=_(),{id:u=`headlessui-disclosure-button-${y}`,...T}=n,[t,o]=v(\"Disclosure.Button\"),f=X(),s=f===null?!1:f===t.panelId,i=R(null),p=M(i,l,s?null:t.buttonRef);w(()=>{if(!s)return o({type:2,buttonId:u}),()=>{o({type:2,buttonId:null})}},[u,o,s]);let D=b(r=>{var c;if(s){if(t.disclosureState===1)return;switch(r.key){case m.Space:case m.Enter:r.preventDefault(),r.stopPropagation(),o({type:0}),(c=t.buttonRef.current)==null||c.focus();break}}else switch(r.key){case m.Space:case m.Enter:r.preventDefault(),r.stopPropagation(),o({type:0});break}}),d=b(r=>{switch(r.key){case m.Space:r.preventDefault();break}}),P=b(r=>{var c;G(r.currentTarget)||n.disabled||(s?(o({type:0}),(c=t.buttonRef.current)==null||c.focus()):o({type:0}))}),A=E(()=>({open:t.disclosureState===0}),[t]),S=q(n,i),a=s?{ref:p,type:S,onKeyDown:D,onClick:P}:{ref:p,id:u,type:S,\"aria-expanded\":n.disabled?void 0:t.disclosureState===0,\"aria-controls\":t.linkedPanel?t.panelId:void 0,onKeyDown:D,onKeyUp:d,onClick:P};return k({ourProps:a,theirProps:T,slot:A,defaultTag:te,name:\"Disclosure.Button\"})}),le=\"div\",re=F.RenderStrategy|F.Static,oe=O(function(n,l){let y=_(),{id:u=`headlessui-disclosure-panel-${y}`,...T}=n,[t,o]=v(\"Disclosure.Panel\"),{close:f}=K(\"Disclosure.Panel\"),s=M(l,t.panelRef,P=>{o({type:P?4:5})});w(()=>(o({type:3,panelId:u}),()=>{o({type:3,panelId:null})}),[u,o]);let i=$(),p=(()=>i!==null?i===x.Open:t.disclosureState===0)(),D=E(()=>({open:t.disclosureState===0,close:f}),[t,f]),d={ref:s,id:u};return g.createElement(H.Provider,{value:t.panelId},k({ourProps:d,theirProps:T,slot:D,defaultTag:le,features:re,visible:p,name:\"Disclosure.Panel\"}))}),Le=Object.assign(ee,{Button:ne,Panel:oe});export{Le as Disclosure};\n","'use client';\nimport React, { Fragment, useCallback, useMemo, useState } from 'react';\nimport {\n\tPrinterConfigurationState,\n\tserializePartialPrinterConfiguration,\n\tserializePrinterConfiguration,\n\tusePrinterConfiguration,\n} from '@/hooks/usePrinterConfiguration';\nimport { StepScreen, StepScreenProps, useSteps } from '@/hooks/useSteps';\nimport { StepNavButtons } from '@/components/step-nav-buttons';\nimport { ErrorMessage } from '@/components/common/error-message';\nimport { trpc } from '@/helpers/trpc';\nimport { Badge } from '@/components/common/badge';\nimport { InfoMessage } from '@/components/common/info-message';\nimport { WarningMessage } from '@/components/warning-message';\nimport { Button } from '@/components/common/button';\nimport { useRecoilCallback } from 'recoil';\nimport { xEndstopOptions } from '@/data/endstops';\nimport { PrinterConfiguration } from '@/zods/printer-configuration';\nimport { PrinterAxis } from '@/zods/motion';\nimport { ToolOrAxis } from '@/zods/toolhead';\nimport { useToolheadConfiguration } from '@/hooks/useToolheadConfiguration';\nimport { Spinner } from '@/components/common/spinner';\nimport { useQuery } from '@tanstack/react-query';\nimport { FileChanges } from '@/components/setup-steps/file-changes';\nimport { Disclosure } from '@headlessui/react';\nimport { ChevronRightIcon } from '@heroicons/react/20/solid';\nimport { twJoin } from 'tailwind-merge';\nimport { AnimatedContainer } from '@/components/common/animated-container';\n\nconst CompletionSteps: StepScreen[] = [\n\t{\n\t\tid: '01',\n\t\tname: 'Confirm configuration',\n\t\tdescription: 'Confirm your printer configuration',\n\t\thref: '#',\n\t\trenderScreen: (screenProps) => <ConfirmConfig {...screenProps} key={screenProps.key} />,\n\t},\n\t{\n\t\tid: '02',\n\t\tname: 'Setup complete',\n\t\tdescription: \"You've completed the initial setup, congratulations!\",\n\t\thref: '#',\n\t\trenderScreen: (screenProps) => <ProceedToMainsail {...screenProps} key={screenProps.key} />,\n\t},\n];\n\ninterface ConfirmToolheadProps {\n\ttoolOrAxis: ToolOrAxis;\n}\n\nexport const ConfirmToolhead: React.FC<ConfirmToolheadProps> = (props) => {\n\tconst { toolhead, setToolhead } = useToolheadConfiguration(props.toolOrAxis);\n\tconst toolboardDetected = trpc.mcu.detect.useQuery(\n\t\t{ boardPath: toolhead.getToolboard()?.path ?? '', toolhead: toolhead.serialize() },\n\t\t{\n\t\t\tenabled: toolhead.getToolboard() != null,\n\t\t},\n\t);\n\tconst [ignoreEndstopWarning, setIgnoreEndstopWarning] = useState(false);\n\tconst setToolboardEndstop = useRecoilCallback(\n\t\t({ snapshot, set }) =>\n\t\t\tasync () => {\n\t\t\t\tconst printerConfig = await snapshot.getPromise(PrinterConfigurationState);\n\t\t\t\tif (printerConfig == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst toolboardEndstop = xEndstopOptions(printerConfig, toolhead.getConfig()).find(\n\t\t\t\t\t(x) => x.id === 'endstop-toolboard',\n\t\t\t\t);\n\t\t\t\tif (toolboardEndstop != null && toolhead != null) {\n\t\t\t\t\tsetToolhead({\n\t\t\t\t\t\t...toolhead.getConfig(),\n\t\t\t\t\t\txEndstop: toolboardEndstop,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t[],\n\t);\n\tif (toolhead == null) {\n\t\treturn (\n\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 border-t border-zinc-100 py-4 dark:border-zinc-700 sm:grid-cols-2\">\n\t\t\t\t<div className=\"sm:col-span-2\">\n\t\t\t\t\t<div className=\"space-x-2 text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</dl>\n\t\t);\n\t}\n\tconst hasWarnings =\n\t\t(toolhead.getToolboard() != null && !toolboardDetected.data) ||\n\t\t(toolhead.getToolboard()?.alternativePT1000Resistor && toolhead.getThermistor() === 'PT1000');\n\treturn (\n\t\t<Disclosure as=\"div\" className=\"\" defaultOpen={!!hasWarnings}>\n\t\t\t{({ open }) => (\n\t\t\t\t<>\n\t\t\t\t\t<Disclosure.Button as=\"div\" className=\"cursor-pointer border-b border-zinc-100 py-4 dark:border-zinc-800\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<h3 className=\"flex items-center space-x-2 text-base font-bold leading-7 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t<span>Toolhead {toolhead.getToolCommand()}</span>\n\t\t\t\t\t\t\t\t{hasWarnings && (\n\t\t\t\t\t\t\t\t\t<Badge color=\"yellow\" size=\"md\">\n\t\t\t\t\t\t\t\t\t\tHas Warnings\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t<ChevronRightIcon\n\t\t\t\t\t\t\t\t\tclassName={twJoin('h-6 w-6 transition-all duration-200 ease-in-out', open ? 'rotate-90' : 'rotate-0')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm\">{toolhead.getDescription()}</p>\n\t\t\t\t\t</Disclosure.Button>\n\t\t\t\t\t<AnimatedContainer>\n\t\t\t\t\t\t<Disclosure.Panel className=\"pt-4\">\n\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"space-x-2 text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t<span>Toolboard</span>{' '}\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().toolboard && (\n\t\t\t\t\t\t\t\t\t\t\t<Badge color={toolboardDetected.data === true ? 'green' : 'red'}>\n\t\t\t\t\t\t\t\t\t\t\t\t{toolboardDetected.data === true ? 'Detected' : 'Not detected'}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().toolboard == null\n\t\t\t\t\t\t\t\t\t\t\t? 'None selected'\n\t\t\t\t\t\t\t\t\t\t\t: `${toolhead.getConfig().toolboard?.manufacturer} ${toolhead.getConfig().toolboard?.name}`}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{toolhead.getToolboard() != null && !toolboardDetected.data && (\n\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-2\">\n\t\t\t\t\t\t\t\t\t\t<WarningMessage>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\tThe toolboard you have selected does not seem to be connected, you can still save the config\n\t\t\t\t\t\t\t\t\t\t\t\t\tand proceed to mainsail, but you will get an 'mcu' connection error.\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</WarningMessage>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Extruder</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().extruder?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Hotend</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().hotend?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Thermistor</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().thermistor ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{toolhead.getToolboard()?.alternativePT1000Resistor && toolhead.getThermistor() === 'PT1000' && (\n\t\t\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t\t\t<WarningMessage title=\"RatOS uses your toolboards alternate pullup resistor setting\">\n\t\t\t\t\t\t\t\t\t\t\tYour toolboard has an option to use a separate pullup resistor for PT1000 sensors. This is usually\n\t\t\t\t\t\t\t\t\t\t\tdone by inserting a jumper. Make sure you read the documentation for your board on how to enable\n\t\t\t\t\t\t\t\t\t\t\tthe alternative resistor or you'll get ADC temperature errors in klipper.\n\t\t\t\t\t\t\t\t\t\t</WarningMessage>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<dl className=\"mt-4 grid grid-cols-1 gap-x-4 gap-y-4 border-t border-zinc-100 py-4 dark:border-zinc-800 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">X Endstop</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 flex gap-2 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().xEndstop?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().xEndstop?.badge?.map((b) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge color={b.color} key={b.children}>\n\t\t\t\t\t\t\t\t\t\t\t\t{b.children.replace('Tundefined', `T${toolhead.getTool()}`)}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Y Endstop</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 flex gap-2 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().yEndstop?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().yEndstop?.badge?.map((b) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge color={b.color} key={b.children}>\n\t\t\t\t\t\t\t\t\t\t\t\t{b.children}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Probe</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().probe?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{toolhead.getConfig().toolboard != null &&\n\t\t\t\t\t\t\t\t\ttoolhead.getConfig().xEndstop?.id === 'endstop' &&\n\t\t\t\t\t\t\t\t\t!ignoreEndstopWarning && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-2\">\n\t\t\t\t\t\t\t\t\t\t\t<WarningMessage>\n\t\t\t\t\t\t\t\t\t\t\t\tThe current configuration assumes the X endstop is connected to your controlboard, do you want\n\t\t\t\t\t\t\t\t\t\t\t\tto use an endstop connected to the toolboard instead?\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-4 flex justify-end space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={setToolboardEndstop} variant=\"warning\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tYes, use the toolboard connection\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setIgnoreEndstopWarning(true)} variant=\"plain\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo, use the controlboard connection\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</WarningMessage>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 border-t border-zinc-100 py-4 dark:border-zinc-800 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Part cooling fan</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 flex gap-2 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().partFan?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().partFan?.badge?.map((b) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge color={b.color} key={b.children}>\n\t\t\t\t\t\t\t\t\t\t\t\t{b.children.replace('Tundefined', `T${toolhead.getTool()}`)}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Hotend cooling fan</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 flex gap-2 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().hotendFan?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().hotendFan?.badge?.map((b) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge color={b.color} key={b.children}>\n\t\t\t\t\t\t\t\t\t\t\t\t{b.children.replace('Tundefined', `T${toolhead.getTool()}`)}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 border-t border-zinc-100 py-4 dark:border-zinc-800 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">X Accelerometer</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().xAccelerometer?.title ?? 'None'}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Y Accelerometer</dt>\n\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t{toolhead.getConfig().yAccelerometer?.title ?? 'None'}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t</Disclosure.Panel>\n\t\t\t\t\t</AnimatedContainer>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Disclosure>\n\t);\n};\n\nexport const ConfirmConfig: React.FC<StepScreenProps> = (props) => {\n\tconst { parsedPrinterConfiguration, partialPrinterConfiguration } = usePrinterConfiguration();\n\n\tconst serializedPrinterConfiguration = useMemo(() => {\n\t\tif (parsedPrinterConfiguration.success === true) {\n\t\t\treturn serializePrinterConfiguration(parsedPrinterConfiguration.data);\n\t\t}\n\t\treturn null;\n\t}, [parsedPrinterConfiguration]);\n\n\tconst errors: React.ReactNode[] = [];\n\n\tconst [filesToOverwrite, setFilesToOverwrite] = useState<string[]>([]);\n\n\tconst [filesToIgnore, setFilesToIgnore] = useState<string[]>([]);\n\n\tconst controlboardDetected = trpc.mcu.detect.useQuery(\n\t\t{ boardPath: partialPrinterConfiguration != null ? partialPrinterConfiguration.controlboard?.path ?? '' : '' },\n\t\t{\n\t\t\tenabled: partialPrinterConfiguration?.controlboard != null,\n\t\t},\n\t);\n\tconst saveConfigurationMutation = trpc.printer.saveConfiguration.useMutation();\n\tconst saveConfiguration = useCallback(async () => {\n\t\tif (parsedPrinterConfiguration.success) {\n\t\t\tsaveConfigurationMutation.mutate(\n\t\t\t\t{\n\t\t\t\t\tconfig: serializePrinterConfiguration(parsedPrinterConfiguration.data),\n\t\t\t\t\toverwriteFiles: filesToOverwrite,\n\t\t\t\t\tskipFiles: filesToIgnore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tonSuccess: props.nextScreen,\n\t\t\t\t\tonError: () => window.scrollTo(0, 0),\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}, [parsedPrinterConfiguration, saveConfigurationMutation, filesToOverwrite, filesToIgnore, props.nextScreen]);\n\n\tconst client = trpc.useUtils().client;\n\tconst filesToWrite = useQuery({\n\t\tqueryKey: ['filesToWrite', serializedPrinterConfiguration],\n\t\tqueryFn: async () => {\n\t\t\tconst res = await client.printer.getFilesToWrite.mutate({\n\t\t\t\tconfig: serializedPrinterConfiguration ?? ({} as any),\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tenabled: parsedPrinterConfiguration.success,\n\t});\n\n\tconst requiresExplicitFileActions = filesToWrite.data?.some(\n\t\t(f) =>\n\t\t\tf.state === 'changed' &&\n\t\t\tf.changedFromConfig === true &&\n\t\t\tf.overwrite === false &&\n\t\t\t!filesToIgnore.includes(f.fileName) &&\n\t\t\t!filesToOverwrite.includes(f.fileName),\n\t);\n\n\tif (saveConfigurationMutation.error) {\n\t\terrors.push(saveConfigurationMutation.error.message);\n\t}\n\tif (parsedPrinterConfiguration.success === false) {\n\t\t// console.error(parsedPrinterConfiguration.error);\n\t\tconst formErrors = parsedPrinterConfiguration.error.flatten().formErrors;\n\t\tconst fieldErrors = parsedPrinterConfiguration.error.flatten().fieldErrors;\n\t\tif (formErrors.length) {\n\t\t\tformErrors.forEach((message) => {\n\t\t\t\terrors.push(message);\n\t\t\t});\n\t\t} else {\n\t\t\tfor (const field in fieldErrors) {\n\t\t\t\terrors.push(\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span className=\"capitalize\">{field}</span>: {fieldErrors[field as keyof PrinterConfiguration]?.[0]}\n\t\t\t\t\t</>,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst motionErrors = useMemo(() => {\n\t\tif (parsedPrinterConfiguration.success) {\n\t\t\treturn parsedPrinterConfiguration.data.rails\n\t\t\t\t.filter((r) => r.axis.startsWith('x') || r.axis.startsWith('y'))\n\t\t\t\t?.map((rail) => {\n\t\t\t\t\tconst board = parsedPrinterConfiguration.data.controlboard;\n\t\t\t\t\tconst motorSlot = rail.motorSlot;\n\t\t\t\t\tif (motorSlot == null || board?.motorSlots?.[motorSlot].title == null) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tconst hasDiagPin = board.motorSlots?.[motorSlot].diag_pin != null;\n\t\t\t\t\tconst isSensorless =\n\t\t\t\t\t\t(rail.axis.startsWith('x') &&\n\t\t\t\t\t\t\tparsedPrinterConfiguration.data.toolheads.some((t) => t.xEndstop?.id === 'sensorless')) ||\n\t\t\t\t\t\t(rail.axis.startsWith('y') &&\n\t\t\t\t\t\t\tparsedPrinterConfiguration.data.toolheads.some((t) => t.yEndstop?.id === 'sensorless'));\n\t\t\t\t\treturn !hasDiagPin && isSensorless ? (\n\t\t\t\t\t\t<ErrorMessage key={rail.axis} className=\"col-span-2\" title=\"Driver Slot Allocation Invalid\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span className=\"capitalize\">{rail.axis}</span> is configured to use sensorless homing, but the{' '}\n\t\t\t\t\t\t\t\t\t<span className=\"capitalize\">{board.motorSlots?.[motorSlot].title}</span> motor slot does not have a\n\t\t\t\t\t\t\t\t\tdiag pin connected.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ErrorMessage>\n\t\t\t\t\t) : null;\n\t\t\t\t})\n\t\t\t\t.filter(Boolean);\n\t\t}\n\t\treturn null;\n\t}, [parsedPrinterConfiguration]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t{' '}\n\t\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">{props.name}</h3>\n\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">{props.description}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"space-y-4 text-zinc-700 dark:text-zinc-300\">\n\t\t\t\t\t{parsedPrinterConfiguration.success && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{errors.length > 0 && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<ErrorMessage>\n\t\t\t\t\t\t\t\t\t\t{errors.map((e, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2\" key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ErrorMessage>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<AnimatedContainer className=\"mt-4\">\n\t\t\t\t\t\t\t\t<Disclosure as={Fragment}>\n\t\t\t\t\t\t\t\t\t{({ open }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Disclosure.Button as=\"div\" className=\"border-b border-zinc-100 py-4 dark:border-zinc-800\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"flex items-center space-x-2 text-base font-bold leading-7 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>General</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.controlboard != null && !controlboardDetected.data && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge color=\"yellow\">Has Warnings</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'h-6 w-6 transition-all duration-200 ease-in-out',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topen ? 'rotate-90' : 'rotate-0',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Disclosure.Button>\n\t\t\t\t\t\t\t\t\t\t\t<Disclosure.Panel as=\"dl\" className=\"grid grid-cols-1 gap-x-4 gap-y-4 py-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Printer</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.printer != null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${parsedPrinterConfiguration.data.printer.manufacturer} ${parsedPrinterConfiguration.data.printer.name} ${Object.keys(parsedPrinterConfiguration.data.printer.sizes).length > 1 ? parsedPrinterConfiguration.data.size.x : ''}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'None selected'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"space-x-2 text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Controlboard</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.controlboard && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge color={controlboardDetected.data === true ? 'green' : 'red'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{controlboardDetected.data === true ? 'Detected' : 'Not detected'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.controlboard != null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${parsedPrinterConfiguration.data.controlboard.manufacturer} ${parsedPrinterConfiguration.data.controlboard.name}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'None selected'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tController cooling fan\n\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 flex gap-2 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.controllerFan?.title ?? 'None selected'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.controllerFan?.badge?.map((b) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge color={b.color} key={b.children}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{b.children}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.controlboard != null && !controlboardDetected.data && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<WarningMessage>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThe controlboard you have selected does not seem to be connected, you can still save\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthe config and proceed to mainsail, but you will get an 'mcu' connection error.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</WarningMessage>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Disclosure.Panel>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Disclosure>\n\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.toolheads.map((tool) => (\n\t\t\t\t\t\t\t\t\t\t<ConfirmToolhead key={tool.axis} toolOrAxis={tool.axis} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Disclosure as={Fragment} defaultOpen={false}>\n\t\t\t\t\t\t\t\t\t{({ open }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Disclosure.Button as=\"div\" className=\"border-b border-zinc-100 py-4 dark:border-zinc-800\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex cursor-pointer items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"flex items-center space-x-2 text-base font-bold leading-7 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Motion</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(motionErrors?.length ?? 0) > 0 && <Badge color=\"red\">Has Errors</Badge>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'h-6 w-6 transition-all duration-200 ease-in-out',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topen ? 'rotate-90' : 'rotate-0',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Disclosure.Button>\n\t\t\t\t\t\t\t\t\t\t\t<Disclosure.Panel>\n\t\t\t\t\t\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 py-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPerformance mode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.performanceMode ? 'Enabled' : 'Disabled'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tStealtchop\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.stealthchop ? 'Enabled' : 'Disabled'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tStandstill Stealth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.standstillStealth ? 'Enabled' : 'Disabled'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 border-t border-zinc-100 py-4 dark:border-zinc-700 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{parsedPrinterConfiguration.data.rails?.map((rail, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sm:col-span-1\" key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dt className=\"text-sm font-medium capitalize leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rail.axis === PrinterAxis.extruder ? rail.axis : rail.axis.toLocaleUpperCase()} Motion\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tConfiguration\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dd className=\"mt-1 text-sm leading-6 text-zinc-600 dark:text-zinc-400 sm:mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rail.driver.title} @ {rail.voltage}V\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rail.stepper.title} @ {rail.current}A RMS\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium\">{rail.microstepping} microsteps</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t\t\t\t\t</Disclosure.Panel>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Disclosure>\n\n\t\t\t\t\t\t\t\t<div className=\"mb-5 mt-10 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\t\t\t\t\t\tConfiguration Files\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\t\t\t\t\tPlease review the changes to the configuration files.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 pb-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"dark:border-zinc-700 sm:col-span-2\">\n\t\t\t\t\t\t\t\t\t\t<FileChanges\n\t\t\t\t\t\t\t\t\t\t\tserializedConfig={parsedPrinterConfiguration.success ? serializedPrinterConfiguration : null}\n\t\t\t\t\t\t\t\t\t\t\tonFilesToIgnoreChange={setFilesToIgnore}\n\t\t\t\t\t\t\t\t\t\t\tonFilesToOverwriteChange={setFilesToOverwrite}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t\t<dl className=\"grid grid-cols-1 gap-x-4 gap-y-4 border-zinc-100 dark:border-zinc-700 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"dark:border-zinc-700 sm:col-span-2\">\n\t\t\t\t\t\t\t\t\t\t<InfoMessage>\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"ml-4 list-disc space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\tIf the above information is correct, and you agree with the changes, go ahead and save the\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfiguration. If not, go back and change the configuration by clicking the steps in the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Setup Progress\" panel.\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\tIf you are unsure about the changes to a modified file, remember there's always a timestamped\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackup created next to the given file when a file is overwritten, you can easily copy paste\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom the old backup file in the Machine tab in mainsail, in case things go wrong.\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</InfoMessage>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t</AnimatedContainer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<StepNavButtons\n\t\t\t\tleft={{ onClick: props.previousScreen }}\n\t\t\t\tright={{\n\t\t\t\t\tonClick: saveConfiguration,\n\t\t\t\t\tdisabled:\n\t\t\t\t\t\t!parsedPrinterConfiguration.success || (motionErrors?.length ?? 0) > 0 || requiresExplicitFileActions,\n\t\t\t\t\ttitle: requiresExplicitFileActions\n\t\t\t\t\t\t? 'You need to explicitly overwrite or ignore one or more files'\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tisLoading: saveConfigurationMutation.isLoading,\n\t\t\t\t\tlabel: 'Confirm and save',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport const ProceedToMainsail: React.FC<StepScreenProps> = (props) => {\n\tconst openMainsail = () => {\n\t\twindow.location.href = 'http://' + window.location.hostname;\n\t};\n\treturn (\n\t\t<>\n\t\t\t<div className=\"p-8\">\n\t\t\t\t{' '}\n\t\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">{props.name}</h3>\n\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">{props.description}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"space-y-4 text-zinc-700 dark:text-zinc-300\">\n\t\t\t\t\tNow that the base configuration has been saved, you can connect to your printer via Mainsail and start\n\t\t\t\t\tcalibrating your printer.\n\t\t\t\t\t<div className=\"mt-5\">\n\t\t\t\t\t\tYou can now continue to{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://os.ratrig.com/docs/configuration#initial-configuration\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\tclassName=\"cursor-pointer text-brand-700 hover:text-brand-600\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tthe next step in the documentation.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<StepNavButtons\n\t\t\t\tleft={{ onClick: props.previousScreen }}\n\t\t\t\tright={{\n\t\t\t\t\tonClick: openMainsail,\n\t\t\t\t\tlabel: 'Open Mainsail',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport const WizardComplete: React.FC<StepScreenProps> = (props) => {\n\tconst { currentStep, screenProps } = useSteps({\n\t\tsteps: CompletionSteps,\n\t\tparentScreenProps: props,\n\t});\n\n\treturn currentStep.renderScreen({\n\t\t...screenProps,\n\t});\n};\n","import React, { useMemo } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { ToolheadHelper } from '@/helpers/toolhead';\nimport { StepScreen, useSteps } from '@/hooks/useSteps';\nimport { LoadablePrinterToolheadsState } from '@/recoil/toolhead';\nimport { ToolheadConfiguration } from '@/zods/toolhead';\nimport { Spinner } from '@/components/common/spinner';\nimport { VerticalSteps } from '@/components/common/vertical-steps';\nimport { HardwareSelection } from '@/components/setup-steps/hardware-selection';\nimport { MCUPreparation } from '@/components/setup-steps/mcu-preparation';\nimport { PrinterSelection } from '@/components/setup-steps/printer-selection';\nimport { WifiSetup } from '@/components/setup-steps/wifi-setup';\nimport { WizardComplete } from '@/components/setup-steps/wizard-complete';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { useLocalPathname } from '@/app/_hooks/navigation';\nimport { Card } from '@/components/common/card';\n\ninterface WizardProps {\n\tisConnectedToWifi?: boolean;\n\thasWifiInterface?: boolean;\n}\n\nconst makeSteps = (toolheads: ToolheadConfiguration<any>[], isConfigValid: boolean): StepScreen[] => {\n\tlet nextIndex = 0;\n\tconst getNextIndex = () => {\n\t\tnextIndex++;\n\t\treturn (nextIndex + '').padStart(2, '0');\n\t};\n\tconst result: StepScreen[] = [\n\t\t{\n\t\t\tid: getNextIndex(),\n\t\t\tname: 'Network connectivity',\n\t\t\tdescription: 'Setup Wifi or Ethernet connectivity',\n\t\t\thref: '#',\n\t\t\trenderScreen: (screenProps) => <WifiSetup {...screenProps} key={screenProps.key} />,\n\t\t},\n\t\t{\n\t\t\tid: getNextIndex(),\n\t\t\tname: 'Printer Selection',\n\t\t\tdescription: 'Select the printer you want to configure',\n\t\t\thref: '#',\n\t\t\trenderScreen: (screenProps) => <PrinterSelection {...screenProps} key={screenProps.key} />,\n\t\t},\n\t\t{\n\t\t\tid: getNextIndex(),\n\t\t\tname: 'Control board preparation',\n\t\t\tcanBeSkippedTo: isConfigValid,\n\t\t\tdescription: 'Connect to and flash your control board',\n\t\t\thref: '#',\n\t\t\trenderScreen: (screenProps) => <MCUPreparation {...screenProps} key={screenProps.key} />,\n\t\t},\n\t];\n\ttoolheads.forEach((toolhead) => {\n\t\tconst th = new ToolheadHelper(toolhead);\n\t\tresult.push({\n\t\t\tid: getNextIndex(),\n\t\t\tname: `${th.getToolCommand()} Toolboard Preparation`,\n\t\t\tcanBeSkippedTo: isConfigValid,\n\t\t\tdescription: `Connect to and flash an optional toolboard located on ${th.getDescription().toLocaleLowerCase()}`,\n\t\t\thref: '#',\n\t\t\trenderScreen: (screenProps) => (\n\t\t\t\t<MCUPreparation {...screenProps} key={screenProps.key} toolOrAxis={toolhead.axis} />\n\t\t\t),\n\t\t});\n\t});\n\tresult.push({\n\t\tid: getNextIndex(),\n\t\tname: 'Hardware Selection',\n\t\tcanBeSkippedTo: isConfigValid,\n\t\tdescription: 'Tell RatOS about that hardware you have installed on your printer',\n\t\thref: '#',\n\t\trenderScreen: (screenProps) => <HardwareSelection {...screenProps} key={screenProps.key} />,\n\t});\n\tresult.push({\n\t\tid: getNextIndex(),\n\t\tname: 'Confirm your setup',\n\t\tcanBeSkippedTo: isConfigValid,\n\t\tdescription: 'Confirm your setup and start printing',\n\t\thref: '#',\n\t\trenderScreen: (screenProps) => <WizardComplete {...screenProps} key={screenProps.key} />,\n\t});\n\t// {\n\t// \tid: '06',\n\t// \tname: 'Kinematics',\n\t// \tdescription: 'Check directionality of your steppers',\n\t// \thref: '#',\n\t// \trenderScreen: (screenProps) => <CoreXYKinematics {...screenProps} />,\n\t// },\n\t// {\n\t// \tid: '07',\n\t// \tname: 'Heaters',\n\t// \tdescription: 'Calibrate your heaters',\n\t// \thref: '#',\n\t// \trenderScreen: () => null,\n\t// },\n\treturn result;\n};\n\nconst LoadScreen: React.FC = () => {\n\treturn (\n\t\t<div className=\"p-8\">\n\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700\">\n\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\tLoading printer configuration...\n\t\t\t\t</h3>\n\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\tPlease wait while RatOS loads your printer configuration\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 flex h-48 items-center justify-center\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const SetupSteps: React.FC<WizardProps> = (props) => {\n\tconst searchParams = useSearchParams();\n\tconst router = useRouter();\n\tconst pathname = useLocalPathname();\n\tconst ths = useRecoilValue(LoadablePrinterToolheadsState);\n\tconst steps = useMemo(() => makeSteps(ths, ths?.length > 0), [ths]);\n\tconst uriStep = searchParams?.get('step') ? parseInt(searchParams?.get('step') ?? '', 10) : null;\n\tconst defaultStep = props.hasWifiInterface && !props.isConnectedToWifi ? 0 : 1;\n\n\tconst { currentStepIndex, setCurrentStepIndex, screenProps, currentStep } = useSteps({\n\t\tstep: uriStep != null && uriStep < steps.length ? uriStep : defaultStep,\n\t\tonStepChange: (step) => {\n\t\t\t'use client';\n\t\t\trouter.push(`${pathname}?step=${step}`, undefined);\n\t\t\twindow.scrollTo(0, 0);\n\t\t},\n\t\tsteps,\n\t});\n\n\tconst isReady = uriStep == null || uriStep === currentStepIndex;\n\n\treturn (\n\t\t<div className=\"mx-auto mt-8 grid max-w-3xl grid-cols-1 gap-4 px-4 lg:max-w-7xl lg:grid-flow-col-dense lg:grid-cols-3\">\n\t\t\t<div className=\"lg:col-span-2 lg:col-start-1\">\n\t\t\t\t<Card>\n\t\t\t\t\t<React.Suspense fallback={<LoadScreen />}>\n\t\t\t\t\t\t{isReady ? currentStep.renderScreen(screenProps) : <LoadScreen />}\n\t\t\t\t\t</React.Suspense>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t\t<div className=\"space-y-6 lg:col-span-1 lg:col-start-3\">\n\t\t\t\t<Card className=\"p-8\">\n\t\t\t\t\t<div className=\"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-800\">\n\t\t\t\t\t\t<h3 className=\"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100\">Setup Progress</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<VerticalSteps\n\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\tscreenProps={screenProps}\n\t\t\t\t\t\tcurrentStepIndex={currentStepIndex}\n\t\t\t\t\t\tsetCurrentStepIndex={setCurrentStepIndex}\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","'use client';\n\nimport { KlippyStateBadge } from '@/components/klippy-state-badge';\nimport { MoonrakerStateBadge } from '@/components/moonraker-state-badge';\nimport { trpc } from '@/helpers/trpc';\nimport React from 'react';\nimport { SetupSteps } from '@/components/setup-steps';\nimport { useRecoilValue } from 'recoil';\nimport { PrinterState } from '@/recoil/printer';\nimport { PrinterConnectionHeader } from '@/components/common/printer-state-header';\n\ninterface WizardProps {\n\tisConnectedToWifi?: boolean;\n\thasWifiInterface?: boolean;\n}\n\nexport const Wizard: React.FC<WizardProps> = (props) => {\n\tconst { data: version } = trpc.version.useQuery(undefined, { keepPreviousData: true, refetchOnMount: false });\n\tconst { data: ip } = trpc.ipAddress.useQuery(undefined, { keepPreviousData: true, refetchOnMount: false });\n\tconst selectedPrinter = useRecoilValue(PrinterState);\n\treturn (\n\t\t<>\n\t\t\t<PrinterConnectionHeader\n\t\t\t\ttitle={`${selectedPrinter?.name ?? 'Printer'} Setup`}\n\t\t\t\tdescription={`RatOS ${version} @ ${ip}`}\n\t\t\t/>\n\t\t\t{/* Page body */}\n\t\t\t<SetupSteps {...props} />\n\t\t</>\n\t);\n};\n","'use client';\n\nimport * as React from 'react';\nimport { Drawer as DrawerPrimitive } from 'vaul';\n\nimport { cn, setDisplayName } from '@/helpers/utils';\n\nconst Drawer = ({ shouldScaleBackground = true, ...props }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n\t<DrawerPrimitive.Root shouldScaleBackground={shouldScaleBackground} {...props} />\n);\nDrawer.displayName = 'Drawer';\n\nconst DrawerTrigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal = DrawerPrimitive.Portal;\n\nconst DrawerClose = DrawerPrimitive.Close;\n\nconst DrawerOverlay = React.forwardRef<\n\tReact.ElementRef<typeof DrawerPrimitive.Overlay>,\n\tReact.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n\t<DrawerPrimitive.Overlay ref={ref} className={cn('fixed inset-0 z-50 bg-black/80', className)} {...props} />\n));\nsetDisplayName(DrawerOverlay, DrawerPrimitive.Overlay.displayName);\n\nconst DrawerContent = React.forwardRef<\n\tReact.ElementRef<typeof DrawerPrimitive.Content>,\n\tReact.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n\t<DrawerPortal>\n\t\t<DrawerOverlay />\n\t\t<DrawerPrimitive.Content\n\t\t\tref={ref}\n\t\t\tclassName={cn(\n\t\t\t\t'fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background outline-none focus:outline-none focus:ring-0 focus:ring-offset-0',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n\t\t\t{children}\n\t\t</DrawerPrimitive.Content>\n\t</DrawerPortal>\n));\nsetDisplayName(DrawerContent, 'DrawerContent');\n\nconst DrawerHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n\t<div className={cn('grid gap-1.5 p-4 text-center sm:text-left', className)} {...props} />\n);\nDrawerHeader.displayName = 'DrawerHeader';\n\nconst DrawerFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n\t<div className={cn('mt-auto flex flex-col gap-2 p-4', className)} {...props} />\n);\nDrawerFooter.displayName = 'DrawerFooter';\n\nconst DrawerTitle = React.forwardRef<\n\tReact.ElementRef<typeof DrawerPrimitive.Title>,\n\tReact.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n\t<DrawerPrimitive.Title\n\t\tref={ref}\n\t\tclassName={cn('text-lg font-semibold leading-none tracking-tight', className)}\n\t\t{...props}\n\t/>\n));\nsetDisplayName(DrawerTitle, DrawerPrimitive.Title.displayName);\n\nconst DrawerDescription = React.forwardRef<\n\tReact.ElementRef<typeof DrawerPrimitive.Description>,\n\tReact.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n\t<DrawerPrimitive.Description ref={ref} className={cn('text-sm text-muted-foreground', className)} {...props} />\n));\nsetDisplayName(DrawerDescription, DrawerPrimitive.Description.displayName);\n\nexport {\n\tDrawer,\n\tDrawerPortal,\n\tDrawerOverlay,\n\tDrawerTrigger,\n\tDrawerClose,\n\tDrawerContent,\n\tDrawerHeader,\n\tDrawerFooter,\n\tDrawerTitle,\n\tDrawerDescription,\n};\n","'use client';\nimport { useEffect, useState } from 'react';\n\nexport function useMediaQuery(query: string): boolean {\n\tconst mediaQueryList = typeof window !== 'undefined' ? window.matchMedia(query) : null;\n\tconst [matches, setMatches] = useState(mediaQueryList?.matches ?? false);\n\n\tuseEffect(() => {\n\t\tif (mediaQueryList == null) {\n\t\t\treturn;\n\t\t}\n\t\tconst handleChange = (event: MediaQueryListEvent) => {\n\t\t\tsetMatches(event.matches);\n\t\t};\n\n\t\tmediaQueryList.addEventListener('change', handleChange);\n\n\t\treturn () => {\n\t\t\tmediaQueryList.removeEventListener('change', handleChange);\n\t\t};\n\t}, [mediaQueryList]);\n\n\treturn matches;\n}\n","'use client';\n/* This example requires Tailwind CSS v2.0+ */\nimport React, { Fragment, useCallback, useState } from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogTrigger,\n} from '@/components/ui/dialog';\nimport {\n\tDrawer,\n\tDrawerClose,\n\tDrawerContent,\n\tDrawerDescription,\n\tDrawerFooter,\n\tDrawerHeader,\n\tDrawerTitle,\n\tDrawerTrigger,\n} from '@/components/ui/drawer';\nimport { useMediaQuery } from '@/hooks/useMediaQuery';\nimport { Spinner } from '@/components/common/spinner';\nimport { Check, Cross } from 'lucide-react';\nimport { twJoin, twMerge } from 'tailwind-merge';\nimport { toast } from 'sonner';\nimport { ButtonVariantProps } from '@/components/common/button';\nimport { AnimatedContainer } from '@/components/common/animated-container';\n\nexport interface ModalProps extends React.PropsWithChildren {\n\ttitle: string;\n\tbody: string;\n\twide?: boolean;\n\tisLoading?: boolean;\n\tcontent?: React.ReactNode;\n\tsuccess?: boolean;\n\tbuttonLabel?: string;\n\tbuttonVariant?: ButtonVariantProps['variant'];\n\tsecondButtonLabel?: string;\n\tdismissText?: string;\n\tdismissVariant?: ButtonVariantProps['variant'];\n\tsecondButtonVariant?: ButtonVariantProps['variant'];\n\tonClick?: () => any | Promise<any>;\n\tonClickSecondButton?: () => any | Promise<any>;\n\tonClose?: () => void;\n}\n\nexport function Modal(props: ModalProps) {\n\tconst { onClick, onClose, onClickSecondButton } = props;\n\tconst [open, setOpen] = useState(props.children == null);\n\tconst [isCompletingClick, setIsCompletingClick] = useState<1 | 2 | false>(false);\n\tconst onButtonClick = useCallback(async () => {\n\t\tconst clickRes = onClick?.();\n\t\tif (clickRes instanceof Promise) {\n\t\t\tsetIsCompletingClick(1);\n\t\t\ttry {\n\t\t\t\tawait clickRes;\n\t\t\t\tonClose?.();\n\t\t\t\tsetOpen(false);\n\t\t\t} catch (e) {\n\t\t\t\tif (e instanceof Error) {\n\t\t\t\t\ttoast.error(e.message);\n\t\t\t\t}\n\t\t\t\tthrow e;\n\t\t\t} finally {\n\t\t\t\tsetIsCompletingClick(false);\n\t\t\t}\n\t\t} else {\n\t\t\tonClose?.();\n\t\t\tsetOpen(false);\n\t\t}\n\t}, [onClick, onClose]);\n\n\tconst _onClickSecondButton = useCallback(async () => {\n\t\tconst clickRes = onClickSecondButton?.();\n\t\tif (clickRes instanceof Promise) {\n\t\t\tsetIsCompletingClick(2);\n\t\t\ttry {\n\t\t\t\tawait clickRes;\n\t\t\t\tonClose?.();\n\t\t\t\tsetOpen(false);\n\t\t\t} catch (e) {\n\t\t\t\tif (e instanceof Error) {\n\t\t\t\t\ttoast.error(e.message);\n\t\t\t\t}\n\t\t\t\tthrow e;\n\t\t\t} finally {\n\t\t\t\tsetIsCompletingClick(false);\n\t\t\t}\n\t\t} else {\n\t\t\tonClose?.();\n\t\t\tsetOpen(false);\n\t\t}\n\t}, [onClickSecondButton, onClose]);\n\n\tconst onDialogClose = useCallback(() => {\n\t\tonClose?.();\n\t\tsetOpen(false);\n\t}, [onClose]);\n\n\tconst success = props.isLoading ? (\n\t\t<div className=\"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-700\">\n\t\t\t<Spinner className=\"h-6 w-6\" noMargin={true} aria-hidden=\"true\" />\n\t\t</div>\n\t) : props.success === true ? (\n\t\t<div className=\"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-lime-100 dark:bg-lime-700\">\n\t\t\t<Check className=\"h-6 w-6 text-lime-600 dark:text-lime-100\" aria-hidden=\"true\" />\n\t\t</div>\n\t) : props.success === false ? (\n\t\t<div className=\"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-rose-100 dark:bg-rose-700\">\n\t\t\t<Cross className=\"h-6 w-6 text-rose-600 dark:text-rose-100\" aria-hidden=\"true\" />\n\t\t</div>\n\t) : null;\n\tconst isDesktop = useMediaQuery('(min-width: 768px)');\n\n\tif (isDesktop) {\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonOpenChange={(val) => {\n\t\t\t\t\tif (!val) {\n\t\t\t\t\t\tonDialogClose();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetOpen(val);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{props.children && <DialogTrigger asChild>{props.children}</DialogTrigger>}\n\t\t\t\t<DialogContent className={twJoin(props.wide ? 'max-w-6xl' : 'max-w-[600px]', 'grid-cols-1')}>\n\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t{success}\n\t\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t\t<DialogTitle>{props.title}</DialogTitle>\n\t\t\t\t\t\t\t<DialogDescription>{props.body}</DialogDescription>\n\t\t\t\t\t\t</DialogHeader>\n\t\t\t\t\t</div>\n\t\t\t\t\t<AnimatedContainer containerClassName=\"col-span-2 grid gap-2 overflow-hidden\">\n\t\t\t\t\t\t{props.content}\n\t\t\t\t\t</AnimatedContainer>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t'col-span-2 grid gap-2',\n\t\t\t\t\t\t\tprops.secondButtonLabel && props.onClickSecondButton\n\t\t\t\t\t\t\t\t? 'grid-cols-3'\n\t\t\t\t\t\t\t\t: props.buttonLabel && props.onClick\n\t\t\t\t\t\t\t\t\t? 'grid-cols-2'\n\t\t\t\t\t\t\t\t\t: 'grid-cols-1',\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.buttonLabel && props.onClick && (\n\t\t\t\t\t\t\t<Button variant={props.buttonVariant ?? 'info'} onClick={onButtonClick}>\n\t\t\t\t\t\t\t\t{props.buttonLabel} {isCompletingClick === 1 && <Spinner className=\"inline-block\" noMargin={true} />}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{props.secondButtonLabel && props.onClickSecondButton && (\n\t\t\t\t\t\t\t<Button variant={props.secondButtonVariant ?? 'indeterminate'} onClick={_onClickSecondButton}>\n\t\t\t\t\t\t\t\t{props.secondButtonLabel}{' '}\n\t\t\t\t\t\t\t\t{isCompletingClick === 2 && <Spinner className=\"inline-block\" noMargin={true} />}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Button variant={props.dismissVariant ?? 'outline'} onClick={onDialogClose}>\n\t\t\t\t\t\t\t{props.dismissText ?? 'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Drawer\n\t\t\topen={open}\n\t\t\tonOpenChange={(val) => {\n\t\t\t\tif (!val) {\n\t\t\t\t\tonDialogClose();\n\t\t\t\t} else {\n\t\t\t\t\tsetOpen(val);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{props.children && <DrawerTrigger asChild>{props.children}</DrawerTrigger>}\n\t\t\t<DrawerContent>\n\t\t\t\t<DrawerHeader className=\"flex items-center gap-4 text-left\">\n\t\t\t\t\t{success}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<DrawerTitle>{props.title}</DrawerTitle>\n\t\t\t\t\t\t<DrawerDescription>{props.body}</DrawerDescription>\n\t\t\t\t\t</div>\n\t\t\t\t</DrawerHeader>\n\t\t\t\t{props.content && <div className=\"col-span-2 grid gap-2 px-4 pb-2\">{props.content}</div>}\n\t\t\t\t<DrawerFooter className=\"pt-2\">\n\t\t\t\t\t{props.buttonLabel && props.onClick && (\n\t\t\t\t\t\t<Button variant={props.buttonVariant ?? 'info'} onClick={onButtonClick}>\n\t\t\t\t\t\t\t{props.buttonLabel} {isCompletingClick === 1 && <Spinner className=\"inline-block\" noMargin={true} />}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{props.secondButtonLabel && props.onClickSecondButton && (\n\t\t\t\t\t\t<Button variant={props.secondButtonVariant ?? 'indeterminate'} onClick={_onClickSecondButton}>\n\t\t\t\t\t\t\t{props.secondButtonLabel}{' '}\n\t\t\t\t\t\t\t{isCompletingClick === 2 && <Spinner className=\"inline-block\" noMargin={true} />}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t<DrawerClose asChild>\n\t\t\t\t\t\t<Button variant={props.dismissVariant ?? 'outline'} onClick={onDialogClose}>\n\t\t\t\t\t\t\t{props.dismissText ?? 'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DrawerClose>\n\t\t\t\t</DrawerFooter>\n\t\t\t</DrawerContent>\n\t\t</Drawer>\n\t);\n}\n","import { Switch } from '@headlessui/react';\nimport React from 'react';\nimport { twJoin, twMerge } from 'tailwind-merge';\n\ninterface ToggleProps {\n\tlabel: string;\n\tonLabel?: string;\n\tdescription?: string;\n\tvalue: boolean;\n\tonChange: (value: boolean) => void;\n}\n\nexport const Toggle: React.FC<ToggleProps> = (props) => {\n\treturn (\n\t\t<Switch.Group as=\"div\" className=\"flex items-center justify-between gap-x-2\">\n\t\t\t<span className=\"flex flex-grow flex-col\">\n\t\t\t\t<Switch.Label\n\t\t\t\t\tas=\"span\"\n\t\t\t\t\tclassName={twMerge(\n\t\t\t\t\t\t'text-sm font-medium leading-6 text-zinc-700 dark:text-zinc-300',\n\t\t\t\t\t\tprops.onLabel && props.value && 'opacity-70',\n\t\t\t\t\t\tprops.onLabel && !props.value && 'text-brand-700 dark:text-brand-500',\n\t\t\t\t\t)}\n\t\t\t\t\tpassive\n\t\t\t\t>\n\t\t\t\t\t{props.label}\n\t\t\t\t</Switch.Label>\n\t\t\t\t{props.description && (\n\t\t\t\t\t<Switch.Description as=\"span\" className=\"text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\t{props.description}\n\t\t\t\t\t</Switch.Description>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t\t<Switch\n\t\t\t\tchecked={props.value}\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tclassName={twJoin(\n\t\t\t\t\tprops.value && props.onLabel == null ? 'bg-brand-600' : 'bg-zinc-200 dark:bg-zinc-950/50',\n\t\t\t\t\t'relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-400 focus:ring-offset-2 focus:ring-offset-zinc-900',\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\tprops.value ? 'translate-x-5' : 'translate-x-0',\n\t\t\t\t\t\t'pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow-md shadow-black/20 ring-0 transition duration-200 ease-in-out dark:border-t dark:border-zinc-600 dark:bg-zinc-700 dark:shadow-black/100 ',\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t\t{props.onLabel && (\n\t\t\t\t<span className=\"flex flex-grow flex-col\">\n\t\t\t\t\t<Switch.Label\n\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\tclassName={twMerge(\n\t\t\t\t\t\t\t'text-sm font-medium leading-6 text-zinc-700 dark:text-zinc-300',\n\t\t\t\t\t\t\tprops.onLabel && !props.value && 'opacity-70',\n\t\t\t\t\t\t\tprops.onLabel && props.value && 'text-brand-700 dark:text-brand-500',\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tpassive\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.onLabel}\n\t\t\t\t\t</Switch.Label>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</Switch.Group>\n\t);\n};\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useToolheadConfiguration } from '@/hooks/useToolheadConfiguration';\nimport { stringToTitleObject } from '@/utils/serialization';\nimport { ToolOrAxis, ToolheadConfiguration } from '@/zods/toolhead';\nimport { Dropdown, DropdownWithPrinterQuery } from '@/components/forms/dropdown';\nimport { Spinner } from '@/components/common/spinner';\nimport { twMerge } from 'tailwind-merge';\nimport { badgeBackgroundColorStyle, badgeBorderColorStyle, badgeTextColorStyle } from '@/components/common/badge';\nimport { WarningMessage } from '@/components/warning-message';\nimport { Nozzle } from '@/zods/hardware';\nimport { TextInput } from '@/components/forms/text-input';\nimport { z } from 'zod';\nimport { Strong } from '@/components/ui/typography';\nimport { fanHelp } from '@/data/fans';\n\ninterface ToolheadSettingsProps {\n\ttoolOrAxis: ToolOrAxis;\n}\n\ntype ToolheadSettingsErrors = z.typeToFlattenedError<ToolheadConfiguration<any>>;\n\nexport const ToolheadSettings: React.FC<ToolheadSettingsProps> = (props) => {\n\tconst { toolhead, setToolhead } = useToolheadConfiguration(props.toolOrAxis);\n\tconst [errors, setErrors] = useState<ToolheadSettingsErrors | null>(null);\n\n\tconst setToolheadField = useCallback(\n\t\t<F extends keyof ToolheadConfiguration<any>, V extends ToolheadConfiguration<any>[F]>(field: F, value: V): void => {\n\t\t\tconst updated = toolhead.getChangeSet({ [field]: value });\n\t\t\tif (updated?.success && updated.data && Object.keys(updated.data).length > 0) {\n\t\t\t\tconst ret = setToolhead({ ...toolhead.getConfig(), ...updated.data });\n\t\t\t\tret.then((res) => {\n\t\t\t\t\tif (!res.success) {\n\t\t\t\t\t\tsetErrors(res.error.formErrors);\n\t\t\t\t\t} else if (res.data != null) {\n\t\t\t\t\t\tsetErrors(null);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (!updated?.success) {\n\t\t\t\tsetErrors(updated?.error.formErrors ?? null);\n\t\t\t} else {\n\t\t\t\tsetErrors(null);\n\t\t\t}\n\t\t},\n\t\t[toolhead, setToolhead],\n\t);\n\n\tif (toolhead == null) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<h3 className=\"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100\">Toolhead...</h3>\n\t\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\t\tConfigure the hardware installed on your toolhead...\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2\">\n\t\t\t\t\t<div className=\"mb-4 flex h-96 items-center justify-center\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={twMerge(\n\t\t\t\tbadgeBorderColorStyle({ color: 'gray' }),\n\t\t\t\t'col-span-1 rounded-md border p-4 shadow-lg @container',\n\t\t\t)}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={twMerge(\n\t\t\t\t\tbadgeBackgroundColorStyle({ color: 'gray' }),\n\t\t\t\t\tbadgeTextColorStyle({ color: 'gray' }),\n\t\t\t\t\tbadgeBorderColorStyle({ color: 'gray' }),\n\t\t\t\t\t'-m-4 mb-0 rounded-t-md border-b p-4',\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<h3 className=\"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100\">\n\t\t\t\t\tToolhead {toolhead.getToolCommand()} Hardware\n\t\t\t\t</h3>\n\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm\">\n\t\t\t\t\tConfigure the hardware installed on {toolhead.getDescription().toLocaleLowerCase()}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"grid grid-cols-1 gap-4 pt-4 @sm:grid-cols-2\">\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tquery=\"hotends\"\n\t\t\t\t\t\tvalue={toolhead.getHotend()}\n\t\t\t\t\t\terror={errors?.fieldErrors.hotend?.join('\\n')}\n\t\t\t\t\t\tlabel=\"Hotend\"\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('hotend', value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tlabel=\"Hotend Thermistor\"\n\t\t\t\t\t\tquery=\"thermistors\"\n\t\t\t\t\t\terror={errors?.fieldErrors.thermistor?.join('\\n')}\n\t\t\t\t\t\tonSelect={(thermistor) => setToolheadField('thermistor', thermistor.id)}\n\t\t\t\t\t\tvalue={stringToTitleObject(toolhead.getThermistor())}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tlabel=\"Nozzle Type\"\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('nozzle', { ...toolhead.getNozzle(), type: value.id })}\n\t\t\t\t\t\terror={errors?.fieldErrors.nozzle?.join('\\n')}\n\t\t\t\t\t\toptions={Object.values(Nozzle.shape.type.Values).map(stringToTitleObject)}\n\t\t\t\t\t\tvalue={stringToTitleObject(toolhead.getNozzle().type)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tlabel=\"Nozzle Diameter\"\n\t\t\t\t\t\terror={errors?.fieldErrors.nozzle?.join('\\n')}\n\t\t\t\t\t\tdefaultValue={toolhead.getNozzle().diameter}\n\t\t\t\t\t\tonBlur={(e) =>\n\t\t\t\t\t\t\tsetToolheadField('nozzle', { ...toolhead.getNozzle(), diameter: parseFloat(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinputMode=\"decimal\"\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\tmin={0.2}\n\t\t\t\t\t\tmax={1.8}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{toolhead.getToolboard()?.alternativePT1000Resistor && toolhead.getThermistor() === 'PT1000' && (\n\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t<WarningMessage title=\"RatOS uses your toolboards alternate pullup resistor setting\">\n\t\t\t\t\t\t\tYour toolboard has an option to use a separate pullup resistor for PT1000 sensors. This is usually done by\n\t\t\t\t\t\t\tinserting a jumper. Make sure you read the documentation for your board on how to enable the alternative\n\t\t\t\t\t\t\tresistor or you'll get ADC temperature errors in klipper.\n\t\t\t\t\t\t</WarningMessage>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tlabel=\"Extruder\"\n\t\t\t\t\t\tquery=\"extruders\"\n\t\t\t\t\t\terror={errors?.fieldErrors.extruder?.join('\\n')}\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('extruder', value)}\n\t\t\t\t\t\tvalue={toolhead.getExtruder()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tlabel=\"Probe\"\n\t\t\t\t\t\tquery=\"probes\"\n\t\t\t\t\t\tcanClear={toolhead.getTool() === 1}\n\t\t\t\t\t\terror={errors?.fieldErrors.probe?.join('\\n')}\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('probe', value ?? undefined)}\n\t\t\t\t\t\tvalue={toolhead.getProbe()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 @sm:grid-cols-2 dark:border-zinc-700\">\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tvars={{ toolOrAxis: toolhead.getTool(), config: {} }}\n\t\t\t\t\t\tserializedPrinterConfiguration=\"config\"\n\t\t\t\t\t\tlabel=\"X Endstop\"\n\t\t\t\t\t\terror={errors?.fieldErrors.xEndstop?.join('\\n')}\n\t\t\t\t\t\tquery=\"xEndstops\"\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('xEndstop', value)}\n\t\t\t\t\t\tvalue={toolhead.getXEndstop()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tvars={{ toolOrAxis: toolhead.getTool(), config: {} }}\n\t\t\t\t\t\tserializedPrinterConfiguration=\"config\"\n\t\t\t\t\t\tlabel=\"Y Endstop\"\n\t\t\t\t\t\terror={errors?.fieldErrors.yEndstop?.join('\\n')}\n\t\t\t\t\t\tquery=\"yEndstops\"\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('yEndstop', value)}\n\t\t\t\t\t\tvalue={toolhead.getYEndstop()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 @sm:grid-cols-2 dark:border-zinc-700\">\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tvars={{ toolOrAxis: toolhead.getTool(), config: {} }}\n\t\t\t\t\t\tserializedPrinterConfiguration=\"config\"\n\t\t\t\t\t\terror={errors?.fieldErrors.partFan?.join('\\n')}\n\t\t\t\t\t\tlabel=\"Part cooling fan\"\n\t\t\t\t\t\tquery=\"partFanOptions\"\n\t\t\t\t\t\thelp={fanHelp}\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('partFan', value)}\n\t\t\t\t\t\tvalue={toolhead.getPartFan()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tvars={{ toolOrAxis: toolhead.getTool(), config: {} }}\n\t\t\t\t\t\tserializedPrinterConfiguration=\"config\"\n\t\t\t\t\t\terror={errors?.fieldErrors.hotendFan?.join('\\n')}\n\t\t\t\t\t\tlabel=\"Hotend fan\"\n\t\t\t\t\t\tquery=\"hotendFanOptions\"\n\t\t\t\t\t\thelp={fanHelp}\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('hotendFan', value)}\n\t\t\t\t\t\tvalue={toolhead.getHotendFan()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 border-t border-zinc-100 pt-4 dark:border-zinc-700\">\n\t\t\t\t<h3 className=\"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100\">Accelerometers</h3>\n\t\t\t\t<p className=\"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400\">\n\t\t\t\t\tYou can use the same accelerometer for both axes. If you don't plan on using an accelerometer, you can skip\n\t\t\t\t\tthis and come back later if you change your mind.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 @sm:grid-cols-2 dark:border-zinc-700\">\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tvars={{ toolOrAxis: toolhead.getTool(), config: {} }}\n\t\t\t\t\t\tserializedPrinterConfiguration=\"config\"\n\t\t\t\t\t\tlabel=\"X axis accelerometer\"\n\t\t\t\t\t\terror={errors?.fieldErrors.xAccelerometer?.join('\\n')}\n\t\t\t\t\t\tquery=\"xAccelerometerOptions\"\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('xAccelerometer', value)}\n\t\t\t\t\t\tvalue={toolhead.getXAccelerometer()}\n\t\t\t\t\t\tsort={false}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<DropdownWithPrinterQuery\n\t\t\t\t\t\tvars={{ toolOrAxis: toolhead.getTool(), config: {} }}\n\t\t\t\t\t\tserializedPrinterConfiguration=\"config\"\n\t\t\t\t\t\tlabel=\"Y axis accelerometer\"\n\t\t\t\t\t\terror={errors?.fieldErrors.yAccelerometer?.join('\\n')}\n\t\t\t\t\t\tquery=\"yAccelerometerOptions\"\n\t\t\t\t\t\tonSelect={(value) => setToolheadField('yAccelerometer', value)}\n\t\t\t\t\t\tvalue={toolhead.getYAccelerometer()}\n\t\t\t\t\t\tsort={false}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { Button, buttonVariants } from '@/components/common/button';\nimport { setDisplayName } from '@/helpers/utils';\n\nsetDisplayName(Button, 'Button');\n\nexport { Button, buttonVariants };\n","import { ExclamationCircleIcon } from '@heroicons/react/24/solid';\nimport React from 'react';\nimport { Banner } from '@/components/common/banner';\n\ninterface WarningMessageProps extends React.PropsWithChildren {\n\ttitle?: string;\n\tclassName?: string;\n}\n\nexport const WarningMessage: React.FC<WarningMessageProps> = (props) => {\n\treturn (\n\t\t<Banner\n\t\t\tcolor=\"yellow\"\n\t\t\tIcon={ExclamationCircleIcon}\n\t\t\ttitle={props.title ? 'Warning: ' + props.title : 'Warning'}\n\t\t\tclassName={props.className}\n\t\t>\n\t\t\t{props.children}\n\t\t</Banner>\n\t);\n};\n","module.exports = require('./dist/client/components/navigation')\n","import p,{createContext as m,useContext as L,useMemo as f,useState as b}from\"react\";import{useId as g}from'../../hooks/use-id.js';import{forwardRefWithAs as x,render as T}from'../../utils/render.js';import{useIsoMorphicEffect as E}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as P}from'../../hooks/use-sync-refs.js';import{useEvent as v}from'../../hooks/use-event.js';let u=m(null);function c(){let n=L(u);if(n===null){let r=new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(r,c),r}return n}function M(){let[n,r]=b([]);return[n.length>0?n.join(\" \"):void 0,f(()=>function(e){let o=v(l=>(r(t=>[...t,l]),()=>r(t=>{let i=t.slice(),a=i.indexOf(l);return a!==-1&&i.splice(a,1),i}))),s=f(()=>({register:o,slot:e.slot,name:e.name,props:e.props}),[o,e.slot,e.name,e.props]);return p.createElement(u.Provider,{value:s},e.children)},[r])]}let h=\"label\",F=x(function(r,d){let e=g(),{id:o=`headlessui-label-${e}`,passive:s=!1,...l}=r,t=c(),i=P(d);E(()=>t.register(o),[o,t.register]);let a={ref:i,...t.props,id:o};return s&&(\"onClick\"in a&&delete a.onClick,\"onClick\"in l&&delete l.onClick),T({ourProps:a,theirProps:l,slot:t.slot||{},defaultTag:h,name:t.name||\"Label\"})});export{F as Label,M as useLabels};\n","import l,{Fragment as H,createContext as G,useContext as K,useMemo as S,useRef as M,useState as x,useEffect as U}from\"react\";import{forwardRefWithAs as _,render as w,compact as F}from'../../utils/render.js';import{useId as I}from'../../hooks/use-id.js';import{Keys as P}from'../keyboard.js';import{isDisabledReactIssue7711 as B}from'../../utils/bugs.js';import{Label as O,useLabels as W}from'../label/label.js';import{Description as j,useDescriptions as N}from'../description/description.js';import{useResolveButtonType as $}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as q}from'../../hooks/use-sync-refs.js';import{Hidden as z,Features as J}from'../../internal/hidden.js';import{attemptSubmit as Q}from'../../utils/form.js';import{useEvent as f}from'../../hooks/use-event.js';import{useControllable as V}from'../../hooks/use-controllable.js';import{useDisposables as X}from'../../hooks/use-disposables.js';let b=G(null);b.displayName=\"GroupContext\";let Y=H;function Z(y){let[t,a]=x(null),[s,m]=W(),[c,o]=N(),p=S(()=>({switch:t,setSwitch:a,labelledby:s,describedby:c}),[t,a,s,c]),d={},h=y;return l.createElement(o,{name:\"Switch.Description\"},l.createElement(m,{name:\"Switch.Label\",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},l.createElement(b.Provider,{value:p},w({ourProps:d,theirProps:h,defaultTag:Y,name:\"Switch.Group\"}))))}let ee=\"button\",te=_(function(t,a){let s=I(),{id:m=`headlessui-switch-${s}`,checked:c,defaultChecked:o=!1,onChange:p,name:d,value:h,...v}=t,r=K(b),u=M(null),k=q(u,a,r===null?null:r.setSwitch),[n,i]=V(c,p,o),T=f(()=>i==null?void 0:i(!n)),g=f(e=>{if(B(e.currentTarget))return e.preventDefault();e.preventDefault(),T()}),C=f(e=>{e.key===P.Space?(e.preventDefault(),T()):e.key===P.Enter&&Q(e.currentTarget)}),D=f(e=>e.preventDefault()),L=S(()=>({checked:n}),[n]),R={id:m,ref:k,role:\"switch\",type:$(t,u),tabIndex:0,\"aria-checked\":n,\"aria-labelledby\":r==null?void 0:r.labelledby,\"aria-describedby\":r==null?void 0:r.describedby,onClick:g,onKeyUp:C,onKeyPress:D},A=X();return U(()=>{var E;let e=(E=u.current)==null?void 0:E.closest(\"form\");!e||o!==void 0&&A.addEventListener(e,\"reset\",()=>{i(o)})},[u,i]),l.createElement(l.Fragment,null,d!=null&&n&&l.createElement(z,{features:J.Hidden,...F({as:\"input\",type:\"checkbox\",hidden:!0,readOnly:!0,checked:n,name:d,value:h})}),w({ourProps:R,theirProps:v,slot:L,defaultTag:ee,name:\"Switch\"}))}),Pe=Object.assign(te,{Group:Z,Label:O,Description:j});export{Pe as Switch};\n","import{useRef as o,useState as f}from\"react\";import{useEvent as a}from'./use-event.js';function T(l,r,c){let[i,s]=f(c),e=l!==void 0,t=o(e),u=o(!1),d=o(!1);return e&&!t.current&&!u.current?(u.current=!0,t.current=e,console.error(\"A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.\")):!e&&t.current&&!d.current&&(d.current=!0,t.current=e,console.error(\"A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.\")),[e?l:i,a(n=>(e||s(n),r==null?void 0:r(n)))]}export{T as useControllable};\n","function e(n={},r=null,t=[]){for(let[i,o]of Object.entries(n))f(t,s(r,i),o);return t}function s(n,r){return n?n+\"[\"+r+\"]\":r}function f(n,r,t){if(Array.isArray(t))for(let[i,o]of t.entries())f(n,s(r,i.toString()),o);else t instanceof Date?n.push([r,t.toISOString()]):typeof t==\"boolean\"?n.push([r,t?\"1\":\"0\"]):typeof t==\"string\"?n.push([r,t]):typeof t==\"number\"?n.push([r,`${t}`]):t==null?n.push([r,\"\"]):e(t,r,n)}function p(n){var t;let r=(t=n==null?void 0:n.form)!=null?t:n.closest(\"form\");if(!!r){for(let i of r.elements)if(i.tagName===\"INPUT\"&&i.type===\"submit\"||i.tagName===\"BUTTON\"&&i.type===\"submit\"||i.nodeName===\"INPUT\"&&i.type===\"image\"){i.click();return}}}export{p as attemptSubmit,e as objectToFormEntries};\n"],"names":["React","__webpack_require__","ForwardRef","forwardRef","title","titleId","props","svgRef","createElement","Object","assign","xmlns","viewBox","fill","ref","id","fillRule","d","clipRule","module","exports","strokeWidth","stroke","strokeLinecap","strokeLinejoin","AreaChart","_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__","Z","key","ChevronLeft","Monitor","width","height","x","y","rx","x1","x2","y1","y2","Move3d","Video","ry","WandSparkles","Promise","resolve","then","bind","useLocalPathname","usePathname","pathname","replace","useIsRouteActive","useCallback","startsWith","href","routes","name","current","icon","Wand2","Move3D","useNavigation","isRouteActive","prevActive","result","forEach","n","i","length","push","Redirecter","router","useRouter","hasLastPrinterSettings","children","t","l","useSteps","onStepChange","currentStepIndex","_setCurrentStepIndex","useState","step","isNaN","steps","currentStep","currentStepRef","useRef","setCurrentStepIndex","stepIndex","useEffect","hasNextScreen","hasPreviousScreen","incrementStep","csi","decrementStep","partialScreenProps","extraScreenProps","parentScreenProps","nextScreen","undefined","previousScreen","skipSteps","description","screenProps","VerticalSteps","jsx_runtime","jsx","nav","aria-label","ol","role","className","map","stepIdx","li","twJoin","jsxs","Fragment","div","aria-hidden","span","onClick","Check","twMerge","canBeSkippedTo","aria-current","ChevronRight","createLucideIcon","ChevronsRight","StepNavButtons","leftIcon","left","isLoading","Spinner","noMargin","Button","variant","disabled","label","rightIcon","right","skip","inTitle","HardwareSelection","partialPrinterConfiguration","serializedPrinterConfiguration","advancedSteppers","setAdvancedSteppers","selectedControllerFan","selectedBoard","selectedPrinter","performanceMode","setPerformanceMode","stealthchop","setStealthchop","standstillStealth","setStandstillStealth","selectedPrinterRails","setSelectedControllerFan","setControllerFan","parsedPrinterConfiguration","usePrinterConfiguration","errors","formattedErrors","success","error","format","railErrors","rails","rail","ri","railError","PrinterAxis","extruder","extruder1","includes","axis","motorSlot","concat","toUpperCase","_errors","flatten","formErrors","message","some","e","path","h3","p","AnimatedContainer","ErrorMessage","AnimatePresence","motion","exit","opacity","scale","initial","animate","toolheads","th","fallback","ToolheadSettings","toolOrAxis","DropdownWithPrinterQuery","query","vars","config","help","fanHelp","onSelect","value","Toggle","onLabel","onChange","speedLimits","performance","LayoutGroup","defaultRail","defaults","find","r","errorCount","keys","reduce","acc","keyErrors","count","Array","isArray","PrinterRailSettings","printerRail","printerRailDefault","deserializePrinterRailDefinition","isVisible","MutationStatus","mutation","isError","isIdle","isPaused","InfoMessage","Banner","color","Icon","InformationCircleIcon","DFUFlash","data","dfuDetected","trpc","mcu","dfuDetect","useQuery","boardPath","board","toolhead","serialize","refetchInterval","flashDfuMutation","dfuFlash","useMutation","onSuccess","isFlashing","setIsFlashing","startFlash","mutate","onSettled","dfuError","boardPathUri","encodeURIComponent","instructions","dfu","index","jumperReminder","hasBoot0Jumper","h4","img","src","alt","Sunset","SDCardFlashing","compile","shutdownModalVisible","setShutdownModalVisible","moonrakerQuery","isReady","useMoonraker","isFirmwareReady","setIsFirmwareReady","onError","shutdownMutation","mutationFn","reject","compileButton","PlayIcon","manufacturer","ArrowDownTrayIcon","Modal","body","content","buttonLabel","onClose","setTimeout","ToyBrick","MemoryStick","FileQuestion","MCUFlashing","selectedBoardToFlash","unidentifiedBoards","forceReflash","setForceReflash","flashStrategy","setFlashStrategy","flashPath","setFlashPath","selectedControlboard","selectedToolboard","boardDetected","detect","enabled","unidentifiedDevices","boardVersion","refetchOnWindowFocus","refetchOnMount","refetchOnReconnect","klipperVersion","flashViaPath","reflash","remove","rightButton","leftButton","onFlashViaPath","ArrowPathIcon","isFetching","dfuReminder","reminder","versionMismatch","WarningMessage","CheckCircleIcon","dfuStrategyEnabled","sdCardStrategyEnabled","isToolboard","pathStrategyEnabled","flashScript","unidentifiedPathStrategyEnabled","Card","CardHeader","CardTitle","CardDescription","CardContent","sdCard","Badge","Zap","unidentifiedPath","dropdownItems","ub","he","RegisterOption","UnregisterOption","ke","options","element","propsRef","focus_management","z2","slice","findIndex","c","splice","$","react","createContext","displayName","V","Fe","match","E","type","Ce","render","yV","use_id","M","D","defaultValue","O","I","by","G","h","U","T","use_event","z","k","F","useReducer","a","N","b","m","L","f","C","W","use_sync_refs","use_controllable","q","s","useMemo","u","o","use_tree_walker","B","container","accept","getAttribute","NodeFilter","FILTER_REJECT","hasAttribute","FILTER_SKIP","FILTER_ACCEPT","walk","setAttribute","K","owner","filter","keyboard","R","Enter","utils_form","g","currentTarget","ArrowLeft","ArrowUp","preventDefault","stopPropagation","jA","TO","Previous","WrapAround","fE","Success","j","activeElement","ArrowRight","ArrowDown","Next","Space","w","firstOption","containsCheckedOption","compare","S","registerOption","change","le","_","pe","use_disposables","addEventListener","Provider","internal_hidden","features","A","Hidden","closest","oA","as","checked","hidden","readOnly","sY","ourProps","onKeyDown","theirProps","slot","defaultTag","xe","Empty","Active","ut","Option","addFlag","removeFlag","hasFlag","use_flags_b","Boolean","toggleFlag","use_latest_value","ne","useContext","Error","captureStackTrace","ie","use_iso_morphic_effect","bugs","P","focus","tabIndex","onFocus","onBlur","active","Label","Description","CardSelector","selected","setSelected","_onSelect","card","RadioGroup","cards","param","details","categorizeList","list","categorizer","categorizedList","category","item","SearchX","cx","cy","Search","MCUPicker","setSelectedBoard","globalFilter","setGlobalFilter","isToolboardRequired","controlboard","driverCount","driverCountRequired","isBoardDetected","detected","categorizedCards","trim","filterVal","toLowerCase","boardSearchStrings","driverVoltages","v","toString","integratedDrivers","values","disableAutoFlash","split","every","fv","sort","_this","skipButton","getMotionAxis","Input","placeholder","event","target","containerClassName","Usb","ZapOff","MCUSteps","getToolCommand","getDescription","renderScreen","MCUPreparation","boardsQuery","_controlBoard","_setControlboard","setToolhead","useToolheadConfiguration","boards","boardFilters","keepPreviousData","getToolboard","boardDescription","entries","deserializeDriver","val","driver","countedDrivers","join","voltages","boardImgUri","boardImageFileName","size","Image","getConfig","toolboard","newBoard","Toolboard","parse","Board","QueryStatus","CardSelectorWithOptions","selectedOption","setSelectedOption","selectedRef","parent","useAutoAnimate","optionValue","onSelectOption","option","badgeBackgroundColorStyle","badgeBorderColorStyle","badgeTextColorStyle","ShowWhenReady","queryErrors","showErrors","ShieldCheck","PrinterSelection","selectedCard","printerQuery","pendingSelection","printer","printers","boardQuery","lastSavedSettingsQuery","getSavedConfig","useRecoilValue","LoadablePrinterState","selectedPrinterOption","PrinterSizeState","releaseDate","localeCompare","printerImgUri","sizes","volume","unofficialPrinters","selectedPrinterOptionFromCard","onSelectPrinter","useRecoilCallback","set","reset","snapshot","merge","getLogger","oldPrinter","getPromise","PrinterState","oldToolheads","PrinterToolheadsState","PrinterToolheadState","toolNumber","ToolheadHelper","getTool","PerformanceModeState","StealthchopState","StandstillStealthState","ControllerFanState","PrinterRailsState","defaultBoard","ControlboardState","controllerFan","isModalVisible","setIsModalVisible","beforeSelectPrinter","isFetched","secondButtonLabel","onClickSecondButton","SignalZero","SignalLow","SignalMedium","SignalHigh","Signal","parseSignal","dBm","signalIcon","hostnameInput","object","hostname","string","min","regex","joinInput","ssid","max","passphrase","frequencies","country","optional","boolean","EyeOff","Eye","WifiSetup","passwordValidation","selectedNetwork","timeoutRef","isScanning","setIsScanning","apList","setApList","setSelectedNetwork","password","setPassword","setHostname","hostnameCompleted","setHostnameCompleted","showHidden","setShowHidden","overrideSSID","setOverrideSSID","wifi","scan","state","retry","hostnameMutation","wifiMutation","clearTimeout","newList","ap","address","Math","abs","frequency","hostnameValidation","safeParse","signal","round","onSelectCard","connectToWifi","rebootMutation","reboot","rebootAndClose","mutateAsync","window","close","confirmHostname","isSuccess","TextInput","issues","fieldErrors","security","toLocaleUpperCase","subtext","pop","org","J","Open","Closed","Q","ToggleDisclosure","CloseDisclosure","SetButtonId","SetPanelId","LinkPanel","UnlinkPanel","disclosure_V","disclosureState","linkedPanel","buttonId","panelId","H","Y","ee","defaultOpen","buttonRef","panelRef","HTMLElement","getElementById","open","open_closed","up","ZM","disclosure_ne","use_resolve_button_type","onKeyUp","re","AN","RenderStrategy","Static","disclosure_Le","Panel","oJ","visible","CompletionSteps","ConfirmConfig","ProceedToMainsail","ConfirmToolhead","toolboardDetected","ignoreEndstopWarning","setIgnoreEndstopWarning","setToolboardEndstop","printerConfig","PrinterConfigurationState","toolboardEndstop","xEndstopOptions","xEndstop","dl","hasWarnings","alternativePT1000Resistor","getThermistor","Disclosure","button","ChevronRightIcon","dt","dd","hotend","thermistor","badge","yEndstop","probe","partFan","hotendFan","xAccelerometer","yAccelerometer","filesToWrite","motionErrors","serializePrinterConfiguration","filesToOverwrite","setFilesToOverwrite","filesToIgnore","setFilesToIgnore","controlboardDetected","saveConfigurationMutation","saveConfiguration","overwriteFiles","skipFiles","scrollTo","client","useUtils","queryKey","queryFn","res","getFilesToWrite","requiresExplicitFileActions","changedFromConfig","overwrite","fileName","field","motorSlots","hasDiagPin","diag_pin","isSensorless","tool","voltage","stepper","microstepping","FileChanges","serializedConfig","onFilesToIgnoreChange","onFilesToOverwriteChange","ul","rel","location","WizardComplete","makeSteps","isConfigValid","nextIndex","getNextIndex","padStart","toLocaleLowerCase","LoadScreen","SetupSteps","searchParams","useSearchParams","ths","LoadablePrinterToolheadsState","uriStep","get","parseInt","defaultStep","hasWifiInterface","isConnectedToWifi","Wizard","version","ip","ipAddress","PrinterConnectionHeader","Drawer","shouldScaleBackground","DrawerPrimitive","Root","DrawerTrigger","Trigger","DrawerPortal","Portal","DrawerClose","Close","DrawerOverlay","Overlay","cn","setDisplayName","DrawerContent","Content","DrawerHeader","DrawerFooter","DrawerTitle","Title","DrawerDescription","setOpen","isCompletingClick","setIsCompletingClick","onButtonClick","clickRes","toast","_onClickSecondButton","onDialogClose","Cross","isDesktop","useMediaQuery","mediaQueryList","matchMedia","matches","setMatches","handleChange","removeEventListener","Dialog","onOpenChange","DialogTrigger","asChild","DialogContent","wide","DialogHeader","DialogTitle","DialogDescription","buttonVariant","secondButtonVariant","dismissVariant","dismissText","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","Switch","Group","passive","setErrors","setToolheadField","updated","getChangeSet","ret","getHotend","stringToTitleObject","Dropdown","getNozzle","nozzle","Nozzle","shape","Values","diameter","parseFloat","inputMode","getExtruder","canClear","getProbe","getXEndstop","getYEndstop","getPartFan","getHotendFan","getXAccelerometer","getYAccelerometer","ExclamationCircleIcon","react__WEBPACK_IMPORTED_MODULE_0__","_hooks_use_event_js__WEBPACK_IMPORTED_MODULE_1__","indexOf","register","_utils_render_js__WEBPACK_IMPORTED_MODULE_2__","_hooks_use_id_js__WEBPACK_IMPORTED_MODULE_3__","_hooks_use_sync_refs_js__WEBPACK_IMPORTED_MODULE_4__","_hooks_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_5__","Pe","_utils_render_js__WEBPACK_IMPORTED_MODULE_3__","_hooks_use_id_js__WEBPACK_IMPORTED_MODULE_4__","defaultChecked","_hooks_use_sync_refs_js__WEBPACK_IMPORTED_MODULE_5__","setSwitch","_hooks_use_controllable_js__WEBPACK_IMPORTED_MODULE_6__","_hooks_use_event_js__WEBPACK_IMPORTED_MODULE_7__","_utils_bugs_js__WEBPACK_IMPORTED_MODULE_8__","_keyboard_js__WEBPACK_IMPORTED_MODULE_9__","_utils_form_js__WEBPACK_IMPORTED_MODULE_10__","_hooks_use_resolve_button_type_js__WEBPACK_IMPORTED_MODULE_11__","labelledby","describedby","onKeyPress","_hooks_use_disposables_js__WEBPACK_IMPORTED_MODULE_12__","_internal_hidden_js__WEBPACK_IMPORTED_MODULE_13__","_label_label_js__WEBPACK_IMPORTED_MODULE_1__","_description_description_js__WEBPACK_IMPORTED_MODULE_2__","switch","click","preventScroll","console","_use_event_js__WEBPACK_IMPORTED_MODULE_1__","form","elements","tagName","nodeName","Date","toISOString"],"sourceRoot":""}