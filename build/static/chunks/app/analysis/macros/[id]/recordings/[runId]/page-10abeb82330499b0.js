(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2601],{74755:function(e,r,s){"use strict";s.d(r,{Z:function(){return i}});var n=s(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},96737:function(e,r,s){Promise.resolve().then(s.bind(s,18562)),Promise.resolve().then(s.bind(s,69009))},18562:function(e,r,s){"use strict";s.r(r),s.d(r,{MacroRun:function(){return MacroRun}});var n=s(26248),i=s(61518),t=s(72579),a=s(49738),o=s(97134),l=s(93637),c=s(69590),d=s(86736),u=s.n(d);o.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let MacroRunChart=e=>{let{recordings:r,sequences:s}=e,d=r.map(e=>{var r;let n=s.find(r=>r.id===e.sequenceId);return(null==n?void 0:n.recording)?{color:null==n?void 0:null===(r=n.recording)||void 0===r?void 0:r.color,name:e.name,psd:e.psd.total}:null}).filter(Boolean),f=(0,a.useRef)(d),p=(0,a.useCallback)(e=>{let r=!1;if(2===d.length){r=!0;for(let e=0;e<d[0].psd.frequencies.length;e++)Math.abs(d[0].psd.frequencies[e]-d[1].psd.frequencies[e])>1&&(r=!1)}if(r){var s,n,t,a,c,u;let r=new o.FastBandRenderableSeries(e.webAssemblyContext2D,{dataSeries:new o.XyyDataSeries(e.webAssemblyContext2D,{containsNaN:!1,isSorted:!0,xValues:d[0].psd.frequencies,yValues:d[0].psd.estimates,y1Values:d[1].psd.estimates}),fill:l.DN[null!==(s=d[1].color)&&void 0!==s?s:"sky"][600]+22,fillY1:l.DN[null!==(n=d[0].color)&&void 0!==n?n:"rose"][600]+22,stroke:l.DN[null!==(t=d[0].color)&&void 0!==t?t:"rose"][400],strokeY1:l.DN[null!==(a=d[1].color)&&void 0!==a?a:"sky"][400],strokeThickness:3,yAxisId:i.ck});r.rolloverModifierProps.tooltipColor=null!==(c=d[0].color)&&void 0!==c?c:"zinc",r.rolloverModifierProps.tooltipTitle=d[0].name+" Power",r.rolloverModifierProps1.tooltipColor=null!==(u=d[1].color)&&void 0!==u?u:"zinc",r.rolloverModifierProps1.tooltipTitle=d[1].name+" Power",r.animation=new o.WaveAnimation({duration:500,pointDurationFraction:1}),e.renderableSeries.add(r)}else d.forEach(r=>{var s,n;let t=new o.FastLineRenderableSeries(e.webAssemblyContext2D,{dataSeries:new o.XyDataSeries(e.webAssemblyContext2D,{containsNaN:!1,isSorted:!0,xValues:r.psd.frequencies,yValues:r.psd.estimates}),stroke:l.DN[null!==(s=r.color)&&void 0!==s?s:"brand"][400],strokeThickness:3,yAxisId:i.ck});t.rolloverModifierProps.tooltipColor=null!==(n=r.color)&&void 0!==n?n:"zinc",t.rolloverModifierProps.tooltipTitle=r.name+" Power",t.animation=new o.WaveAnimation({duration:500,pointDurationFraction:1}),e.renderableSeries.add(t)});let f=e.yAxes.getById(i.ck);f&&(f.visibleRange=new o.NumberRange(Math.min(...d.map(e=>e.psd.powerRange.min)),Math.max(...d.map(e=>e.psd.powerRange.max))).growBy(new o.NumberRange(0,.1))),e.chartModifiers.add(new o.RolloverModifier({showRolloverLine:!0,showTooltip:!1,yAxisId:i.ck})),e.chartModifiers.add(new o.CursorModifier({crosshairStroke:l.DN.sky[400],crosshairStrokeThickness:1,showXLine:!0,showYLine:!0,tooltipLegendTemplate:i.to,tooltipLegendOffsetX:16,tooltipLegendOffsetY:16,yAxisId:i.ck,showTooltip:!1,axisLabelFill:l.DN.zinc[900],axisLabelStroke:l.DN.zinc[100]}))},[d]),h=(0,t.Q8)(i.OH,p),m=(0,a.useCallback)(e=>{if(null!=h.surface.current){if(0===f.current.length){p(h.surface.current);return}if(e.length===f.current.length){e.forEach((r,s)=>{var n,t,a,c,d;let u=null===(n=h.surface.current)||void 0===n?void 0:n.renderableSeries.get(s);if(u){if(null==h.surface.current)throw Error("Missing chart surface");let n=u.dataSeries.count();if((0,i.jh)(u.dataSeries)){let i=e[s+1];if(n>r.psd.frequencies.length){let e=Array(n-r.psd.frequencies.length).fill(0),s=Array(n-r.psd.estimates.length).fill(0);r.psd.frequencies.unshift(...e),r.psd.estimates.unshift(...s),i.psd.frequencies.unshift(...e),i.psd.estimates.unshift(...s)}n<r.psd.frequencies.length&&(r.psd.frequencies=r.psd.frequencies.slice(0,n),r.psd.estimates=r.psd.estimates.slice(0,n),i.psd.frequencies=i.psd.frequencies.slice(0,n),i.psd.estimates=i.psd.estimates.slice(0,n));let l=new o.XyyDataSeries(h.surface.current.webAssemblyContext2D,{containsNaN:!1,isSorted:!0});l.appendRange(r.psd.frequencies,r.psd.estimates,i.psd.estimates),h.surface.current.addDeletable(l),u.rolloverModifierProps.tooltipColor=null!==(t=r.color)&&void 0!==t?t:"zinc",u.rolloverModifierProps.tooltipTitle=r.name+" Power",u.rolloverModifierProps1.tooltipColor=null!==(a=i.color)&&void 0!==a?a:"zinc",u.rolloverModifierProps1.tooltipTitle=i.name+" Power",u.runAnimation(new o.BandAnimation({duration:500,ease:o.easing.inOutCirc,dataSeries:l}))}if((0,i.Mg)(u.dataSeries)){if(n>r.psd.frequencies.length){let e=Array(n-r.psd.frequencies.length).fill(0),s=Array(n-r.psd.estimates.length).fill(0);r.psd.frequencies.unshift(...e),r.psd.estimates.unshift(...s)}n<r.psd.frequencies.length&&(r.psd.frequencies=r.psd.frequencies.slice(0,n),r.psd.estimates=r.psd.estimates.slice(0,n));let e=new o.XyDataSeries(h.surface.current.webAssemblyContext2D,{containsNaN:!1,isSorted:!0});e.appendRange(r.psd.frequencies,r.psd.estimates),h.surface.current.addDeletable(e),u.rolloverModifierProps.tooltipColor=null!==(c=r.color)&&void 0!==c?c:"zinc",u.rolloverModifierProps.tooltipTitle=r.name+" Power",u.runAnimation(new o.LineAnimation({duration:500,ease:o.easing.inOutCirc,dataSeries:e,styles:{stroke:l.DN[null!==(d=r.color)&&void 0!==d?d:"brand"][400]}}))}}});return}if(e.length!==f.current.length){f.current.forEach((e,r)=>{var s,n;let t=null===(s=h.surface.current)||void 0===s?void 0:s.renderableSeries.get(r);if(t){if(null==h.surface.current)throw Error("Missing chart surface");let s=t.dataSeries.count();if((0,i.jh)(t.dataSeries)){let e=new o.XyyDataSeries(h.surface.current.webAssemblyContext2D,{containsNaN:!1,isSorted:!0});e.appendRange(f.current[r].psd.frequencies,Array(s).fill(0),Array(s).fill(0)),h.surface.current.addDeletable(e),t.runAnimation(new o.BandAnimation({duration:500,ease:o.easing.inOutCirc,dataSeries:e}))}if((0,i.Mg)(t.dataSeries)){let i=new o.XyDataSeries(h.surface.current.webAssemblyContext2D,{containsNaN:!1,isSorted:!0});i.appendRange(f.current[r].psd.frequencies,Array(s).fill(0)),h.surface.current.addDeletable(i),t.runAnimation(new o.LineAnimation({duration:500,ease:o.easing.inOutCirc,dataSeries:i,styles:{stroke:l.DN[null!==(n=e.color)&&void 0!==n?n:"brand"][400]}}))}}}),setTimeout(()=>{if(h.surface.current){var e,r;null===(e=h.surface.current)||void 0===e||e.renderableSeries.clear(),null===(r=h.surface.current)||void 0===r||r.chartModifiers.clear(),p(h.surface.current),h.surface.current.invalidateElement()}},500);return}}},[h.surface,p]);return(0,a.useEffect)(()=>{0!=d.length&&!1===u()(d,f.current)&&(h.surface.current&&m(d),f.current=d)},[h.surface,d,p,m]),(0,n.jsx)(c.iB,{...h.forwardProps,className:"flex-1 bg-zinc-900/50"})};var f=s(79008),p=s(64918),h=s(74755),m=s(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,m.Z)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),b=(0,m.Z)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);var v=s(50962);let MacroRun=e=>{let{id:r,runId:s}=e,[i,t]=(0,a.useState)(s),[o]=p.SX.analysis.findMacro.useSuspenseQuery({id:r}),[l]=p.SX.analysis.getRunRecordings.useSuspenseQuery({runId:i,macroId:r},{keepPreviousData:!0}),[{next:c,previous:d}]=p.SX.analysis.getNextAndPreviousRunRecordingIds.useSuspenseQuery({macroId:r,runId:i},{keepPreviousData:!0});return(0,f.Ty)("Analysis",(0,a.useCallback)(e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.MenubarMenu,{children:[(0,n.jsx)(e.MenubarTrigger,{className:"cursor-pointer",asChild:!0,children:(0,n.jsxs)("span",{onClick:()=>window.history.back(),children:[(0,n.jsx)(e.MenubarIcon,{Icon:h.Z}),(0,n.jsx)("span",{className:"hidden lg:inline",children:"Back"})]})}),(0,n.jsx)(e.MenubarContent,{className:"hidden"})]}),(0,n.jsxs)(e.MenubarMenu,{children:[(0,n.jsx)(e.MenubarTrigger,{className:(0,v.d)(d?"cursor-pointer":"cursor-not-allowed"),asChild:!0,disabled:null==d,children:(0,n.jsxs)("span",{onClick:()=>null!=d&&t(d),children:[(0,n.jsx)(e.MenubarIcon,{Icon:g}),(0,n.jsx)("span",{className:"hidden lg:inline",children:"Previous recording"})]})}),(0,n.jsx)(e.MenubarContent,{className:"hidden"})]}),(0,n.jsxs)(e.MenubarMenu,{children:[(0,n.jsx)(e.MenubarTrigger,{className:(0,v.d)(c?"cursor-pointer":"cursor-not-allowed"),asChild:!0,disabled:null==c,children:(0,n.jsxs)("span",{onClick:()=>null!=c&&t(c),children:[(0,n.jsx)(e.MenubarIcon,{Icon:b}),(0,n.jsx)("span",{className:"hidden lg:inline",children:"Next recording"})]})}),(0,n.jsx)(e.MenubarContent,{className:"hidden"})]})]}),[c,d])),(0,n.jsx)(MacroRunChart,{sequences:o.sequences,recordings:l.result})}}},function(e){e.O(0,[6545,4565,1691,6357,4962,9806,4998,6006,5325,7190,5956,1526,3655,3587,8227,9157,3857,8055,9607,5670,7705,9008,7370,7399,8625,1744],function(){return e(e.s=96737)}),_N_E=e.O()}]);
//# sourceMappingURL=page-10abeb82330499b0.js.map