(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2601],{16347:function(){},96737:function(e,r,o){Promise.resolve().then(o.bind(o,9102)),Promise.resolve().then(o.bind(o,69009))},87155:function(e,r,o){"use strict";o.d(r,{j:function(){return getLogger}});var n=o(74958),i=o.n(n);let s={timestamp:!0};var t=o(29565),a=o(94594);let l=a.z.enum(["trace","debug","info","warn","error","fatal"]),c=a.z.object({ts:a.z.number(),messages:a.z.array(a.z.any()),bindings:a.z.array(a.z.record(a.z.string(),a.z.any())),level:a.z.object({label:l,value:a.z.number()})});var u=o(82189);let send=async function(e,r){t.u.clientLog.mutate({level:e,logEvent:c.parse(r)})},d=null,getLogger=()=>null!=d?d:d=i()({...s,browser:{asObject:!0,serialize:!0,transmit:{send},write:u.write}})},9102:function(e,r,o){"use strict";o.r(r),o.d(r,{MacroRun:function(){return MacroRun}});var n=o(26248),i=o(61518),s=o(72579),t=o(49738),a=o(97134),l=o(93637),c=o(69590),u=o(86736),d=o.n(u);a.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let MacroRunChart=e=>{let{recordings:r,sequences:o}=e,u=r.map(e=>{var r;let n=o.find(r=>r.id===e.sequenceId);return(null==n?void 0:n.recording)?{color:null==n?void 0:null===(r=n.recording)||void 0===r?void 0:r.color,name:e.name,psd:e.psd.total}:null}).filter(Boolean),f=(0,t.useRef)(u),p=(0,t.useCallback)(e=>{let r=!1;if(2===u.length){r=!0;for(let e=0;e<u[0].psd.frequencies.length;e++)Math.abs(u[0].psd.frequencies[e]-u[1].psd.frequencies[e])>1&&(r=!1)}if(r){var o,n,s,t,c,d;let r=new a.FastBandRenderableSeries(e.webAssemblyContext2D,{dataSeries:new a.XyyDataSeries(e.webAssemblyContext2D,{containsNaN:!1,isSorted:!0,xValues:u[0].psd.frequencies,yValues:u[0].psd.estimates,y1Values:u[1].psd.estimates}),fill:l.DN[null!==(o=u[1].color)&&void 0!==o?o:"sky"][600]+22,fillY1:l.DN[null!==(n=u[0].color)&&void 0!==n?n:"rose"][600]+22,stroke:l.DN[null!==(s=u[0].color)&&void 0!==s?s:"rose"][400],strokeY1:l.DN[null!==(t=u[1].color)&&void 0!==t?t:"sky"][400],strokeThickness:3,yAxisId:i.ck});r.rolloverModifierProps.tooltipColor=null!==(c=u[0].color)&&void 0!==c?c:"zinc",r.rolloverModifierProps.tooltipTitle=u[0].name+" Power",r.rolloverModifierProps1.tooltipColor=null!==(d=u[1].color)&&void 0!==d?d:"zinc",r.rolloverModifierProps1.tooltipTitle=u[1].name+" Power",r.animation=new a.WaveAnimation({duration:500}),e.renderableSeries.add(r)}else u.forEach(r=>{var o,n;let s=new a.FastLineRenderableSeries(e.webAssemblyContext2D,{dataSeries:new a.XyDataSeries(e.webAssemblyContext2D,{containsNaN:!1,isSorted:!0,xValues:r.psd.frequencies,yValues:r.psd.estimates}),stroke:l.DN[null!==(o=r.color)&&void 0!==o?o:"brand"][400],strokeThickness:3,yAxisId:i.ck});s.rolloverModifierProps.tooltipColor=null!==(n=r.color)&&void 0!==n?n:"zinc",s.rolloverModifierProps.tooltipTitle=r.name+" Power",s.animation=new a.WaveAnimation({duration:500}),e.renderableSeries.add(s)});let f=e.yAxes.getById(i.ck);f&&(f.visibleRange=new a.NumberRange(Math.min(...u.map(e=>e.psd.powerRange.min)),Math.max(...u.map(e=>e.psd.powerRange.max))).growBy(new a.NumberRange(0,.1))),e.chartModifiers.add(new a.RolloverModifier({showRolloverLine:!0,showTooltip:!1,yAxisId:i.ck})),e.chartModifiers.add(new a.CursorModifier({crosshairStroke:l.DN.sky[400],crosshairStrokeThickness:1,showXLine:!0,showYLine:!0,tooltipLegendTemplate:i.to,tooltipLegendOffsetX:16,tooltipLegendOffsetY:16,yAxisId:i.ck,showTooltip:!1,axisLabelFill:l.DN.zinc[900],axisLabelStroke:l.DN.zinc[100]}))},[u]),m=(0,s.Q8)(i.GB,p);return(0,t.useEffect)(()=>{if(0!=u.length&&!1===d()(u,f.current)){if(m.surface.current){var e,r;null===(e=m.surface.current)||void 0===e||e.renderableSeries.clear(),null===(r=m.surface.current)||void 0===r||r.chartModifiers.clear(),p(m.surface.current),m.surface.current.invalidateElement()}f.current=u}},[m.surface,u,p]),(0,n.jsx)(c.iB,{...m.forwardProps,className:"flex-1 bg-zinc-900/50"})};var f=o(64918);let MacroRun=e=>{let{id:r,runId:o}=e,[i]=f.SX.analysis.findMacro.useSuspenseQuery({id:r}),[s]=f.SX.analysis.getRunRecordings.useSuspenseQuery({runId:o,macroId:r});return(0,n.jsx)(MacroRunChart,{sequences:i.sequences,recordings:s})}},29565:function(e,r,o){"use strict";o.d(r,{S:function(){return n.SX},u:function(){return n.uF}});var n=o(64918)}},function(e){e.O(0,[1691,6357,4962,9806,4998,2584,4838,1441,5956,9607,5670,7370,7399,8625,1744],function(){return e(e.s=96737)}),_N_E=e.O()}]);
//# sourceMappingURL=page-351c4d084e4fdda7.js.map