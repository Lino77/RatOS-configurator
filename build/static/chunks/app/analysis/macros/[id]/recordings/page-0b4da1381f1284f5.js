(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5795],{53522:function(e,a,l){Promise.resolve().then(l.bind(l,63140)),Promise.resolve().then(l.bind(l,69009))},63140:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return MacroRecordings},metadata:function(){return x}});var o=l(26248),t=l(7053),r=l(33202),i=l(73323),n=l(61543),s=l(44655),c=l(62214);l(49738);var d=l(41087),m=l(95505),u=l(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,u.Z)("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]);function MacroRecordingDataTableRowActions(e){let{row:a}=e;return(0,o.jsxs)(m.z,{variant:"indeterminate",size:"sm",className:"flex-grow-0 data-[state=open]:bg-muted",href:"/analysis/macros/".concat(a.original.macroId,"/recordings/").concat(a.original.macroRecordingRunId),children:[(0,o.jsx)(g,{className:"h-4 w-4"}),"View Graph"]})}d.Zr.defaultLocale="en-GB";let h=[{id:"select",header:e=>{let{table:a}=e;return(0,o.jsx)(t.X,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>a.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:a}=e;return(0,o.jsx)(t.X,{checked:a.getIsSelected(),onCheckedChange:e=>a.toggleSelected(!!e),"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1},{accessorKey:"macroRecordingRunId",enableGrouping:!0},{id:"date",accessorKey:"startTimeStamp",header:e=>{let{column:a}=e;return(0,o.jsx)(r.p,{column:a,title:"Date"})},cell:e=>{let{row:a}=e,l=d.ou.fromMillis(a.original.startTimeStamp),t=d.ou.fromMillis(a.original.endTimeStamp),r=l.equals(t)?l.toFormat("yyyy-MM-dd HH:mm"):"".concat(l.toFormat("yyyy-MM-dd HH:mm")," - ").concat(t.toFormat("HH:mm")),i=d.ou.fromMillis(a.original.startTimeStamp).toRelative(),n=d.nL.fromMillis(a.original.endTimeStamp-a.original.startTimeStamp).toFormat("hh:mm:ss");return(0,o.jsx)("div",{className:"flex",children:(0,o.jsxs)("span",{title:r,children:[i," (",n,")"]})})},enableSorting:!0,sortingFn:(e,a)=>e.original.startTimeStamp-a.original.startTimeStamp,sortDescFirst:!0},{accessorKey:"name",header:e=>{let{column:a}=e;return(0,o.jsx)(r.p,{column:a,title:"Recording"})},cell:e=>{let{row:a}=e,l=[];switch(a.original.accelerometer){case"controlboard":l.push({label:"Control Board",color:"plain",icon:n});break;case"rpi":l.push({label:"Host",color:"plain",icon:s});break;case"toolboard_t0":l.push({label:"Tool Board T0",color:"plain",icon:c});break;case"toolboard_t1":l.push({label:"Tool Board T1",color:"plain",icon:c})}return(0,o.jsxs)("div",{className:"flex space-x-2",children:[l.map(e=>(0,o.jsx)(i.Ct,{color:e.color,children:e.label},e.label)),(0,o.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:a.getValue("name")})]})},getFacetedOptions:()=>[{label:"Control Board",value:"controlboard",icon:n},{label:"Host",value:"rpi",icon:s},{label:"Tool Board T0",value:"toolboard_t0",icon:c},{label:"Tool Board T1",value:"toolboard_t1",icon:c}]},{id:"actions",header:e=>{let{column:a}=e;return(0,o.jsx)(r.p,{column:a,title:"Actions"})},cell:e=>{let{row:a}=e;return(0,o.jsx)(MacroRecordingDataTableRowActions,{row:a})}}];var p=l(27985),b=l(64918);let x={title:"Macros",description:"User-modifiable macros for resonance analysis"};function MacroRecordings(e){var a;let{id:l}=e,[t]=b.SX.analysis.getRecordings.useSuspenseQuery({macroId:l}),[r]=b.SX.analysis.findMacro.useSuspenseQuery({id:l});return(0,o.jsxs)("div",{className:"hidden h-full flex-1 flex-col space-y-8 p-8 md:flex",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold leading-none tracking-tight",children:["Recordings for ",r.name]}),(0,o.jsxs)("p",{className:"text-base font-medium text-muted-foreground",children:["You have recorded ",t.total," sequence(s) so far."]})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:"Nothing here"})]}),(0,o.jsx)(p.w,{data:null!==(a=t.result)&&void 0!==a?a:[],columns:h,initialGrouping:["macroRecordingRunId"],initialColumnVisibility:{},initialSorting:[{desc:!0,id:"date"}]})]})}}},function(e){e.O(0,[6545,2584,4838,9302,1590,95,9905,5557,4791,3546,1087,8503,6669,2307,7399,8625,1744],function(){return e(e.s=53522)}),_N_E=e.O()}]);
//# sourceMappingURL=page-0b4da1381f1284f5.js.map