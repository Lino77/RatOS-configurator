{"version":3,"file":"static/chunks/app/analysis/macros/[id]/recordings/[runId]/page-faf2c54d0506d4ac.js","mappings":"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","sources":["webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/chevron-left.js","webpack://_N_E/?e06b","webpack://_N_E/./app/analysis/macros/[id]/recordings/[runId]/macro-run-chart.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/skip-back.js","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/skip-forward.js","webpack://_N_E/./app/analysis/macros/[id]/recordings/[runId]/macro-run.tsx","webpack://_N_E/<anon>"],"sourcesContent":["/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"ChevronLeft\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","import(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/macros/[id]/recordings/[runId]/macro-run.tsx\");\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/components/common/no-ssr.tsx\")","'use client';\nimport { macroRecordingSchemaWithoutSourcePSDs, macroSequenceSchema } from '@/zods/analysis';\nimport {\n\tPSDChartNoSeriesDefinition,\n\tPSD_CHART_AXIS_AMPLITUDE_ID,\n\tgetPSDTooltipLegendTemplate,\n\tisXyDataSeries,\n\tisXyyDataSeries,\n} from '@/app/analysis/charts';\nimport { useChart } from '@/app/analysis/hooks';\nimport { z } from 'zod';\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport {\n\tBandAnimation,\n\tCursorModifier,\n\tFastBandRenderableSeries,\n\tFastLineRenderableSeries,\n\tLineAnimation,\n\tNumberRange,\n\tRolloverModifier,\n\tSciChartSurface,\n\tWaveAnimation,\n\tXyDataSeries,\n\tXyyDataSeries,\n\teasing,\n} from 'scichart';\nimport { shadableTWColors } from '@/app/_helpers/colors';\nimport { SciChartReact } from 'scichart-react';\nimport deepEqual from 'deep-equal';\n\nSciChartSurface.configure({\n\twasmUrl: '/configure/scichart2d.wasm',\n\tdataUrl: '/configure/scichart2d.data',\n});\n\ninterface MacroRunChartProps {\n\trecordings: z.infer<typeof macroRecordingSchemaWithoutSourcePSDs>[];\n\tsequences: z.infer<typeof macroSequenceSchema>[];\n}\n\nexport const MacroRunChart: React.FC<MacroRunChartProps> = ({ recordings, sequences }) => {\n\tconst sequenceData = recordings\n\t\t.map((rec) => {\n\t\t\tconst sequence = sequences.find((seq) => seq.id === rec.sequenceId);\n\t\t\treturn sequence?.recording\n\t\t\t\t? {\n\t\t\t\t\t\tcolor: sequence?.recording?.color,\n\t\t\t\t\t\tname: rec.name,\n\t\t\t\t\t\tpsd: rec.psd.total,\n\t\t\t\t\t}\n\t\t\t\t: null;\n\t\t})\n\t\t.filter(Boolean);\n\tconst prevSequenceData = useRef(sequenceData);\n\n\tconst setupChart = useCallback(\n\t\t(surface: SciChartSurface) => {\n\t\t\tlet bandSeries = false;\n\t\t\tif (sequenceData.length === 2) {\n\t\t\t\tbandSeries = true;\n\t\t\t\tfor (let i = 0; i < sequenceData[0].psd.frequencies.length; i++) {\n\t\t\t\t\tif (Math.abs(sequenceData[0].psd.frequencies[i] - sequenceData[1].psd.frequencies[i]) > 1) {\n\t\t\t\t\t\tbandSeries = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (bandSeries) {\n\t\t\t\tconst rs = new FastBandRenderableSeries(surface.webAssemblyContext2D, {\n\t\t\t\t\tdataSeries: new XyyDataSeries(surface.webAssemblyContext2D, {\n\t\t\t\t\t\tcontainsNaN: false,\n\t\t\t\t\t\tisSorted: true,\n\t\t\t\t\t\txValues: sequenceData[0].psd.frequencies,\n\t\t\t\t\t\tyValues: sequenceData[0].psd.estimates,\n\t\t\t\t\t\ty1Values: sequenceData[1].psd.estimates,\n\t\t\t\t\t}),\n\t\t\t\t\tfill: shadableTWColors[(sequenceData[1].color ?? 'sky') as keyof typeof shadableTWColors][600] + 22,\n\t\t\t\t\tfillY1: shadableTWColors[(sequenceData[0].color ?? 'rose') as keyof typeof shadableTWColors][600] + 22,\n\t\t\t\t\tstroke: shadableTWColors[(sequenceData[0].color ?? 'rose') as keyof typeof shadableTWColors][400],\n\t\t\t\t\tstrokeY1: shadableTWColors[(sequenceData[1].color ?? 'sky') as keyof typeof shadableTWColors][400],\n\t\t\t\t\tstrokeThickness: 3,\n\t\t\t\t\tyAxisId: PSD_CHART_AXIS_AMPLITUDE_ID,\n\t\t\t\t});\n\t\t\t\trs.rolloverModifierProps.tooltipColor = sequenceData[0].color ?? 'zinc';\n\t\t\t\trs.rolloverModifierProps.tooltipTitle = sequenceData[0].name + ' Power';\n\t\t\t\trs.rolloverModifierProps1.tooltipColor = sequenceData[1].color ?? 'zinc';\n\t\t\t\trs.rolloverModifierProps1.tooltipTitle = sequenceData[1].name + ' Power';\n\t\t\t\trs.animation = new WaveAnimation({\n\t\t\t\t\tduration: 500,\n\t\t\t\t\tpointDurationFraction: 1,\n\t\t\t\t});\n\t\t\t\tsurface.renderableSeries.add(rs);\n\t\t\t} else {\n\t\t\t\tsequenceData.forEach((seq) => {\n\t\t\t\t\tconst rs = new FastLineRenderableSeries(surface.webAssemblyContext2D, {\n\t\t\t\t\t\tdataSeries: new XyDataSeries(surface.webAssemblyContext2D, {\n\t\t\t\t\t\t\tcontainsNaN: false,\n\t\t\t\t\t\t\tisSorted: true,\n\t\t\t\t\t\t\txValues: seq.psd.frequencies,\n\t\t\t\t\t\t\tyValues: seq.psd.estimates,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tstroke: shadableTWColors[(seq.color ?? 'brand') as keyof typeof shadableTWColors][400],\n\t\t\t\t\t\tstrokeThickness: 3,\n\t\t\t\t\t\tyAxisId: PSD_CHART_AXIS_AMPLITUDE_ID,\n\t\t\t\t\t});\n\t\t\t\t\trs.rolloverModifierProps.tooltipColor = seq.color ?? 'zinc';\n\t\t\t\t\trs.rolloverModifierProps.tooltipTitle = seq.name + ' Power';\n\t\t\t\t\trs.animation = new WaveAnimation({\n\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\tpointDurationFraction: 1,\n\t\t\t\t\t});\n\t\t\t\t\tsurface.renderableSeries.add(rs);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst yAxis = surface.yAxes.getById(PSD_CHART_AXIS_AMPLITUDE_ID);\n\t\t\tif (yAxis) {\n\t\t\t\tyAxis.visibleRange = new NumberRange(\n\t\t\t\t\tMath.min(...sequenceData.map((seq) => seq.psd.powerRange.min)),\n\t\t\t\t\tMath.max(...sequenceData.map((seq) => seq.psd.powerRange.max)),\n\t\t\t\t).growBy(new NumberRange(0.0, 0.1));\n\t\t\t}\n\n\t\t\tsurface.chartModifiers.add(\n\t\t\t\tnew RolloverModifier({\n\t\t\t\t\t// Defines if rollover vertical line is shown\n\t\t\t\t\tshowRolloverLine: true,\n\t\t\t\t\t// Shows the default tooltip\n\t\t\t\t\tshowTooltip: false,\n\t\t\t\t\tyAxisId: PSD_CHART_AXIS_AMPLITUDE_ID,\n\t\t\t\t\t// Optional: Overrides the content of the tooltip\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tsurface.chartModifiers.add(\n\t\t\t\tnew CursorModifier({\n\t\t\t\t\t// Defines if crosshair is shown\n\t\t\t\t\tcrosshairStroke: shadableTWColors.sky[400],\n\t\t\t\t\tcrosshairStrokeThickness: 1,\n\t\t\t\t\tshowXLine: true,\n\t\t\t\t\tshowYLine: true,\n\t\t\t\t\ttooltipLegendTemplate: getPSDTooltipLegendTemplate,\n\t\t\t\t\ttooltipLegendOffsetX: 16,\n\t\t\t\t\ttooltipLegendOffsetY: 16,\n\t\t\t\t\tyAxisId: PSD_CHART_AXIS_AMPLITUDE_ID,\n\t\t\t\t\t// Shows the default tooltip\n\t\t\t\t\tshowTooltip: false,\n\t\t\t\t\taxisLabelFill: shadableTWColors.zinc[900],\n\t\t\t\t\taxisLabelStroke: shadableTWColors.zinc[100],\n\t\t\t\t}),\n\t\t\t);\n\t\t},\n\t\t[sequenceData],\n\t);\n\n\tconst chart = useChart(PSDChartNoSeriesDefinition, setupChart);\n\n\tconst transitionToChart = useCallback(\n\t\t(data: typeof sequenceData) => {\n\t\t\tif (chart.surface.current == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// if no previous sequenceData, run setupChart\n\t\t\tif (prevSequenceData.current.length === 0) {\n\t\t\t\tsetupChart(chart.surface.current);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// If same number of data series, animate style and data\n\t\t\tif (data.length === prevSequenceData.current.length) {\n\t\t\t\tdata.forEach((seq, i) => {\n\t\t\t\t\tconst rs = chart.surface.current?.renderableSeries.get(i);\n\t\t\t\t\tif (rs) {\n\t\t\t\t\t\tif (chart.surface.current == null) {\n\t\t\t\t\t\t\tthrow new Error('Missing chart surface');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst prevCount = rs.dataSeries.count();\n\t\t\t\t\t\tif (isXyyDataSeries(rs.dataSeries)) {\n\t\t\t\t\t\t\t// We're dealing with a band series, which means it's combined with the next sequence as well.\n\t\t\t\t\t\t\tconst nextSeq = data[i + 1];\n\t\t\t\t\t\t\tif (prevCount > seq.psd.frequencies.length) {\n\t\t\t\t\t\t\t\t// Pad new sequence data\n\t\t\t\t\t\t\t\tconst padFreq = new Array(prevCount - seq.psd.frequencies.length).fill(0);\n\t\t\t\t\t\t\t\tconst padEstimates = new Array(prevCount - seq.psd.estimates.length).fill(0);\n\t\t\t\t\t\t\t\tseq.psd.frequencies.unshift(...padFreq);\n\t\t\t\t\t\t\t\tseq.psd.estimates.unshift(...padEstimates);\n\t\t\t\t\t\t\t\tnextSeq.psd.frequencies.unshift(...padFreq);\n\t\t\t\t\t\t\t\tnextSeq.psd.estimates.unshift(...padEstimates);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (prevCount < seq.psd.frequencies.length) {\n\t\t\t\t\t\t\t\t// Drop the last n elements of the new sequence data\n\t\t\t\t\t\t\t\tseq.psd.frequencies = seq.psd.frequencies.slice(0, prevCount);\n\t\t\t\t\t\t\t\tseq.psd.estimates = seq.psd.estimates.slice(0, prevCount);\n\t\t\t\t\t\t\t\tnextSeq.psd.frequencies = nextSeq.psd.frequencies.slice(0, prevCount);\n\t\t\t\t\t\t\t\tnextSeq.psd.estimates = nextSeq.psd.estimates.slice(0, prevCount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst newDs = new XyyDataSeries(chart.surface.current.webAssemblyContext2D, {\n\t\t\t\t\t\t\t\tcontainsNaN: false,\n\t\t\t\t\t\t\t\tisSorted: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewDs.appendRange(seq.psd.frequencies, seq.psd.estimates, nextSeq.psd.estimates);\n\t\t\t\t\t\t\tchart.surface.current.addDeletable(newDs);\n\t\t\t\t\t\t\trs.rolloverModifierProps.tooltipColor = seq.color ?? 'zinc';\n\t\t\t\t\t\t\trs.rolloverModifierProps.tooltipTitle = seq.name + ' Power';\n\t\t\t\t\t\t\trs.rolloverModifierProps1.tooltipColor = nextSeq.color ?? 'zinc';\n\t\t\t\t\t\t\trs.rolloverModifierProps1.tooltipTitle = nextSeq.name + ' Power';\n\t\t\t\t\t\t\trs.runAnimation(new BandAnimation({ duration: 500, ease: easing.inOutCirc, dataSeries: newDs }));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isXyDataSeries(rs.dataSeries)) {\n\t\t\t\t\t\t\tif (prevCount > seq.psd.frequencies.length) {\n\t\t\t\t\t\t\t\t// Pad new sequence data\n\t\t\t\t\t\t\t\tconst padFreq = new Array(prevCount - seq.psd.frequencies.length).fill(0);\n\t\t\t\t\t\t\t\tconst padEstimates = new Array(prevCount - seq.psd.estimates.length).fill(0);\n\t\t\t\t\t\t\t\tseq.psd.frequencies.unshift(...padFreq);\n\t\t\t\t\t\t\t\tseq.psd.estimates.unshift(...padEstimates);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (prevCount < seq.psd.frequencies.length) {\n\t\t\t\t\t\t\t\t// Drop the last n elements of the new sequence data\n\t\t\t\t\t\t\t\tseq.psd.frequencies = seq.psd.frequencies.slice(0, prevCount);\n\t\t\t\t\t\t\t\tseq.psd.estimates = seq.psd.estimates.slice(0, prevCount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst newDs = new XyDataSeries(chart.surface.current.webAssemblyContext2D, {\n\t\t\t\t\t\t\t\tcontainsNaN: false,\n\t\t\t\t\t\t\t\tisSorted: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewDs.appendRange(seq.psd.frequencies, seq.psd.estimates);\n\t\t\t\t\t\t\tchart.surface.current.addDeletable(newDs);\n\t\t\t\t\t\t\trs.rolloverModifierProps.tooltipColor = seq.color ?? 'zinc';\n\t\t\t\t\t\t\trs.rolloverModifierProps.tooltipTitle = seq.name + ' Power';\n\t\t\t\t\t\t\trs.runAnimation(\n\t\t\t\t\t\t\t\tnew LineAnimation({\n\t\t\t\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\t\t\t\tease: easing.inOutCirc,\n\t\t\t\t\t\t\t\t\tdataSeries: newDs,\n\t\t\t\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\t\t\t\tstroke: shadableTWColors[(seq.color ?? 'brand') as keyof typeof shadableTWColors][400],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// If different number of data series, animate data to zero, then run setupChart.\n\t\t\tif (data.length !== prevSequenceData.current.length) {\n\t\t\t\tprevSequenceData.current.forEach((seq, i) => {\n\t\t\t\t\tconst rs = chart.surface.current?.renderableSeries.get(i);\n\t\t\t\t\tif (rs) {\n\t\t\t\t\t\tif (chart.surface.current == null) {\n\t\t\t\t\t\t\tthrow new Error('Missing chart surface');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst prevCount = rs.dataSeries.count();\n\t\t\t\t\t\tif (isXyyDataSeries(rs.dataSeries)) {\n\t\t\t\t\t\t\tconst newDs = new XyyDataSeries(chart.surface.current.webAssemblyContext2D, {\n\t\t\t\t\t\t\t\tcontainsNaN: false,\n\t\t\t\t\t\t\t\tisSorted: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewDs.appendRange(\n\t\t\t\t\t\t\t\tprevSequenceData.current[i].psd.frequencies,\n\t\t\t\t\t\t\t\tnew Array(prevCount).fill(0),\n\t\t\t\t\t\t\t\tnew Array(prevCount).fill(0),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tchart.surface.current.addDeletable(newDs);\n\t\t\t\t\t\t\trs.runAnimation(new BandAnimation({ duration: 500, ease: easing.inOutCirc, dataSeries: newDs }));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isXyDataSeries(rs.dataSeries)) {\n\t\t\t\t\t\t\tconst newDs = new XyDataSeries(chart.surface.current.webAssemblyContext2D, {\n\t\t\t\t\t\t\t\tcontainsNaN: false,\n\t\t\t\t\t\t\t\tisSorted: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewDs.appendRange(prevSequenceData.current[i].psd.frequencies, new Array(prevCount).fill(0));\n\t\t\t\t\t\t\tchart.surface.current.addDeletable(newDs);\n\t\t\t\t\t\t\trs.runAnimation(\n\t\t\t\t\t\t\t\tnew LineAnimation({\n\t\t\t\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\t\t\t\tease: easing.inOutCirc,\n\t\t\t\t\t\t\t\t\tdataSeries: newDs,\n\t\t\t\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\t\t\t\tstroke: shadableTWColors[(seq.color ?? 'brand') as keyof typeof shadableTWColors][400],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (chart.surface.current) {\n\t\t\t\t\t\tchart.surface.current?.renderableSeries.clear();\n\t\t\t\t\t\tchart.surface.current?.chartModifiers.clear();\n\t\t\t\t\t\tsetupChart(chart.surface.current);\n\t\t\t\t\t\tchart.surface.current.invalidateElement();\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t[chart.surface, setupChart],\n\t);\n\n\tuseEffect(() => {\n\t\tif (sequenceData.length != 0 && deepEqual(sequenceData, prevSequenceData.current) === false) {\n\t\t\tif (chart.surface.current) {\n\t\t\t\ttransitionToChart(sequenceData);\n\t\t\t}\n\t\t\tprevSequenceData.current = sequenceData;\n\t\t}\n\t}, [chart.surface, sequenceData, setupChart, transitionToChart]);\n\n\treturn <SciChartReact {...chart.forwardProps} className=\"flex-1 bg-zinc-900/50\"></SciChartReact>;\n};\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SkipBack = createLucideIcon(\"SkipBack\", [\n  [\"polygon\", { points: \"19 20 9 12 19 4 19 20\", key: \"o2sva\" }],\n  [\"line\", { x1: \"5\", x2: \"5\", y1: \"19\", y2: \"5\", key: \"1ocqjk\" }]\n]);\n\nexport { SkipBack as default };\n//# sourceMappingURL=skip-back.js.map\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SkipForward = createLucideIcon(\"SkipForward\", [\n  [\"polygon\", { points: \"5 4 15 12 5 20 5 4\", key: \"16p6eg\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"5\", y2: \"19\", key: \"futhcm\" }]\n]);\n\nexport { SkipForward as default };\n//# sourceMappingURL=skip-forward.js.map\n","'use client';\nimport { MacroRunChart } from '@/app/analysis/macros/[id]/recordings/[runId]/macro-run-chart';\nimport { useTopMenu } from '@/app/topmenu';\nimport { trpc } from '@/utils/trpc';\nimport { ChevronLeft, Pencil, SkipBack, SkipForward } from 'lucide-react';\nimport { useCallback, useState } from 'react';\nimport { twJoin } from 'tailwind-merge';\n\nexport const MacroRun = ({ id, runId }: { id: string; runId: string }) => {\n\tconst [currentRun, setCurrentRun] = useState(runId);\n\tconst [macro] = trpc.analysis.findMacro.useSuspenseQuery({ id });\n\tconst [recordings] = trpc.analysis.getRunRecordings.useSuspenseQuery(\n\t\t{ runId: currentRun, macroId: id },\n\t\t{ keepPreviousData: true },\n\t);\n\tconst [{ next, previous }] = trpc.analysis.getNextAndPreviousRunRecordingIds.useSuspenseQuery(\n\t\t{\n\t\t\tmacroId: id,\n\t\t\trunId: currentRun,\n\t\t},\n\t\t{ keepPreviousData: true },\n\t);\n\n\tuseTopMenu(\n\t\t'Analysis',\n\t\tuseCallback(\n\t\t\t(Menu) => {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger className=\"cursor-pointer\" asChild>\n\t\t\t\t\t\t\t\t<span onClick={() => window.history.back()}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={ChevronLeft} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Back</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger\n\t\t\t\t\t\t\t\tclassName={twJoin(previous ? 'cursor-pointer' : 'cursor-not-allowed')}\n\t\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\t\tdisabled={previous == null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span onClick={() => previous != null && setCurrentRun(previous)}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={SkipBack} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Previous recording</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger\n\t\t\t\t\t\t\t\tclassName={twJoin(next ? 'cursor-pointer' : 'cursor-not-allowed')}\n\t\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\t\tdisabled={next == null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span onClick={() => next != null && setCurrentRun(next)}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={SkipForward} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Next recording</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t},\n\t\t\t[next, previous],\n\t\t),\n\t);\n\n\treturn <MacroRunChart sequences={macro.sequences} recordings={recordings.result} />;\n};\n"],"names":["ChevronLeft","_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__","Z","d","key","Promise","resolve","then","__webpack_require__","bind","SciChartSurface","configure","wasmUrl","dataUrl","MacroRunChart","recordings","sequences","param","sequenceData","map","sequence","find","seq","id","rec","sequenceId","recording","color","name","psd","total","filter","Boolean","prevSequenceData","useRef","setupChart","useCallback","bandSeries","length","i","frequencies","Math","abs","rs","FastBandRenderableSeries","surface","webAssemblyContext2D","dataSeries","XyyDataSeries","containsNaN","isSorted","xValues","yValues","estimates","y1Values","fill","shadableTWColors","fillY1","stroke","strokeY1","strokeThickness","yAxisId","PSD_CHART_AXIS_AMPLITUDE_ID","rolloverModifierProps","tooltipColor","tooltipTitle","rolloverModifierProps1","animation","WaveAnimation","duration","pointDurationFraction","renderableSeries","add","forEach","FastLineRenderableSeries","XyDataSeries","yAxis","yAxes","getById","visibleRange","NumberRange","min","powerRange","max","growBy","chartModifiers","RolloverModifier","showRolloverLine","showTooltip","CursorModifier","crosshairStroke","sky","crosshairStrokeThickness","showXLine","showYLine","tooltipLegendTemplate","getPSDTooltipLegendTemplate","tooltipLegendOffsetX","tooltipLegendOffsetY","axisLabelFill","zinc","axisLabelStroke","chart","useChart","PSDChartNoSeriesDefinition","transitionToChart","current","data","nextSeq","get","prevCount","count","isXyyDataSeries","padFreq","padEstimates","unshift","slice","newDs","appendRange","addDeletable","runAnimation","BandAnimation","ease","easing","inOutCirc","isXyDataSeries","LineAnimation","styles","setTimeout","clear","invalidateElement","useEffect","deepEqual","jsx_runtime","jsx","SciChartReact","forwardProps","className","SkipBack","createLucideIcon","points","x1","x2","y1","y2","SkipForward","MacroRun","runId","currentRun","setCurrentRun","useState","macro","trpc","analysis","findMacro","useSuspenseQuery","getRunRecordings","macroId","keepPreviousData","next","previous","getNextAndPreviousRunRecordingIds","useTopMenu","jsxs","Fragment","Menu","MenubarMenu","MenubarTrigger","asChild","span","onClick","window","history","back","MenubarIcon","Icon","MenubarContent","twJoin","disabled","result"],"sourceRoot":""}