(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2601],{96737:function(e,r,o){Promise.resolve().then(o.bind(o,9102)),Promise.resolve().then(o.bind(o,69009))},9102:function(e,r,o){"use strict";o.r(r),o.d(r,{MacroRun:function(){return MacroRun}});var s=o(26248),i=o(61518),n=o(72579),l=o(49738),a=o(97134),t=o(26158),c=o(69590),d=o(86736),u=o.n(d);a.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let MacroRunChart=e=>{let{recordings:r,sequences:o}=e,d=r.map(e=>{var r;let s=o.find(r=>r.id===e.sequenceId);return(null==s?void 0:s.recording)?{color:null==s?void 0:null===(r=s.recording)||void 0===r?void 0:r.color,name:e.name,psd:e.psd.total}:null}).filter(Boolean),f=(0,l.useRef)(d),p=(0,l.useCallback)(e=>{let r=!1;if(2===d.length){r=!0;for(let e=0;e<d[0].psd.frequencies.length;e++)Math.abs(d[0].psd.frequencies[e]-d[1].psd.frequencies[e])>1&&(r=!1)}if(r){var o,s,n,l,c,u;let r=new a.FastBandRenderableSeries(e.webAssemblyContext2D,{dataSeries:new a.XyyDataSeries(e.webAssemblyContext2D,{containsNaN:!1,isSorted:!0,xValues:d[0].psd.frequencies,yValues:d[0].psd.estimates,y1Values:d[1].psd.estimates}),fill:t.DN[null!==(o=d[1].color)&&void 0!==o?o:"sky"][600]+22,fillY1:t.DN[null!==(s=d[0].color)&&void 0!==s?s:"rose"][600]+22,stroke:t.DN[null!==(n=d[0].color)&&void 0!==n?n:"rose"][400],strokeY1:t.DN[null!==(l=d[1].color)&&void 0!==l?l:"sky"][400],strokeThickness:3,yAxisId:i.ck});r.rolloverModifierProps.tooltipColor=null!==(c=d[0].color)&&void 0!==c?c:"zinc",r.rolloverModifierProps.tooltipTitle=d[0].name+" Power",r.rolloverModifierProps1.tooltipColor=null!==(u=d[1].color)&&void 0!==u?u:"zinc",r.rolloverModifierProps1.tooltipTitle=d[1].name+" Power",r.animation=new a.WaveAnimation({duration:500}),e.renderableSeries.add(r)}else d.forEach(r=>{var o,s;let n=new a.FastLineRenderableSeries(e.webAssemblyContext2D,{dataSeries:new a.XyDataSeries(e.webAssemblyContext2D,{containsNaN:!1,isSorted:!0,xValues:r.psd.frequencies,yValues:r.psd.estimates}),stroke:t.DN[null!==(o=r.color)&&void 0!==o?o:"brand"][400],strokeThickness:3,yAxisId:i.ck});n.rolloverModifierProps.tooltipColor=null!==(s=r.color)&&void 0!==s?s:"zinc",n.rolloverModifierProps.tooltipTitle=r.name+" Power",n.animation=new a.WaveAnimation({duration:500}),e.renderableSeries.add(n)});let f=e.yAxes.getById(i.ck);f&&(f.visibleRange=new a.NumberRange(Math.min(...d.map(e=>e.psd.powerRange.min)),Math.max(...d.map(e=>e.psd.powerRange.max))).growBy(new a.NumberRange(0,.1))),e.chartModifiers.add(new a.RolloverModifier({showRolloverLine:!0,showTooltip:!1,yAxisId:i.ck})),e.chartModifiers.add(new a.CursorModifier({crosshairStroke:t.DN.sky[400],crosshairStrokeThickness:1,showXLine:!0,showYLine:!0,tooltipLegendTemplate:i.to,tooltipLegendOffsetX:16,tooltipLegendOffsetY:16,yAxisId:i.ck,showTooltip:!1,axisLabelFill:t.DN.zinc[900],axisLabelStroke:t.DN.zinc[100]}))},[d]),v=(0,n.Q8)(i.GB,p);return(0,l.useEffect)(()=>{if(0!=d.length&&!1===u()(d,f.current)){if(v.surface.current){var e,r;null===(e=v.surface.current)||void 0===e||e.renderableSeries.clear(),null===(r=v.surface.current)||void 0===r||r.chartModifiers.clear(),p(v.surface.current),v.surface.current.invalidateElement()}f.current=d}},[v.surface,d,p]),(0,s.jsx)(c.iB,{...v.forwardProps,className:"flex-1 bg-zinc-900/50"})};var f=o(64918);let MacroRun=e=>{let{id:r,runId:o}=e,[i]=f.SX.analysis.findMacro.useSuspenseQuery({id:r}),[n]=f.SX.analysis.getRunRecordings.useSuspenseQuery({runId:o,macroId:r});return(0,s.jsx)(MacroRunChart,{sequences:i.sequences,recordings:n})}}},function(e){e.O(0,[4565,1691,6357,4962,9806,4998,2584,4838,1441,5956,3587,3926,8055,9607,5670,9231,7370,7399,8625,1744],function(){return e(e.s=96737)}),_N_E=e.O()}]);
//# sourceMappingURL=page-c2c471a8ac2c27c2.js.map