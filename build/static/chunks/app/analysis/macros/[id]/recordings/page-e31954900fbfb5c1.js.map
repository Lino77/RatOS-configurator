{"version":3,"file":"static/chunks/app/analysis/macros/[id]/recordings/page-e31954900fbfb5c1.js","mappings":"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","sources":["webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/area-chart.js","webpack://_N_E/?b64b","webpack://_N_E/./app/analysis/macros/[id]/recordings/recording-row-actions.tsx","webpack://_N_E/./app/analysis/macros/[id]/recordings/columns.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/pencil.js","webpack://_N_E/./app/analysis/macros/[id]/recordings/recordings.tsx","webpack://_N_E/<anon>"],"sourcesContent":["/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AreaChart = createLucideIcon(\"AreaChart\", [\n  [\"path\", { d: \"M3 3v18h18\", key: \"1s2lah\" }],\n  [\"path\", { d: \"M7 12v5h12V8l-5 5-4-4Z\", key: \"zxz28u\" }]\n]);\n\nexport { AreaChart as default };\n//# sourceMappingURL=area-chart.js.map\n","import(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/macros/[id]/recordings/recordings.tsx\");\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/components/common/no-ssr.tsx\")","'use client';\n\nimport { DotsHorizontalIcon } from '@radix-ui/react-icons';\nimport { Row } from '@tanstack/react-table';\n\nimport { Button } from '@/components/common/button';\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { macroRecordingSchemaWithoutSourcePSDs, macroSchema } from '@/zods/analysis';\nimport { z } from 'zod';\nimport React from 'react';\nimport { AreaChart } from 'lucide-react';\n\ninterface DataTableRowActionsProps<\n\tTData extends z.infer<typeof macroRecordingSchemaWithoutSourcePSDs> = z.infer<\n\t\ttypeof macroRecordingSchemaWithoutSourcePSDs\n\t>,\n> {\n\trow: Row<TData>;\n}\n\nexport function MacroRecordingDataTableRowActions<\n\tTData extends z.infer<typeof macroRecordingSchemaWithoutSourcePSDs> = z.infer<\n\t\ttypeof macroRecordingSchemaWithoutSourcePSDs\n\t>,\n>({ row }: DataTableRowActionsProps<TData>) {\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"indeterminate\"\n\t\t\tsize=\"sm\"\n\t\t\tclassName=\"flex-grow-0 data-[state=open]:bg-muted\"\n\t\t\thref={`/analysis/macros/${row.original.macroId}/recordings/${row.original.macroRecordingRunId}`}\n\t\t>\n\t\t\t<AreaChart className=\"h-4 w-4\" />\n\t\t\tView Graph\n\t\t</Button>\n\t);\n}\n","'use client';\n\nimport { ColumnDef } from '@tanstack/react-table';\n\nimport { Checkbox } from '@/components/ui/checkbox';\n\nimport { DataTableColumnHeader } from '@/app/analysis/macros/components/data-table-column-header';\nimport { MacroRecordingWithoutSourcePSDs } from '@/zods/analysis';\nimport { Badge, BadgeProps } from '@/components/common/badge';\nimport React from 'react';\nimport { ColumnCapabilities } from '@/app/analysis/macros/components/data-table-toolbar';\nimport * as luxon from 'luxon';\nimport { MacroRecordingDataTableRowActions } from '@/app/analysis/macros/[id]/recordings/recording-row-actions';\nimport { ArrowDownToDot, Cpu, Server } from 'lucide-react';\nimport { KlipperAccelSensorName } from '@/zods/hardware';\nluxon.Settings.defaultLocale = 'en-GB';\nconst userLocale = luxon.DateTime.local().locale;\n\nexport const columns: (ColumnDef<MacroRecordingWithoutSourcePSDs> & ColumnCapabilities)[] = [\n\t{\n\t\tid: 'select',\n\t\tsize: 30,\n\t\tminSize: 30,\n\t\theader: ({ table }) => (\n\t\t\t<Checkbox\n\t\t\t\tchecked={table.getIsAllPageRowsSelected() || (table.getIsSomePageRowsSelected() && 'indeterminate')}\n\t\t\t\tonCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n\t\t\t\taria-label=\"Select all\"\n\t\t\t/>\n\t\t),\n\t\tcell: ({ row }) => (\n\t\t\t<Checkbox\n\t\t\t\tchecked={row.getIsSelected()}\n\t\t\t\tonCheckedChange={(value) => row.toggleSelected(!!value)}\n\t\t\t\taria-label=\"Select row\"\n\t\t\t/>\n\t\t),\n\t\tenableSorting: false,\n\t\tenableHiding: false,\n\t},\n\t{\n\t\taccessorKey: 'macroRecordingRunId',\n\t\tenableGrouping: true,\n\t\tenableHiding: false,\n\t\tenableSorting: false,\n\t},\n\t{\n\t\tid: 'date',\n\t\tsize: 200,\n\t\taccessorKey: 'startTimeStamp',\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Date\" />,\n\t\tcell: ({ row }) => {\n\t\t\tconst leafRows = row.getLeafRows();\n\t\t\tconst start = luxon.DateTime.fromMillis(leafRows[0].original.startTimeStamp);\n\t\t\tconst end = luxon.DateTime.fromMillis(leafRows[leafRows.length - 1].original.endTimeStamp);\n\t\t\tconst date = start.equals(end)\n\t\t\t\t? start.toFormat('yyyy-MM-dd HH:mm')\n\t\t\t\t: `${start.toFormat('yyyy-MM-dd HH:mm')} - ${end.toFormat('HH:mm')}`;\n\t\t\tconst human = luxon.DateTime.fromMillis(row.original.startTimeStamp)\n\t\t\t\t.setLocale(userLocale)\n\t\t\t\t.toLocaleString({ dateStyle: 'long', timeStyle: 'short' });\n\t\t\treturn (\n\t\t\t\t<div className=\"flex min-w-0\">\n\t\t\t\t\t<span title={date} className=\"min-w-0 truncate\">\n\t\t\t\t\t\t{human}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tenableSorting: true,\n\t\tsortingFn: (a, b) => a.original.startTimeStamp - b.original.startTimeStamp,\n\t\tsortDescFirst: true,\n\t},\n\t{\n\t\taccessorKey: 'name',\n\t\tsize: 600,\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Recording\" />,\n\t\tcell: ({ row }) => {\n\t\t\tlet labels: {\n\t\t\t\taccel: KlipperAccelSensorName;\n\t\t\t\tlabel: string;\n\t\t\t\tcolor: BadgeProps['color'];\n\t\t\t\ticon: React.ComponentType;\n\t\t\t}[] = [];\n\t\t\tconst name: string[] = [];\n\t\t\trow.getLeafRows().forEach((r) => {\n\t\t\t\tname.push(r.original.name);\n\t\t\t\tif (labels.find((l) => l.accel === r.original.accelerometer)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (r.original.accelerometer) {\n\t\t\t\t\tcase 'controlboard':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: r.original.recordingHardwareName,\n\t\t\t\t\t\t\tcolor: 'purple',\n\t\t\t\t\t\t\ticon: Cpu,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'rpi':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: r.original.recordingHardwareName,\n\t\t\t\t\t\t\tcolor: 'gray',\n\t\t\t\t\t\t\ticon: Server,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'toolboard_t0':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: `${r.original.recordingHardwareName} T0`,\n\t\t\t\t\t\t\tcolor: 'sky',\n\t\t\t\t\t\t\ticon: ArrowDownToDot,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'toolboard_t1':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: `${r.original.recordingHardwareName} T1`,\n\t\t\t\t\t\t\tcolor: 'blue',\n\t\t\t\t\t\t\ticon: ArrowDownToDot,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<div className=\"flex min-w-0 max-w-fit items-center gap-2 truncate font-medium\">\n\t\t\t\t\t{labels.map((l) => (\n\t\t\t\t\t\t<Badge color={l.color} key={l.label}>\n\t\t\t\t\t\t\t{l.label}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t))}\n\t\t\t\t\t{name.length > 1 ? name.slice(0, -1).join(', ') + ' & ' + name.slice(-1) : name[0]}\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tfilterFn: (row, id, filterValues) => {\n\t\t\tconst searchString = `${row.original.name} ${row.original.accelerometer} ${row.original.recordingHardwareName}`;\n\t\t\tconsole.log(searchString, filterValues);\n\t\t\treturn (\n\t\t\t\tArray.isArray(filterValues) &&\n\t\t\t\tfilterValues.flat().some((filterValue: any) => searchString.includes(filterValue))\n\t\t\t);\n\t\t},\n\t\tgetFacetedOptions: () => {\n\t\t\treturn [\n\t\t\t\t{ label: 'Control Board', value: 'controlboard', icon: Cpu },\n\t\t\t\t{ label: 'Host', value: 'rpi', icon: Server },\n\t\t\t\t{ label: 'Tool Board T0', value: 'toolboard_t0', icon: ArrowDownToDot },\n\t\t\t\t{ label: 'Tool Board T1', value: 'toolboard_t1', icon: ArrowDownToDot },\n\t\t\t];\n\t\t},\n\t},\n\t{\n\t\tid: 'duration',\n\t\tsize: 200,\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Duration\" />,\n\t\tcell: ({ row }) => {\n\t\t\tconst leafRows = row.getLeafRows();\n\t\t\tconst duration = luxon.Duration.fromMillis(\n\t\t\t\tleafRows[leafRows.length - 1].original.endTimeStamp - leafRows[0].original.startTimeStamp,\n\t\t\t)\n\t\t\t\t.shiftTo('minutes', 'seconds')\n\t\t\t\t.toHuman({ unitDisplay: 'short', maximumSignificantDigits: 2 });\n\t\t\treturn (\n\t\t\t\t<div className=\"flex min-w-0\">\n\t\t\t\t\t<span className=\"min-w-0 truncate\">{duration}</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tid: 'actions',\n\t\tsize: 150,\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Actions\" />,\n\t\tcell: ({ row }) => <MacroRecordingDataTableRowActions row={row} />,\n\t},\n];\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pencil = createLucideIcon(\"Pencil\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n]);\n\nexport { Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","'use client';\nimport { Metadata } from 'next';\n\nimport { columns } from '@/app/analysis/macros/[id]/recordings/columns';\nimport { DataTable } from '@/app/analysis/macros/components/data-table';\nimport { trpc } from '@/utils/trpc';\nimport { useTopMenu } from '@/app/topmenu';\nimport { ChevronLeft, Pencil } from 'lucide-react';\nimport Link from 'next/link';\nimport { useCallback } from 'react';\n\nexport const metadata: Metadata = {\n\ttitle: 'Macros',\n\tdescription: 'User-modifiable macros for resonance analysis',\n};\n\nexport default function MacroRecordings({ id }: { id: string }) {\n\tconst [macroRecordingsQuery] = trpc.analysis.getRecordings.useSuspenseQuery({ macroId: id });\n\tconst [macro] = trpc.analysis.findMacro.useSuspenseQuery({ id: id });\n\n\tuseTopMenu(\n\t\t'Analysis Recordings',\n\t\tuseCallback(\n\t\t\t(Menu) => {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger className=\"cursor-pointer\" asChild>\n\t\t\t\t\t\t\t\t<span onClick={() => window.history.back()}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={ChevronLeft} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Back</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger asChild className=\"cursor-pointer\">\n\t\t\t\t\t\t\t\t<Link href={`/analysis/macros/${id}/edit`}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={Pencil} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Edit</span>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t},\n\t\t\t[id],\n\t\t),\n\t);\n\n\treturn (\n\t\t<div className=\"flex h-full flex-1 flex-col space-y-8 p-8\">\n\t\t\t<div className=\"flex items-center justify-between space-y-2\">\n\t\t\t\t<div>\n\t\t\t\t\t<h2 className=\"text-xl font-semibold leading-none tracking-tight\">Recordings for {macro.name}</h2>\n\t\t\t\t\t<p className=\"text-base font-medium text-muted-foreground\">\n\t\t\t\t\t\tYou have recorded {macroRecordingsQuery.total || macroRecordingsQuery.result.length} sequence(s) for this\n\t\t\t\t\t\tmacro so far.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<DataTable\n\t\t\t\tdata={macroRecordingsQuery.result ?? []}\n\t\t\t\tcolumns={columns}\n\t\t\t\tinitialGrouping={['macroRecordingRunId']}\n\t\t\t\tinitialColumnVisibility={{ macroRecordingRunId: false }}\n\t\t\t\tinitialSorting={[{ desc: true, id: 'date' }]}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"names":["AreaChart","_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__","Z","d","key","Promise","resolve","then","__webpack_require__","bind","MacroRecordingDataTableRowActions","param","row","jsx_runtime","jsxs","Button","variant","size","className","href","original","macroId","concat","macroRecordingRunId","jsx","luxon","defaultLocale","userLocale","local","locale","columns","id","minSize","header","table","Checkbox","checked","getIsAllPageRowsSelected","getIsSomePageRowsSelected","onCheckedChange","toggleAllPageRowsSelected","value","aria-label","cell","getIsSelected","toggleSelected","enableSorting","enableHiding","accessorKey","enableGrouping","column","DataTableColumnHeader","title","leafRows","getLeafRows","start","fromMillis","startTimeStamp","end","length","endTimeStamp","date","equals","toFormat","human","setLocale","toLocaleString","dateStyle","timeStyle","div","span","sortingFn","a","b","sortDescFirst","labels","name","forEach","push","r","find","l","accel","accelerometer","label","recordingHardwareName","color","icon","Cpu","Server","ArrowDownToDot","map","Badge","slice","join","filterFn","filterValues","searchString","console","log","Array","isArray","flat","some","includes","filterValue","getFacetedOptions","duration","shiftTo","toHuman","unitDisplay","maximumSignificantDigits","Pencil","createLucideIcon","metadata","description","MacroRecordings","macroRecordingsQuery","trpc","analysis","getRecordings","useSuspenseQuery","macro","findMacro","useTopMenu","useCallback","Fragment","Menu","MenubarMenu","MenubarTrigger","asChild","onClick","window","history","back","MenubarIcon","Icon","ChevronLeft","MenubarContent","Link","h2","p","total","result","DataTable","data","initialGrouping","initialColumnVisibility","initialSorting","desc"],"sourceRoot":""}