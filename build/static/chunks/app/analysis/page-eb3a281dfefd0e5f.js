(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2490],{8058:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("ArrowDownToDot",[["path",{d:"M12 2v14",key:"jyx4ut"}],["path",{d:"m19 9-7 7-7-7",key:"1oe3oy"}],["circle",{cx:"12",cy:"21",r:"1",key:"o0uj5v"}]])},16195:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},21734:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},65523:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},49398:function(e,t,n){Promise.resolve().then(n.bind(n,89560)),Promise.resolve().then(n.bind(n,69009))},27266:function(e,t,n){"use strict";n.d(t,{k:function(){return useGcodeCommand}});var r=n(49738),a=n(61352);let useGcodeCommand=()=>{let e=(0,a.xH)("printer.gcode.script");return(0,r.useCallback)(async function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];let o=[t[0]];r.forEach((e,n)=>{o.push(e.toString(),t[n+1])});let l=o.join(""),i=await e.mutateAsync({script:l});console.log(l,i)},[])}},89560:function(e,t,n){"use strict";n.r(t),n.d(t,{Analysis:function(){return Analysis}});var r=n(45489),a=n(26248),o=n(49738),l=n(27266),i=n(50962),s=n(90077),d=n(81503),c=n(97134),u=n(79008),m=n(33334),f=n(76693),p=n(61518),h=n(69590),x=n(72579),b=n(44343),g=n(57812),v=n(55797),y=n(48418),w=n(98055),M=n(87155);c.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useRealtimeAnalysisChart=function(e){var t,n,r,a,l,i,s,d,u,f,h,g,k;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let[j,_]=(0,o.useState)(!1),[S,A]=(0,o.useState)(void 0),C=(0,m.YC)(),I=(0,v.sJ)(y.OS),N=null!=e?e:C[0].getYAccelerometerName(),D=null!==(u="controlboard"===N?null==I?void 0:I.name:"toolboard_t0"===N?null===(n=C[0])||void 0===n?void 0:null===(t=n.getToolboard())||void 0===t?void 0:t.name:"toolboard_t1"===N?null===(a=C[1])||void 0===a?void 0:null===(r=a.getToolboard())||void 0===r?void 0:r.name:"rpi"===N?"Raspberry Pi":"N/A")&&void 0!==u?u:"N/A",E=(0,p.ZA)(),R=(0,p.QR)("x"),z=(0,p.QR)("y"),P=(0,p.QR)("z"),T=null!==(f=null===(l=R.data.current)||void 0===l?void 0:l.yAxis)&&void 0!==f?f:null,Z=null!==(h=null===(i=z.data.current)||void 0===i?void 0:i.yAxis)&&void 0!==h?h:null,q=null!==(g=null===(s=P.data.current)||void 0===s?void 0:s.yAxis)&&void 0!==g?g:null,$=(0,x.Tv)([T,Z,q]),O=null!==(k=null===(d=E.surface.current)||void 0===d?void 0:d.yAxes.getById(p.ck))&&void 0!==k?k:null,V=(0,x.Tv)(O,p.as),L=(0,x.Dv)(S),F=(0,o.useRef)(new Date().getTime());(0,o.useEffect)(()=>{j&&(F.current=new Date().getTime())},[j]);let B=(0,x.ag)(e=>{var t;let n=E.surface.current;if(null==n)return;let r=new Date().getTime()-F.current;F.current=new Date().getTime();let a=null===(t=E.data.current)||void 0===t?void 0:t.animationSeries;if(null==a)throw Error("No animation data series");if(e.x.frequencies.length!==e.x.estimates.length&&(0,M.j)().warn("X estimates and frequencies are not the same length (".concat(e.x.estimates.length," vs ").concat(e.x.frequencies.length,")")),e.y.frequencies.length!==e.y.estimates.length&&(0,M.j)().warn("Y estimates and frequencies are not the same length (".concat(e.y.estimates.length," vs ").concat(e.y.frequencies.length,")")),e.z.frequencies.length!==e.z.estimates.length&&(0,M.j)().warn("Z estimates and frequencies are not the same length (".concat(e.z.estimates.length," vs ").concat(e.z.frequencies.length,")")),e.total.frequencies.length!==e.total.estimates.length&&(0,M.j)().warn("Total estimates and frequencies are not the same length  (".concat(e.total.estimates.length," vs ").concat(e.total.frequencies.length,")")),e.x.frequencies.length<p.LM||e.x.estimates.length<p.LM){let t=Array(p.LM-e.x.frequencies.length).fill(0),n=Array(p.LM-e.x.estimates.length).fill(0);e.x.frequencies.unshift(...t),e.x.estimates.unshift(...n)}if(e.y.frequencies.length<p.LM||e.y.estimates.length<p.LM){let t=Array(p.LM-e.y.frequencies.length).fill(0),n=Array(p.LM-e.y.estimates.length).fill(0);e.y.frequencies.unshift(...t),e.y.estimates.unshift(...n)}if(e.z.frequencies.length<p.LM||e.z.estimates.length<p.LM){let t=Array(p.LM-e.z.frequencies.length).fill(0),n=Array(p.LM-e.z.estimates.length).fill(0);e.z.frequencies.unshift(...t),e.z.estimates.unshift(...n)}if(e.total.frequencies.length<p.LM||e.total.estimates.length<p.LM){let t=Array(p.LM-e.total.frequencies.length).fill(0),n=Array(p.LM-e.total.estimates.length).fill(0);e.total.frequencies.unshift(...t),e.total.estimates.unshift(...n)}a.x.clear(),a.y.clear(),a.z.clear(),a.total.clear(),a.x.appendRange(e.x.frequencies,e.x.estimates),a.y.appendRange(e.y.frequencies,e.y.estimates),a.z.appendRange(e.z.frequencies,e.z.estimates),a.total.appendRange(e.total.frequencies,e.total.estimates),n.renderableSeries.getById("x").runAnimation(new c.LineAnimation({duration:r,ease:c.easing.inOutCirc,dataSeries:a.x})),n.renderableSeries.getById("y").runAnimation(new c.LineAnimation({duration:r,ease:c.easing.inOutCirc,dataSeries:a.y})),n.renderableSeries.getById("z").runAnimation(new c.LineAnimation({duration:r,ease:c.easing.inOutCirc,dataSeries:a.z})),n.renderableSeries.getById("total").runAnimation(new c.MountainAnimation({duration:r,ease:c.easing.inOutCirc,dataSeries:a.total})),V(new c.NumberRange(e.total.powerRange.min,e.total.powerRange.max))}),H=(0,x.Gs)(L.sampleRate,B.onData),U=(0,x.O3)(L,async(e,t,n,r)=>{let a=(0,b.iQ)(t),o=(0,b.iQ)(n),l=(0,b.iQ)(r);t.dispose(),n.dispose(),r.dispose(),Promise.all([e.array(),a.array(),o.array(),l.array()]).then(e=>{var t,n,r,a,o,l;let[i,s,d,c]=e;null===(t=R.data.current)||void 0===t||t.signalData.appendRange(i,s),null===(n=z.data.current)||void 0===n||n.signalData.appendRange(i,d),null===(r=P.data.current)||void 0===r||r.signalData.appendRange(i,c),null===(a=R.data.current)||void 0===a||a.historyData.appendRange(i,s),null===(o=z.data.current)||void 0===o||o.historyData.appendRange(i,d),null===(l=P.data.current)||void 0===l||l.historyData.appendRange(i,c)}),$(),H(e,a,o,l,!0)});return(0,x.kP)(U),(0,x.xc)({sensor:N,enabled:j,onDataUpdate:L.onData,onSubscriptionSuccess:(0,o.useCallback)(e=>{A(e)},[]),onSubscriptionFailure:(0,o.useCallback)(e=>{_(!1),w.A.error("Failed to subscribe to ADXL345",{description:e.message})},[])}),(0,o.useMemo)(()=>({isChartEnabled:j,setIsChartEnabled:_,psds:B,currentAccelerometer:N,currentAccelerometerHardwareName:D,chartProps:{xSignalChart:R,ySignalChart:z,zSignalChart:P,psdChart:E}}),[j,B,N,D,R,z,P,E])},RealtimeAnalysisChart=e=>{let{xSignalChart:t,ySignalChart:n,zSignalChart:r,psdChart:o}=e;return(0,a.jsxs)("div",{className:"flex max-h-full min-h-full flex-col space-y-4 @container",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 @screen-lg:grid-cols-3",children:[(0,a.jsxs)(f.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.d)("flex-none rounded-full bg-yellow-400/10 p-1 text-yellow-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"X Signal"})]}),(0,a.jsx)(h.iB,{...t.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(g.I,{className:"ml-[150px] bg-zinc-900"})})]}),(0,a.jsxs)(f.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.d)("flex-none rounded-full bg-sky-400/10 p-1 text-sky-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Y Signal"})]}),(0,a.jsx)(h.iB,{...n.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(g.I,{className:"ml-[150px] bg-zinc-900"})})]}),(0,a.jsxs)(f.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.d)("flex-none rounded-full bg-rose-400/10 p-1 text-rose-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Z Signal"})]}),(0,a.jsx)(h.iB,{...r.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(g.I,{className:"ml-[150px] bg-zinc-900"})})]})]}),(0,a.jsx)(f.Z,{className:"flex flex-1 overflow-hidden",children:(0,a.jsx)(h.iB,{...o.forwardProps,className:"flex-1",fallback:(0,a.jsx)(g.I,{className:"ml-[150px] bg-zinc-900"})})})]})};var k=n(11590),j=n.n(k),_=n(64918),S=n(39634),A=n(33760),C=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let I=(0,C.Z)("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]),N=(0,C.Z)("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]),D=(0,C.Z)("Move3d",[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]]);var E=n(65523),R=n(16195),z=n(8058),P=n(21734);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let T=(0,C.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Z=(0,C.Z)("PencilRuler",[["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m2 22 5.5-1.5L21.17 6.83a2.82 2.82 0 0 0-4-4L3.5 16.5Z",key:"hes763"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}]]),q=(0,C.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),$=(0,C.Z)("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]),O=(0,C.Z)("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]]),V=(0,C.Z)("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),L=(0,C.Z)("MoveDiagonal",[["polyline",{points:"13 5 19 5 19 11",key:"11219e"}],["polyline",{points:"11 19 5 19 5 13",key:"sfq3wq"}],["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}]]),F=(0,C.Z)("MoveDiagonal2",[["polyline",{points:"5 11 5 5 11 5",key:"ncfzxk"}],["polyline",{points:"19 13 19 19 13 19",key:"1mk7hk"}],["line",{x1:"5",x2:"19",y1:"5",y2:"19",key:"mcyte3"}]]),B=(0,C.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),H=(0,C.Z)("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]),U=(0,C.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),K=(0,C.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var Y=n(36577),X=n(54456),Q=n(91036),W=n(50320),G=n(74706),J=n(34952),ee=n(69770),et=n(76843),en=n(25800),er=n(10716),ea=n(19771);let eo=["PageUp","PageDown"],el=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ei={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},es="Slider",[ed,ec,eu]=(0,ea.B)(es),[em,ef]=(0,G.b)(es,[eu]),[ep,eh]=em(es),ex=(0,o.forwardRef)((e,t)=>{let{name:n,min:r=0,max:a=100,step:l=1,orientation:i="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:c=[r],value:u,onValueChange:m=()=>{},onValueCommit:f=()=>{},inverted:p=!1,...h}=e,[x,b]=(0,o.useState)(null),g=(0,W.e)(t,e=>b(e)),v=(0,o.useRef)(new Set),y=(0,o.useRef)(0),w=!x||!!x.closest("form"),M="horizontal"===i?ev:ey,[k=[],j]=(0,J.T)({prop:u,defaultProp:c,onChange:e=>{var t;let n=[...v.current];null===(t=n[y.current])||void 0===t||t.focus(),m(e)}}),_=(0,o.useRef)(k);function updateValues(e,t,{commit:n}={commit:!1}){let o=(String(l).split(".")[1]||"").length,i=function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/l)*l+r,o),s=(0,X.u)(i,[r,a]);j((e=[])=>{let r=function(e=[],t,n){let r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,s,t);if(!function(e,t){if(t>0){let n=e.slice(0,-1).map((t,n)=>e[n+1]-t);return Math.min(...n)>=t}return!0}(r,d*l))return e;{y.current=r.indexOf(s);let t=String(r)!==String(e);return t&&n&&f(r),t?r:e}})}return(0,o.createElement)(ep,{scope:e.__scopeSlider,disabled:s,min:r,max:a,valueIndexToChangeRef:y,thumbs:v.current,values:k,orientation:i},(0,o.createElement)(ed.Provider,{scope:e.__scopeSlider},(0,o.createElement)(ed.Slot,{scope:e.__scopeSlider},(0,o.createElement)(M,(0,Y.Z)({"aria-disabled":s,"data-disabled":s?"":void 0},h,{ref:g,onPointerDown:(0,Q.M)(h.onPointerDown,()=>{s||(_.current=k)}),min:r,max:a,inverted:p,onSlideStart:s?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(k,e);updateValues(e,t)},onSlideMove:s?void 0:function(e){updateValues(e,y.current)},onSlideEnd:s?void 0:function(){let e=_.current[y.current],t=k[y.current];t!==e&&f(k)},onHomeKeyDown:()=>!s&&updateValues(r,0,{commit:!0}),onEndKeyDown:()=>!s&&updateValues(a,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!s){let n=eo.includes(e.key),r=n||e.shiftKey&&el.includes(e.key),a=y.current,o=k[a],i=l*(r?10:1)*t;updateValues(o+i,a,{commit:!0})}}})))),w&&k.map((e,t)=>(0,o.createElement)($faa2e61a3361514f$var$BubbleInput,{key:t,name:n?n+(k.length>1?"[]":""):void 0,value:e})))}),[eb,eg]=em(es,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ev=(0,o.forwardRef)((e,t)=>{let{min:n,max:r,dir:a,inverted:l,onSlideStart:i,onSlideMove:s,onSlideEnd:d,onStepKeyDown:c,...u}=e,[m,f]=(0,o.useState)(null),p=(0,W.e)(t,e=>f(e)),h=(0,o.useRef)(),x=(0,ee.gm)(a),b="ltr"===x,g=b&&!l||!b&&l;function getValueFromPointer(e){let t=h.current||m.getBoundingClientRect(),a=[0,t.width],o=$faa2e61a3361514f$var$linearScale(a,g?[n,r]:[r,n]);return h.current=t,o(e-t.left)}return(0,o.createElement)(eb,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width"},(0,o.createElement)(ew,(0,Y.Z)({dir:x,"data-orientation":"horizontal"},u,{ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientX);null==i||i(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientX);null==s||s(t)},onSlideEnd:()=>{h.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=ei[g?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))}),ey=(0,o.forwardRef)((e,t)=>{let{min:n,max:r,inverted:a,onSlideStart:l,onSlideMove:i,onSlideEnd:s,onStepKeyDown:d,...c}=e,u=(0,o.useRef)(null),m=(0,W.e)(t,u),f=(0,o.useRef)(),p=!a;function getValueFromPointer(e){let t=f.current||u.current.getBoundingClientRect(),a=[0,t.height],o=$faa2e61a3361514f$var$linearScale(a,p?[r,n]:[n,r]);return f.current=t,o(e-t.top)}return(0,o.createElement)(eb,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1},(0,o.createElement)(ew,(0,Y.Z)({"data-orientation":"vertical"},c,{ref:m,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientY);null==l||l(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientY);null==i||i(t)},onSlideEnd:()=>{f.current=void 0,null==s||s()},onStepKeyDown:e=>{let t=ei[p?"from-bottom":"from-top"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})))}),ew=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:d,...c}=e,u=eh(es,n);return(0,o.createElement)(er.WV.span,(0,Y.Z)({},c,{ref:t,onKeyDown:(0,Q.M)(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):eo.concat(el).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,Q.M)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():r(e)}),onPointerMove:(0,Q.M)(e.onPointerMove,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:(0,Q.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})}))}),eM=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,...r}=e,a=eh("SliderTrack",n);return(0,o.createElement)(er.WV.span,(0,Y.Z)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},r,{ref:t}))}),ek="SliderRange",ej=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,...r}=e,a=eh(ek,n),l=eg(ek,n),i=(0,o.useRef)(null),s=(0,W.e)(t,i),d=a.values.length,c=a.values.map(e=>$faa2e61a3361514f$var$convertValueToPercentage(e,a.min,a.max));return(0,o.createElement)(er.WV.span,(0,Y.Z)({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},r,{ref:s,style:{...e.style,[l.startEdge]:(d>1?Math.min(...c):0)+"%",[l.endEdge]:100-Math.max(...c)+"%"}}))}),e_="SliderThumb",eS=(0,o.forwardRef)((e,t)=>{let n=ec(e.__scopeSlider),[r,a]=(0,o.useState)(null),l=(0,W.e)(t,e=>a(e)),i=(0,o.useMemo)(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return(0,o.createElement)(eA,(0,Y.Z)({},e,{ref:l,index:i}))}),eA=(0,o.forwardRef)((e,t)=>{var n;let{__scopeSlider:r,index:a,...l}=e,i=eh(e_,r),s=eg(e_,r),[d,c]=(0,o.useState)(null),u=(0,W.e)(t,e=>c(e)),m=(0,en.t)(d),f=i.values[a],p=void 0===f?0:$faa2e61a3361514f$var$convertValueToPercentage(f,i.min,i.max),h=(n=i.values.length)>2?`Value ${a+1} of ${n}`:2===n?["Minimum","Maximum"][a]:void 0,x=null==m?void 0:m[s.size],b=x?function(e,t,n){let r=e/2,a=$faa2e61a3361514f$var$linearScale([0,50],[0,r]);return(r-a(t)*n)*n}(x,p,s.direction):0;return(0,o.useEffect)(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),(0,o.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${p}% + ${b}px)`}},(0,o.createElement)(ed.ItemSlot,{scope:e.__scopeSlider},(0,o.createElement)(er.WV.span,(0,Y.Z)({role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0},l,{ref:u,style:void 0===f?{display:"none"}:e.style,onFocus:(0,Q.M)(e.onFocus,()=>{i.valueIndexToChangeRef.current=a})}))))}),$faa2e61a3361514f$var$BubbleInput=e=>{let{value:t,...n}=e,r=(0,o.useRef)(null),a=(0,et.D)(t);return(0,o.useEffect)(()=>{let e=r.current,n=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(n,"value"),l=o.set;if(a!==t&&l){let n=new Event("input",{bubbles:!0});l.call(e,t),e.dispatchEvent(n)}},[a,t]),(0,o.createElement)("input",(0,Y.Z)({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function $faa2e61a3361514f$var$convertValueToPercentage(e,t,n){return(0,X.u)(100/(n-t)*(e-t),[0,100])}function $faa2e61a3361514f$var$linearScale(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}var eC=n(40514);let eI=o.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsxs)(ex,{ref:t,className:(0,eC.cn)("relative flex w-full touch-none select-none items-center",n),...r,children:[(0,a.jsx)(eM,{className:(0,eC.cn)("relative h-1.5 w-full grow rounded-full bg-zinc-400/10","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[0px_-1px_0px_0px_hsl(var(--zinc-400)_/_15%)_inset,_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]"),children:(0,a.jsx)(ej,{className:(0,eC.cn)("absolute h-full rounded-full bg-brand-400/80","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[inset_0px_-1px_0px_0px_hsl(var(--brand-200)_/_20%),_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]")})}),(0,a.jsx)(eS,{className:(0,eC.cn)("block h-4 w-4 rounded-full border border-zinc-700 bg-zinc-700 shadow transition-colors","focus-visible:outline-none focus-visible:ring-0 disabled:pointer-events-none disabled:opacity-50","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.03)]","dark:before:inset-px dark:before:rounded-full","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_hsl(var(--zinc-900)),_0px_1px_0px_0px_hsl(var(--zinc-400)_/_20%)_inset]")})]})});(0,eC.h)(eI,ex.displayName);var eN=n(63440);function _templateObject(){let e=(0,r._)(["\n			OSCILLATE FREQ="," TIME="," AXIS=","\n			"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n						","\n						M400\n					"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["MAYBE_HOME"]);return _templateObject2=function(){return e},e}c.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useOscillator=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,r]=(0,o.useState)(0),a=(0,o.useRef)(n);a.current=n;let[l,i]=(0,o.useState)("x"),s=(0,o.useRef)(l);s.current=l;let d=(0,o.useRef)(!1),c=(0,o.useRef)(t);c.current=t;let u=(0,o.useCallback)(async()=>{if(a.current<=0)return;let t=500/a.current,n=Math.floor(Math.max(250,500-500%t));d.current=!0;let r="a"===s.current?"1,1":"b"===s.current?"1,-1":s.current,o=new Date().getTime();try{await e(_templateObject(),a.current,n/1e3,r);let t=new Date().getTime()-o;d.current=!1,a.current>0&&c.current&&t>n/2?u():setTimeout(()=>{u()},n-t)}catch(e){d.current=!1,(0,M.j)().error(e,"Failed to oscillate"),w.A.error("Failed to oscillate",{description:'\n					<div>\n						<p>An error occurred while trying to oscillate the printer:</p>\n						<pre class="text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap">'.concat(e instanceof Error?e.message:e instanceof String?e:"Unknown error","</pre>\n					</div>\n				")})}},[e]);return(0,o.useEffect)(()=>{n>0&&!d.current&&t&&u()},[u,n,t]),{frequency:n,setFrequency:r,axis:l,setAxis:i}},eD={onError(e,t){(0,M.j)().error("Failed to save macro sequence recording",{error:e,variables:{...t,psd:"removed from log.."}})}},Analysis=()=>{let e=(0,A.useRouter)(),t=(0,m.YC)(),[n,r]=(0,o.useState)(t[0].getYAccelerometerName()),{isChartEnabled:c,setIsChartEnabled:f,chartProps:p,psds:h,currentAccelerometer:x,currentAccelerometerHardwareName:b}=useRealtimeAnalysisChart(n),[g]=_.SX.analysis.getMacros.useSuspenseQuery({limit:10}),{mutateAsync:v}=_.SX.analysis.saveRecording.useMutation(eD),[y,k]=(0,o.useState)(!1),[C,Y]=(0,o.useState)(!1),X=(0,o.useRef)(null),Q=(0,l.k)(),{frequency:W,setFrequency:G,axis:J,setAxis:ee}=useOscillator(Q,c&&!C),et=(0,o.useRef)(new AbortController),en=(0,o.useCallback)(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return async()=>{et.current=new AbortController,G(0),Y(!0),f(!0);try{await e(et.current.signal,...n)}catch(e){et.current.signal.aborted||e instanceof DOMException&&"AbortError"===e.name?((0,M.j)().info(e,"Macro run aborted"),w.A.info("Macro run aborted",{description:"The macro run was aborted"})):((0,M.j)().error("Macro run failed",e),w.A.error("Macro failed",{description:e instanceof Error?e.message:e instanceof String?e:"An unknown error occurred while running the macro"}))}finally{Y(!1),k(!1),f(!1),X.current=null}}},[G,f]),er=(0,o.useMemo)(()=>y?(0,a.jsx)(s.jXb,{className:"h-4 w-4 scale-150 text-red-400"}):C?(0,a.jsx)(d.$,{noMargin:!0,className:"h-4 w-4 group-data-[state=open]:text-white"}):(0,a.jsx)(I,{className:"h-5 w-5 text-white group-data-[state=open]:text-white lg:text-white/60"}),[C,y]),ea=(0,o.useCallback)(t=>en(async n=>{X.current=t;let a=S.Z(),o=[],l=t.sequences.map(e=>async()=>{var l,i,s;if(n.aborted)throw new DOMException("Macro run aborted by user","AbortError");let d=new Date().getTime();if(r(null===(l=e.recording)||void 0===l?void 0:l.accelerometer),(null===(i=e.recording)||void 0===i?void 0:i.capturePSD)&&(await h.startAccumulation(),k(!0)),n.aborted)throw await h.stopAccumulation(),k(!1),new DOMException("Macro run aborted by user","AbortError");if(await Q(_templateObject1(),e.gcode),null===(s=e.recording)||void 0===s?void 0:s.capturePSD){let r=await h.stopAccumulation();if(k(!1),n.aborted)throw new DOMException("Macro run aborted by user","AbortError");o.push(v({recording:{id:S.Z(),macroRecordingRunId:a,macroId:t.id,sequenceId:e.id,startTimeStamp:d,endTimeStamp:new Date().getTime(),psd:r,name:e.name,accelerometer:x,recordingHardwareName:b}}))}});if(await l.reduce((e,t)=>e.then(t),Promise.resolve()),n.aborted)throw new DOMException("Macro run aborted by user","AbortError");let i=w.A.loading("Saving recordings...",{description:"Please wait for recordings to be saved."});try{await Promise.all(o),w.A.success("Macro run completed",{id:i,description:'Macro "'.concat(t.name,'" completed successfully'),action:{label:"View Result",onClick:()=>e.push("/analysis/macros/".concat(t.id,"/recordings/").concat(a))}})}catch(e){w.A.error("Macro run failed",{id:i,description:'An error occurred while saving macro result data for "'.concat(t.name,'"')})}}),[Q,v,h,x,b,e,en]);return(0,u.Ty)("analysis",(0,o.useCallback)(e=>{var o,l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[(0,a.jsx)(e.MenubarIcon,{Icon:N,className:(0,i.d)(c&&"text-brand-400")})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Stream"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:D})," Accelerometer"]}),(0,a.jsx)(e.MenubarSubContent,{children:(0,a.jsxs)(e.MenubarRadioGroup,{value:n,onValueChange:e=>r(e),children:[(0,a.jsxs)(e.MenubarRadioItem,{value:"rpi",className:(0,i.d)("x"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:E.Z}),"Host"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"controlboard",className:(0,i.d)("y"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:R.Z}),"Control Board"]}),t[0].hasToolboard()&&(0,a.jsxs)(e.MenubarRadioItem,{value:"toolboard_t0",className:(0,i.d)("a"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:z.Z}),"Toolboard T0"]}),t.length>1&&t[1].hasToolboard()&&(0,a.jsxs)(e.MenubarRadioItem,{value:"toolboard_t1",className:(0,i.d)("b"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:z.Z}),"Toolboard T1"]})]})})]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarItem,{disabled:c||C,onClick:async()=>{f(!0)},children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:P.Z})," Start"]}),(0,a.jsxs)(e.MenubarItem,{disabled:!c||C,onClick:async()=>{f(!1)},children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:T})," Stop"]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[(0,a.jsx)(e.MenubarIcon,{Icon:Z})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Tools"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(e.MenubarItem,{disabled:C,onSelect:en(async()=>{await Q(_templateObject2())}),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:q}),"Home Printer"]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:$})," Oscillator"]}),(0,a.jsxs)(e.MenubarSubContent,{children:[(0,a.jsxs)(e.MenubarRadioGroup,{value:J,onValueChange:e=>ee(e),children:[(0,a.jsxs)(e.MenubarRadioItem,{value:"x",className:(0,i.d)("x"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:O})," Oscillate in X"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"y",className:(0,i.d)("y"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:V})," Oscillate in Y"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"a",className:(0,i.d)("a"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:L})," Oscillate in A"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"b",className:(0,i.d)("b"===J&&W>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:F})," Oscillate in B"]})]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)("div",{className:"min-w-48 p-4",children:[(0,a.jsxs)("h3",{className:"-mt-2 text-center text-2xl font-medium tracking-tight",children:[(0,a.jsx)(eN.I,{type:"number",size:1,max:200,min:0,onKeyUp:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),className:"m-0 inline min-w-0 border-none bg-transparent p-0 text-right font-mono text-3xl font-medium tracking-tight",value:W.toFixed(1),style:{width:W.toFixed(1).length+"rem"},onChange:e=>G(parseFloat(e.target.value))}),"Hz"]}),(0,a.jsx)(eI,{min:0,className:"mt-4",max:200,value:[W],onValueChange:e=>G(e[0]),step:.1})]})]})]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[er," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Macros"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[null===(o=g.result)||void 0===o?void 0:o.map(t=>{var n,r;return(0,a.jsxs)(e.MenubarItem,{disabled:C,onSelect:ea(t),className:(0,i.d)((null===(n=X.current)||void 0===n?void 0:n.id)===t.id&&"text-brand-400 opacity-100"),children:[(null===(r=X.current)||void 0===r?void 0:r.id)===t.id?er:(0,a.jsx)(e.MenubarContentIcon,{Icon:P.Z}),t.name]},t.id)}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsx)(e.MenubarItem,{disabled:C,asChild:!0,className:"pr-8",children:(0,a.jsxs)(j(),{href:"/analysis/macros",children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:B})," View All Macros",(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(H,{className:"h-4 w-4"})})]})}),(0,a.jsx)(e.MenubarItem,{disabled:C,asChild:!0,className:"pr-8",children:(0,a.jsxs)(j(),{href:"/analysis/macros/new",children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:U})," New Macro",(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(H,{className:"h-4 w-4"})})]})}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarItem,{disabled:!C,onClick:()=>et.current.abort(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:K,className:(0,i.d)(C&&"text-red-400")}),"Abort ",(null===(l=X.current)||void 0===l?void 0:l.name)||""]})]})]})]})},[c,n,J,W,t,C,en,er,g.result,f,Q,ee,G,ea])),(0,a.jsx)(RealtimeAnalysisChart,{...p})}},76693:function(e,t,n){"use strict";n.d(t,{Z:function(){return Card}});var r=n(26248),a=n(73918);n(49738);let o=(0,a.j)(["relative rounded-lg  bg-white dark:bg-zinc-900/60","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.05)]","dark:before:-inset-px dark:before:rounded-xl","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_rgba(0,_0,_0,_0.20),_0px_1px_0px_0px_rgba(255,_255,_255,_0.07)_inset]"]),Card=e=>(0,r.jsx)("div",{className:o({className:e.className}),children:e.children})},81503:function(e,t,n){"use strict";n.d(t,{$:function(){return Spinner}});var r=n(26248),a=n(44838);let Spinner=e=>(0,r.jsxs)("svg",{className:(0,a.m)("h-5 w-5 animate-spin text-black dark:text-white",e.noMargin?"":"-ml-1 mr-3",e.className),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},63440:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var r=n(26248),a=n(49738),o=n(40514),l=n(73918),i=n(50962);let s=(0,l.j)((0,i.d)("flex w-full rounded-md border border-input bg-transparent px-3 py-1.5 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground","border-zinc-300 text-zinc-900 placeholder-zinc-300 ring-brand-600 dark:border-zinc-800 dark:text-zinc-100 dark:placeholder-zinc-700 dark:focus:ring-brand-400 ","focus:ring-offset-zinc-900 sm:text-sm block w-full rounded-md border text-left shadow-sm ring-inset ring-offset-zinc-900 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 sm:leading-6","active:translate-y-px active:scale-[99%] active:outline-none","disabled:cursor-not-allowed disabled:opacity-50"),{variants:{variant:{plain:"shadow-none bg-transparent text-zinc-700 dark:text-zinc-300 dark:bg-transparent",default:"dark:bg-zinc-800 bg-white",error:"border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700"}},defaultVariants:{variant:"plain"}}),d=a.forwardRef((e,t)=>{let{className:n,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,o.cn)(s(l),n),ref:t,...l})});(0,o.h)(d,"Input")},24740:function(e,t,n){"use strict";n.d(t,{Jt:function(){return a},uo:function(){return xEndstopOptions}});var r=n(78185);let xEndstopOptions=(e,t)=>{let n=[];if((null==t?void 0:t.toolboard)!=null&&n.push({id:"endstop-toolboard",title:"Physical Endstop",badge:[{color:"sky",children:"".concat(t.toolboard.name," T").concat(t.toolNumber)}]}),(null==t?void 0:t.axis)===r.po.x){var a,o,l,i;n.push({id:"endstop",title:"Physical Endstop",badge:[{color:"purple",children:null!==(l=null==e?void 0:null===(a=e.controlboard)||void 0===a?void 0:a.name)&&void 0!==l?l:"Control Board"}]}),n.push({id:"sensorless",title:"Sensorless Homing",badge:[{color:"purple",children:null!==(i=null==e?void 0:null===(o=e.controlboard)||void 0===o?void 0:o.name)&&void 0!==i?i:"Control Board"}]})}return n},a={id:"endstop",title:"Physical Endstop",badge:[{color:"purple",children:"Control Board"}]}},17533:function(e,t,n){"use strict";n.d(t,{O:function(){return useIsClient}});var r=n(49738);let useIsClient=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e}},33334:function(e,t,n){"use strict";n.d(t,{YC:function(){return useToolheads},yk:function(){return useToolheadConfiguration}});var r=n(51758),a=n(97370),o=n(55797),l=n(49738),i=n(48418),s=n(57674),d=n(89553),c=n(24740),u=n(17710);let useToolheads=()=>{let e=(0,o.sJ)(s.$T),t=(0,l.useMemo)(()=>null==e?void 0:e.filter(Boolean).map(e=>new r.D(e)),[e]);return t},useToolheadConfiguration=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,o.sJ)(s.wm),m=(0,l.useRef)(n);m.current!==n&&n.length>0&&(m.current=n.slice());let f=(0,l.useMemo)(()=>{var n;let a=null===(n=m.current)||void 0===n?void 0:n.filter(Boolean).map(e=>new r.D(e)),o=null==a?void 0:a.find(t=>t.getTool()===e||t.getMotionAxis()===e||t.getExtruderAxis()===e);if(null==o&&t)throw Error("Toolhead with number or axis ".concat(e," not found"));return null!=o?o:null},[t,e,m.current]),[p,h]=(0,l.useState)(!1),x=(0,o._8)(e=>{let{set:t,snapshot:n}=e;return async e=>{var o,l,m,f;let x=new r.D(e),b=await n.getPromise((0,s.AF)(x.getTool()));if(null==b)throw Error("Toolhead ".concat(x.getToolCommand()," not found"));let g=new r.D(b);if(e.extruder.id!=g.getExtruder().id&&null!=e.extruder.stepper){let n=(0,a.WZ)(e.extruder.stepper);null!=n&&t((0,i.ew)(x.getExtruderAxis()),t=>{var r;return null==t?null:{...t,stepper:n.id,current:null!==(r=e.extruder.current)&&void 0!==r?r:.71*n.maxPeakCurrent}})}if((null===(o=e.toolboard)||void 0===o?void 0:o.id)!==(null===(l=g.getToolboard())||void 0===l?void 0:l.id)){if(null==e.toolboard&&"endstop-toolboard"===e.xEndstop.id&&(e.xEndstop=c.Jt),null===(m=e.partFan)||void 0===m?void 0:m.id.endsWith("-toolboard")){let t=(0,u.gL)(null,e).shift();if(null==t)throw Error("No part fan options available for current T".concat(e.toolNumber," configuration"));e.partFan=t}if(null===(f=e.hotendFan)||void 0===f?void 0:f.id.endsWith("-toolboard")){let t=(0,u.Yo)(null,e).shift();if(null==t)throw Error("No hotend fan options available for current T".concat(e.toolNumber," configuration"));e.hotendFan=t}}e.thermistor!==g.getThermistor()&&e.thermistor!==e.hotend.thermistor?h(!0):e.hotend.id==g.getHotend().id||p||(e.thermistor=e.hotend.thermistor);let v=d.PY.extend({toolNumber:d.Qr}).nullable().safeParse({...e,toolNumber:g.getTool()});return v.success&&t((0,s.AF)(g.getTool()),v.data),v}},[p]);return{toolhead:f,setToolhead:x}}},39634:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return esm_browser_v4}});let a="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var o={randomUUID:a};let l=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();e=e||{};let a=e.random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(l)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(a)}},54456:function(e,t,n){"use strict";function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(e,[t,n]){return Math.min(n,Math.max(t,e))}n.d(t,{u:function(){return $ae6933e535247d3d$export$7d15b64cf5a3a4c4}})},76843:function(e,t,n){"use strict";n.d(t,{D:function(){return $010c2913dbd2fe3d$export$5cae361ad82dce8b}});var r=n(49738);function $010c2913dbd2fe3d$export$5cae361ad82dce8b(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},45489:function(e,t,n){"use strict";function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return _tagged_template_literal}})}},function(e){e.O(0,[6545,4565,1691,6357,4962,9806,4998,6006,5325,5956,7409,253,4258,1629,8227,8055,9607,5557,2537,7660,5670,7705,7370,9008,7399,8625,1744],function(){return e(e.s=49398)}),_N_E=e.O()}]);
//# sourceMappingURL=page-eb3a281dfefd0e5f.js.map