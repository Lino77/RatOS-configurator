(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2490],{80297:function(e,t,n){let a=n(49738),o=a.forwardRef(function({title:e,titleId:t,...n},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),a.createElement("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"}))});e.exports=o},99841:function(e,t,n){let a=n(49738),o=a.forwardRef(function({title:e,titleId:t,...n},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z"}))});e.exports=o},46538:function(e,t,n){Promise.resolve().then(n.bind(n,82181))},27266:function(e,t,n){"use strict";n.d(t,{k:function(){return useGcodeCommand}});var a=n(49738),o=n(61352);let useGcodeCommand=()=>{let e=(0,o.xH)("printer.gcode.script");return(0,a.useCallback)(async function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];let l=[t[0]];a.forEach((e,n)=>{l.push(e.toString(),t[n+1])});let s=l.join(""),i=await e.mutateAsync({script:s});console.log(s,i)},[])}},82181:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Page}});var a=n(26248),o=n(49738),l=n(45489),s=n(80297),i=n(27266),d=n(50962),c=n(90077),u=n(81503),f=n(97134),m=n(15970),p=n(33334),x=n(76693),h=n(61518),g=n(69590),b=n(72579),v=n(44343),w=n(57812),y=n(55797),j=n(48418);f.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useRealtimeAnalysisChart=e=>{var t,n,a,l,s,i,d,c,u,m,x;let[g,w]=(0,o.useState)(!1),N=(0,p.YC)(),_=(0,y.sJ)(j.OS),S=null!=e?e:N[0].getYAccelerometerName(),M=null!==(d="controlboard"===S?null==_?void 0:_.name:"toolboard_t0"===S?null===(t=N[0].getToolboard())||void 0===t?void 0:t.name:"toolboard_t1"===S?null===(n=N[1].getToolboard())||void 0===n?void 0:n.name:"rpi"===S?"Raspberry Pi":"N/A")&&void 0!==d?d:"N/A",k=(0,h.ZA)(),R=(0,h.QR)("x"),E=(0,h.QR)("y"),A=(0,h.QR)("z"),C=null!==(c=null===(a=R.data.current)||void 0===a?void 0:a.yAxis)&&void 0!==c?c:null,D=null!==(u=null===(l=E.data.current)||void 0===l?void 0:l.yAxis)&&void 0!==u?u:null,P=null!==(m=null===(s=A.data.current)||void 0===s?void 0:s.yAxis)&&void 0!==m?m:null,T=(0,b.Tv)([C,D,P]),z=null!==(x=null===(i=k.surface.current)||void 0===i?void 0:i.yAxes.getById(h.ck))&&void 0!==x?x:null,I=(0,b.Tv)(z,h.as),$=(0,b.Dv)(),O=(0,o.useRef)(new Date().getTime());(0,o.useEffect)(()=>{g&&(O.current=new Date().getTime())},[g]);let V=(0,b.ag)(e=>{var t;let n=k.surface.current;if(null==n)return;let a=new Date().getTime()-O.current;O.current=new Date().getTime();let o=null===(t=k.data.current)||void 0===t?void 0:t.animationSeries;if(null==o)throw Error("No animation data series");o.x.clear(),o.y.clear(),o.z.clear(),o.total.clear(),o.x.appendRange(e.x.frequencies,e.x.estimates),o.y.appendRange(e.y.frequencies,e.y.estimates),o.z.appendRange(e.z.frequencies,e.z.estimates),o.total.appendRange(e.total.frequencies,e.total.estimates),n.renderableSeries.getById("x").runAnimation(new f.MountainAnimation({duration:a,ease:f.easing.inOutCirc,dataSeries:o.x})),n.renderableSeries.getById("y").runAnimation(new f.MountainAnimation({duration:a,ease:f.easing.inOutCirc,dataSeries:o.y})),n.renderableSeries.getById("z").runAnimation(new f.MountainAnimation({duration:a,ease:f.easing.inOutCirc,dataSeries:o.z})),n.renderableSeries.getById("total").runAnimation(new f.MountainAnimation({duration:a,ease:f.easing.inOutCirc,dataSeries:o.total})),I(new f.NumberRange(e.total.powerRange.min,e.total.powerRange.max))}),Z=(0,b.Gs)($.sampleRate,V.onData),F=(0,b.O3)($,async(e,t,n,a)=>{let o=(0,v.iQ)(t),l=(0,v.iQ)(n),s=(0,v.iQ)(a);t.dispose(),n.dispose(),a.dispose(),Promise.all([e.array(),o.array(),l.array(),s.array()]).then(e=>{var t,n,a,o,l,s;let[i,d,c,u]=e;null===(t=R.data.current)||void 0===t||t.signalData.appendRange(i,d),null===(n=E.data.current)||void 0===n||n.signalData.appendRange(i,c),null===(a=A.data.current)||void 0===a||a.signalData.appendRange(i,u),null===(o=R.data.current)||void 0===o||o.historyData.appendRange(i,d),null===(l=E.data.current)||void 0===l||l.historyData.appendRange(i,c),null===(s=A.data.current)||void 0===s||s.historyData.appendRange(i,u)}),T(),Z(e,o,l,s,!0)});return(0,b.kP)(F),(0,b.ko)({sensor:S,enabled:g,onDataUpdate:$.onData}),(0,o.useMemo)(()=>({isChartEnabled:g,setIsChartEnabled:w,psds:V,currentAccelerometer:S,currentAccelerometerHardwareName:M,chartProps:{xSignalChart:R,ySignalChart:E,zSignalChart:A,psdChart:k}}),[g,V,S,M,R,E,A,k])},RealtimeAnalysisChart=e=>{let{xSignalChart:t,ySignalChart:n,zSignalChart:o,psdChart:l}=e;return(0,a.jsxs)("div",{className:"flex max-h-full min-h-full flex-col space-y-4 @container",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 @screen-lg:grid-cols-3",children:[(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,d.d)("flex-none rounded-full bg-yellow-400/10 p-1 text-yellow-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"X Signal"})]}),(0,a.jsx)(g.iB,{...t.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(w.I,{className:"ml-[150px] bg-zinc-900"})})]}),(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,d.d)("flex-none rounded-full bg-sky-400/10 p-1 text-sky-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Y Signal"})]}),(0,a.jsx)(g.iB,{...n.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(w.I,{className:"ml-[150px] bg-zinc-900"})})]}),(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,d.d)("flex-none rounded-full bg-rose-400/10 p-1 text-rose-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Z Signal"})]}),(0,a.jsx)(g.iB,{...o.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(w.I,{className:"ml-[150px] bg-zinc-900"})})]})]}),(0,a.jsx)(x.Z,{className:"flex flex-1 overflow-hidden",children:(0,a.jsx)(g.iB,{...l.forwardProps,className:"flex-1",fallback:(0,a.jsx)(w.I,{className:"ml-[150px] bg-zinc-900"})})})]})};var N=n(99841),_=n(11590),S=n.n(_),M=n(64918),k=n(39634),R=n(98055),E=n(33760),A=n(87155),C=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let D=(0,C.Z)("PencilRuler",[["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m2 22 5.5-1.5L21.17 6.83a2.82 2.82 0 0 0-4-4L3.5 16.5Z",key:"hes763"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}]]);var P=n(36577),T=n(54456),z=n(91036),I=n(50320),$=n(74706),O=n(34952),V=n(69770),Z=n(76843),F=n(25800),B=n(10716),U=n(19771);let H=["PageUp","PageDown"],L=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],K={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Y="Slider",[Q,W,X]=(0,U.B)(Y),[q,G]=(0,$.b)(Y,[X]),[J,ee]=q(Y),et=(0,o.forwardRef)((e,t)=>{let{name:n,min:a=0,max:l=100,step:s=1,orientation:i="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[a],value:f,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:x=!1,...h}=e,[g,b]=(0,o.useState)(null),v=(0,I.e)(t,e=>b(e)),w=(0,o.useRef)(new Set),y=(0,o.useRef)(0),j=!g||!!g.closest("form"),N="horizontal"===i?ea:eo,[_=[],S]=(0,O.T)({prop:f,defaultProp:u,onChange:e=>{var t;let n=[...w.current];null===(t=n[y.current])||void 0===t||t.focus(),m(e)}}),M=(0,o.useRef)(_);function updateValues(e,t,{commit:n}={commit:!1}){let o=(String(s).split(".")[1]||"").length,i=function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-a)/s)*s+a,o),d=(0,T.u)(i,[a,l]);S((e=[])=>{let a=function(e=[],t,n){let a=[...e];return a[n]=t,a.sort((e,t)=>e-t)}(e,d,t);if(!function(e,t){if(t>0){let n=e.slice(0,-1).map((t,n)=>e[n+1]-t);return Math.min(...n)>=t}return!0}(a,c*s))return e;{y.current=a.indexOf(d);let t=String(a)!==String(e);return t&&n&&p(a),t?a:e}})}return(0,o.createElement)(J,{scope:e.__scopeSlider,disabled:d,min:a,max:l,valueIndexToChangeRef:y,thumbs:w.current,values:_,orientation:i},(0,o.createElement)(Q.Provider,{scope:e.__scopeSlider},(0,o.createElement)(Q.Slot,{scope:e.__scopeSlider},(0,o.createElement)(N,(0,P.Z)({"aria-disabled":d,"data-disabled":d?"":void 0},h,{ref:v,onPointerDown:(0,z.M)(h.onPointerDown,()=>{d||(M.current=_)}),min:a,max:l,inverted:x,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t)),a=Math.min(...n);return n.indexOf(a)}(_,e);updateValues(e,t)},onSlideMove:d?void 0:function(e){updateValues(e,y.current)},onSlideEnd:d?void 0:function(){let e=M.current[y.current],t=_[y.current];t!==e&&p(_)},onHomeKeyDown:()=>!d&&updateValues(a,0,{commit:!0}),onEndKeyDown:()=>!d&&updateValues(l,_.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let n=H.includes(e.key),a=n||e.shiftKey&&L.includes(e.key),o=y.current,l=_[o],i=s*(a?10:1)*t;updateValues(l+i,o,{commit:!0})}}})))),j&&_.map((e,t)=>(0,o.createElement)($faa2e61a3361514f$var$BubbleInput,{key:t,name:n?n+(_.length>1?"[]":""):void 0,value:e})))}),[er,en]=q(Y,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ea=(0,o.forwardRef)((e,t)=>{let{min:n,max:a,dir:l,inverted:s,onSlideStart:i,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...f}=e,[m,p]=(0,o.useState)(null),x=(0,I.e)(t,e=>p(e)),h=(0,o.useRef)(),g=(0,V.gm)(l),b="ltr"===g,v=b&&!s||!b&&s;function getValueFromPointer(e){let t=h.current||m.getBoundingClientRect(),o=[0,t.width],l=$faa2e61a3361514f$var$linearScale(o,v?[n,a]:[a,n]);return h.current=t,l(e-t.left)}return(0,o.createElement)(er,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width"},(0,o.createElement)(el,(0,P.Z)({dir:g,"data-orientation":"horizontal"},f,{ref:x,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientX);null==i||i(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientX);null==d||d(t)},onSlideEnd:()=>{h.current=void 0,null==c||c()},onStepKeyDown:e=>{let t=K[v?"from-left":"from-right"].includes(e.key);null==u||u({event:e,direction:t?-1:1})}})))}),eo=(0,o.forwardRef)((e,t)=>{let{min:n,max:a,inverted:l,onSlideStart:s,onSlideMove:i,onSlideEnd:d,onStepKeyDown:c,...u}=e,f=(0,o.useRef)(null),m=(0,I.e)(t,f),p=(0,o.useRef)(),x=!l;function getValueFromPointer(e){let t=p.current||f.current.getBoundingClientRect(),o=[0,t.height],l=$faa2e61a3361514f$var$linearScale(o,x?[a,n]:[n,a]);return p.current=t,l(e-t.top)}return(0,o.createElement)(er,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1},(0,o.createElement)(el,(0,P.Z)({"data-orientation":"vertical"},u,{ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientY);null==s||s(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientY);null==i||i(t)},onSlideEnd:()=>{p.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=K[x?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))}),el=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,onSlideStart:a,onSlideMove:l,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:d,onStepKeyDown:c,...u}=e,f=ee(Y,n);return(0,o.createElement)(B.WV.span,(0,P.Z)({},u,{ref:t,onKeyDown:(0,z.M)(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):H.concat(L).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,z.M)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),f.thumbs.has(t)?t.focus():a(e)}),onPointerMove:(0,z.M)(e.onPointerMove,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:(0,z.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})}))}),es=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,...a}=e,l=ee("SliderTrack",n);return(0,o.createElement)(B.WV.span,(0,P.Z)({"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation},a,{ref:t}))}),ei="SliderRange",ed=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,...a}=e,l=ee(ei,n),s=en(ei,n),i=(0,o.useRef)(null),d=(0,I.e)(t,i),c=l.values.length,u=l.values.map(e=>$faa2e61a3361514f$var$convertValueToPercentage(e,l.min,l.max));return(0,o.createElement)(B.WV.span,(0,P.Z)({"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0},a,{ref:d,style:{...e.style,[s.startEdge]:(c>1?Math.min(...u):0)+"%",[s.endEdge]:100-Math.max(...u)+"%"}}))}),ec="SliderThumb",eu=(0,o.forwardRef)((e,t)=>{let n=W(e.__scopeSlider),[a,l]=(0,o.useState)(null),s=(0,I.e)(t,e=>l(e)),i=(0,o.useMemo)(()=>a?n().findIndex(e=>e.ref.current===a):-1,[n,a]);return(0,o.createElement)(ef,(0,P.Z)({},e,{ref:s,index:i}))}),ef=(0,o.forwardRef)((e,t)=>{var n;let{__scopeSlider:a,index:l,...s}=e,i=ee(ec,a),d=en(ec,a),[c,u]=(0,o.useState)(null),f=(0,I.e)(t,e=>u(e)),m=(0,F.t)(c),p=i.values[l],x=void 0===p?0:$faa2e61a3361514f$var$convertValueToPercentage(p,i.min,i.max),h=(n=i.values.length)>2?`Value ${l+1} of ${n}`:2===n?["Minimum","Maximum"][l]:void 0,g=null==m?void 0:m[d.size],b=g?function(e,t,n){let a=e/2,o=$faa2e61a3361514f$var$linearScale([0,50],[0,a]);return(a-o(t)*n)*n}(g,x,d.direction):0;return(0,o.useEffect)(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),(0,o.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${x}% + ${b}px)`}},(0,o.createElement)(Q.ItemSlot,{scope:e.__scopeSlider},(0,o.createElement)(B.WV.span,(0,P.Z)({role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0},s,{ref:f,style:void 0===p?{display:"none"}:e.style,onFocus:(0,z.M)(e.onFocus,()=>{i.valueIndexToChangeRef.current=l})}))))}),$faa2e61a3361514f$var$BubbleInput=e=>{let{value:t,...n}=e,a=(0,o.useRef)(null),l=(0,Z.D)(t);return(0,o.useEffect)(()=>{let e=a.current,n=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(n,"value"),s=o.set;if(l!==t&&s){let n=new Event("input",{bubbles:!0});s.call(e,t),e.dispatchEvent(n)}},[l,t]),(0,o.createElement)("input",(0,P.Z)({style:{display:"none"}},n,{ref:a,defaultValue:t}))};function $faa2e61a3361514f$var$convertValueToPercentage(e,t,n){return(0,T.u)(100/(n-t)*(e-t),[0,100])}function $faa2e61a3361514f$var$linearScale(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(n-e[0])}}var em=n(40514);let ep=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,a.jsxs)(et,{ref:t,className:(0,em.cn)("relative flex w-full touch-none select-none items-center",n),...o,children:[(0,a.jsx)(es,{className:(0,em.cn)("relative h-1.5 w-full grow rounded-full bg-zinc-400/10","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[0px_-1px_0px_0px_hsl(var(--zinc-400)_/_15%)_inset,_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]"),children:(0,a.jsx)(ed,{className:(0,em.cn)("absolute h-full rounded-full bg-brand-400/80","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[inset_0px_-1px_0px_0px_hsl(var(--brand-200)_/_20%),_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]")})}),(0,a.jsx)(eu,{className:(0,em.cn)("block h-4 w-4 rounded-full border border-zinc-700 bg-zinc-700 shadow transition-colors","focus-visible:outline-none focus-visible:ring-0 disabled:pointer-events-none disabled:opacity-50","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.03)]","dark:before:inset-px dark:before:rounded-full","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_hsl(var(--zinc-900)),_0px_1px_0px_0px_hsl(var(--zinc-400)_/_20%)_inset]")})]})});(0,em.h)(ep,et.displayName);var ex=n(63440);function _templateObject(){let e=(0,l._)(["\n			OSCILLATE FREQ="," TIME="," AXIS=","\n			"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,l._)(["\n						","\n						M400\n					"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,l._)(["MAYBE_HOME"]);return _templateObject2=function(){return e},e}f.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useOscillator=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,a]=(0,o.useState)(0),l=(0,o.useRef)(n);l.current=n;let[s,i]=(0,o.useState)("x"),d=(0,o.useRef)(s);d.current=s;let c=(0,o.useRef)(!1),u=(0,o.useRef)(t);u.current=t;let f=(0,o.useCallback)(async()=>{if(l.current<=0)return;let t=500/l.current,n=Math.floor(Math.max(250,500-500%t));c.current=!0;let a="a"===d.current?"1,1":"b"===d.current?"1,-1":d.current,o=new Date().getTime();try{await e(_templateObject(),l.current,n/1e3,a);let t=new Date().getTime()-o;c.current=!1,l.current>0&&u.current&&t>n/2&&f()}catch(e){c.current=!1,(0,A.j)().error("Failed to oscillate",e),R.A.error("Failed to oscillate",{description:'\n					<div>\n						<p>An error occurred while trying to oscillate the printer:</p>\n						<pre class="text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap">'.concat(e instanceof Error?e.message:e instanceof String?e:"Unknown error","</pre>\n					</div>\n				")})}},[e]);return(0,o.useEffect)(()=>{n>0&&!c.current&&t&&f()},[f,n,t]),{frequency:n,setFrequency:a,axis:s,setAxis:i}},eh={onError(e,t){(0,A.j)().error("Failed to save macro sequence recording",{error:e,variables:{...t,psd:"removed from log.."}})}},Analysis=()=>{let e=(0,E.useRouter)(),[t,n]=(0,o.useState)(void 0),{isChartEnabled:l,setIsChartEnabled:f,chartProps:p,psds:x,currentAccelerometer:h,currentAccelerometerHardwareName:g}=useRealtimeAnalysisChart(t),[b]=M.SX.analysis.getMacros.useSuspenseQuery({limit:10}),{mutateAsync:v}=M.SX.analysis.saveRecording.useMutation(eh),[w,y]=(0,o.useState)(!1),[j,_]=(0,o.useState)(!1),C=(0,i.k)(),{frequency:P,setFrequency:T,axis:z,setAxis:I}=useOscillator(C,l&&!j),$=(0,o.useCallback)(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return async()=>{T(0),_(!0),f(!0);try{await e(...n)}catch(e){(0,A.j)().error("Macro run failed",e),R.A.error("Macro failed",{description:e instanceof Error?e.message:e instanceof String?e:"An unknown error occurred while running the macro"})}finally{_(!1),y(!1),f(!1)}}},[T,f]),O=(0,o.useMemo)(()=>w?(0,a.jsx)(c.jXb,{className:"h-4 w-4 scale-150 text-red-400"}):j?(0,a.jsx)(u.$,{noMargin:!0,className:"h-4 w-4"}):(0,a.jsx)(N,{className:"h-4 w-4"}),[j,w]),V=(0,o.useCallback)(t=>$(async()=>{let a=k.Z(),o=[],l=t.sequences.map(e=>async()=>{var l,s,i;let d=new Date().getTime();if(n(null===(l=e.recording)||void 0===l?void 0:l.accelerometer),(null===(s=e.recording)||void 0===s?void 0:s.capturePSD)&&(await x.startAccumulation(),y(!0)),await C(_templateObject1(),e.gcode),null===(i=e.recording)||void 0===i?void 0:i.capturePSD){let n=await x.stopAccumulation();y(!1),o.push(v({recording:{id:k.Z(),macroRecordingRunId:a,macroId:t.id,sequenceId:e.id,startTimeStamp:d,endTimeStamp:new Date().getTime(),psd:n,name:e.name,accelerometer:h,recordingHardwareName:g}}))}});await l.reduce((e,t)=>e.then(t),Promise.resolve());let s=R.A.loading("Saving recordings...",{description:"Please wait for recordings to be saved."});try{await Promise.all(o),R.A.success("Macro run completed",{id:s,description:'Macro "'.concat(t.name,'" completed successfully'),action:{label:"View Result",onClick:()=>e.push("/analysis/macros/".concat(t.id,"/recordings"))}})}catch(e){R.A.error("Macro run failed",{id:s,description:'An error occurred while saving macro result data for "'.concat(t.name,'"')})}}),[C,v,x,h,g,e,$]);return(0,m.Ty)("analysis",(0,o.useCallback)(e=>{var t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap space-x-2 whitespace-nowrap text-nowrap",children:[(0,a.jsx)(s,{className:(0,d.d)("h-4 w-4",l&&"text-brand-400")})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Stream"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarItem,{disabled:l||j,onClick:async()=>{f(!0)},children:"Start"}),(0,a.jsx)(e.MenubarItem,{disabled:!l||j,onClick:async()=>{f(!1)},children:"Stop"})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap space-x-2 whitespace-nowrap text-nowrap",children:[(0,a.jsx)(D,{className:"size-4"})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Tools"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarItem,{disabled:j,onSelect:$(async()=>{await C(_templateObject2())}),children:"Home Printer"}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsx)(e.MenubarSubTrigger,{children:"Oscillator"}),(0,a.jsxs)(e.MenubarSubContent,{children:[(0,a.jsxs)(e.MenubarRadioGroup,{value:z,onValueChange:e=>I(e),children:[(0,a.jsx)(e.MenubarRadioItem,{value:"x",className:(0,d.d)("x"===z&&P>0&&"font-semibold text-brand-400"),children:"Oscillate in X"}),(0,a.jsx)(e.MenubarRadioItem,{value:"y",className:(0,d.d)("y"===z&&P>0&&"font-semibold text-brand-400"),children:"Oscillate in Y"}),(0,a.jsx)(e.MenubarRadioItem,{value:"a",className:(0,d.d)("a"===z&&P>0&&"font-semibold text-brand-400"),children:"Oscillate in A"}),(0,a.jsx)(e.MenubarRadioItem,{value:"b",className:(0,d.d)("b"===z&&P>0&&"font-semibold text-brand-400"),children:"Oscillate in B"})]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)("div",{className:"min-w-48 p-4",children:[(0,a.jsx)(ep,{min:0,className:"mt-4",max:200,value:[P],onValueChange:e=>T(e[0]),step:.1}),(0,a.jsxs)("h3",{className:"mt-4 text-center text-2xl font-medium tracking-tight",children:[(0,a.jsx)(ex.I,{type:"number",size:1,max:200,min:0,onKeyUp:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),className:"m-0 inline min-w-0 border-none bg-transparent p-0 text-right font-mono text-3xl font-medium tracking-tight",value:P.toFixed(1),style:{width:P.toFixed(1).length+"rem"},onChange:e=>T(parseFloat(e.target.value))}),"Hz"]})]})]})]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap space-x-2 whitespace-nowrap text-nowrap",children:[O," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Macros"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[null===(t=b.result)||void 0===t?void 0:t.map(t=>(0,a.jsx)(e.MenubarItem,{disabled:j,onSelect:V(t),children:t.name},t.id)),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsx)(e.MenubarItem,{disabled:j,asChild:!0,children:(0,a.jsx)(S(),{href:"/analysis/macros",children:"View all macros"})}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsx)(e.MenubarItem,{disabled:!0,children:"Abort"})]})]})]})},[l,j,$,P,z,O,b.result,f,C,I,T,V])),(0,a.jsx)(RealtimeAnalysisChart,{...p})};var eg=n(69009);function Skeleton(e){let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,em.cn)("animate-pulse rounded-md bg-zinc-400/10",t),...n})}function Loading(){return(0,a.jsx)("div",{className:"h-full p-4 @container",children:(0,a.jsxs)("div",{className:"flex max-h-full min-h-full flex-col space-y-4 @container",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 @screen-lg:grid-cols-3",children:[(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,d.d)("flex-none rounded-full bg-yellow-400/10 p-1 text-yellow-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)(Skeleton,{className:"h-4 w-32"})]}),(0,a.jsx)(w.I,{className:""})]}),(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,d.d)("flex-none rounded-full bg-sky-400/10 p-1 text-sky-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)(Skeleton,{className:"h-4 w-32"})]}),(0,a.jsx)(w.I,{className:""})]}),(0,a.jsxs)(x.Z,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,d.d)("flex-none rounded-full bg-rose-400/10 p-1 text-rose-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)(Skeleton,{className:"h-4 w-32"})]}),(0,a.jsx)(w.I,{className:""})]})]}),(0,a.jsx)(x.Z,{className:"relative flex flex-1 overflow-hidden",children:(0,a.jsx)(w.I,{className:"absolute inset-0"})})]})})}function Page(){return(0,a.jsx)(eg.NoSSR,{fallback:(0,a.jsx)(Loading,{}),children:(0,a.jsx)("div",{className:"h-full p-4 @container",children:(0,a.jsx)(Analysis,{})})})}},15970:function(e,t,n){"use strict";n.d(t,{Q:function(){return MenuBarProvider},Ff:function(){return TopMenu},Er:function(){return useMenuBarProvider},Ty:function(){return useTopMenu}});var a={};n.r(a),n.d(a,{Menubar:function(){return j},MenubarCheckboxItem:function(){return R},MenubarContent:function(){return M},MenubarGroup:function(){return b},MenubarItem:function(){return k},MenubarLabel:function(){return A},MenubarMenu:function(){return g},MenubarPortal:function(){return v},MenubarRadioGroup:function(){return y},MenubarRadioItem:function(){return E},MenubarSeparator:function(){return C},MenubarShortcut:function(){return MenubarShortcut},MenubarSub:function(){return w},MenubarSubContent:function(){return S},MenubarSubTrigger:function(){return _},MenubarTrigger:function(){return N}});var o=n(26248),l=n(65778),s=n(97570),i=n(21629),d=n(49738),c=n(50962),u=n(99407),f=n.n(u),m=n(30273),p=n(90077),x=n(65623),h=n(40514);let g=x.v2,b=x.ZA,v=x.h_,w=x.Tr,y=x.Ee,j=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,o.jsx)(x.fC,{ref:t,className:(0,h.cn)("flex items-center space-x-1 rounded-md shadow-sm",n),...a})});(0,h.h)(j,x.fC.displayName);let N=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,o.jsx)(x.xz,{ref:t,className:(0,h.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",n),...a})});(0,h.h)(N,x.xz.displayName);let _=d.forwardRef((e,t)=>{let{className:n,inset:a,children:l,...s}=e;return(0,o.jsxs)(x.fF,{ref:t,className:(0,h.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",a&&"pl-8",n),...s,children:[l,(0,o.jsx)(p.XCv,{className:"ml-auto h-4 w-4"})]})});(0,h.h)(_,x.fF.displayName);let S=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,o.jsx)(x.tu,{ref:t,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})});(0,h.h)(S,x.tu.displayName);let M=d.forwardRef((e,t)=>{let{className:n,align:a="start",alignOffset:l=-4,sideOffset:s=8,...i}=e;return(0,o.jsx)(x.h_,{children:(0,o.jsx)(x.VY,{ref:t,align:a,alignOffset:l,sideOffset:s,className:(0,h.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})});(0,h.h)(M,x.VY.displayName);let k=d.forwardRef((e,t)=>{let{className:n,inset:a,...l}=e;return(0,o.jsx)(x.ck,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a&&"pl-8",n),...l})});(0,h.h)(k,x.ck.displayName);let R=d.forwardRef((e,t)=>{let{className:n,children:a,checked:l,...s}=e;return(0,o.jsxs)(x.oC,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:l,...s,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(x.wU,{children:(0,o.jsx)(p.nQG,{className:"h-4 w-4"})})}),a]})});(0,h.h)(R,x.oC.displayName);let E=d.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,o.jsxs)(x.Rk,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...l,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(x.wU,{children:(0,o.jsx)(p.jXb,{className:"h-4 w-4 fill-current"})})}),a]})});(0,h.h)(E,x.Rk.displayName);let A=d.forwardRef((e,t)=>{let{className:n,inset:a,...l}=e;return(0,o.jsx)(x.__,{ref:t,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",n),...l})});(0,h.h)(A,x.__.displayName);let C=d.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,o.jsx)(x.Z0,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",n),...a})});(0,h.h)(C,x.Z0.displayName);let MenubarShortcut=e=>{let{className:t,...n}=e;return(0,o.jsx)("span",{className:(0,h.cn)("ml-auto text-xs tracking-widest text-muted-foreground",t),...n})};MenubarShortcut.displayname="MenubarShortcut";var D=n(11590),P=n.n(D),T=n(75663);let z=(0,d.createContext)({registerMenu:()=>{throw Error("No menu registered in context")},unregisterMenu:()=>{throw Error("No menu registered in context")},changed:()=>()=>{}}),useMenuBarProvider=()=>{let e=d.useRef(new Map),t=function(){let e=(0,d.useRef)(new Set);return(0,d.useCallback)(t=>{if("function"==typeof t)return e.current.add(t),()=>{e.current.delete(t)};e.current.forEach(e=>e(t))},[])}(),n=(0,d.useCallback)((n,a)=>{var o;e.current.has(n)&&a===(null===(o=e.current.get(n))||void 0===o?void 0:o.render)||(console.log("registering",n),e.current=new Map(e.current).set(n,{render:a,id:n}),t())},[t]),a=(0,d.useCallback)(n=>{console.log("unregistering",n),e.current.delete(n),t()},[t]);return{topMenuProps:{menus:e,menusChanged:t},providerProps:{registerMenu:n,unregisterMenu:a,changed:t}}},MenuBarProvider=e=>(0,o.jsx)(z.Provider,{value:e,children:e.children}),useTopMenu=(e,t)=>{let{registerMenu:n,unregisterMenu:a}=(0,d.useContext)(z);(0,d.useEffect)(()=>(n(e,t),()=>a(e)),[e,n,t,a])},TopMenu=e=>{var t;let{sidebarOpen:n,setSidebarOpen:u,menus:p,menusChanged:x}=e,[h,b]=(0,d.useState)(Array.from(p.current.values()));t=(0,d.useCallback)(()=>{b(Array.from(p.current.values()))},[p]),(0,d.useEffect)(()=>{let e=x(t);return e},[x,t]);let v=(0,o.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center rounded-md p-2 text-zinc-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-zinc-800",children:[(0,o.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?(0,o.jsx)(l,{className:(0,c.d)("block","h-5 w-5"),"aria-hidden":"true"}):(0,o.jsx)(s,{className:(0,c.d)("block","h-5 w-5"),"aria-hidden":"true"})]});return(0,o.jsx)(i.E.div,{className:(0,c.d)("fixed inset-0 z-50 flex h-14 items-center justify-between gap-12 transition lg:left-72 lg:z-30","border-b border-zinc-900/10 backdrop-blur-sm dark:border-white/10 dark:backdrop-blur lg:left-72",!n&&"backdrop-blur-sm dark:backdrop-blur lg:left-72",n?"bg-background":"bg-background/80 dark:bg-background/50"),children:(0,o.jsx)("div",{className:"mx-auto flex-1",children:(0,o.jsxs)("div",{className:"flex h-16 items-center px-4 lg:justify-between",children:[(0,o.jsxs)("div",{className:"flex flex-1 items-center justify-between space-x-4 lg:hidden",children:[(0,o.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,o.jsx)(f(),{width:160,height:40,className:"h-8 w-auto",src:m.Z,alt:"Workflow"})}),0===p.current.size&&v]}),(0,o.jsxs)(j,{className:"lg:flex-1",children:[p.current.size>0&&Array.from(p.current.values()).map(e=>{let{id:t,render:n}=e;return(0,o.jsx)(d.Fragment,{children:n(a)},t)}),(0,o.jsx)(C,{className:"flex-1 bg-transparent"}),(0,o.jsxs)(g,{children:[(0,o.jsxs)(N,{className:"flex-nowrap space-x-2 whitespace-nowrap text-nowrap",children:[(0,o.jsx)(T.Z,{className:"size-4"})," ",(0,o.jsx)("span",{className:"hidden lg:inline",children:"Help"})]}),(0,o.jsxs)(M,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,o.jsx)(k,{asChild:!0,children:(0,o.jsx)(P(),{href:"https://os.ratrig.com/docs/introduction",target:"_blank",rel:"noreferrer",children:"Docs"})}),(0,o.jsx)(k,{asChild:!0,children:(0,o.jsx)(P(),{href:"https://github.com/sponsors/miklschmidt",target:"_blank",rel:"noreferrer",children:"Donate"})})]})]}),(0,o.jsx)(g,{children:(0,o.jsx)(N,{asChild:!0,className:"flex-nowrap whitespace-nowrap text-nowrap lg:hidden",children:v})})]})]})})})}},76693:function(e,t,n){"use strict";n.d(t,{Z:function(){return Card}});var a=n(26248),o=n(73918);n(49738);let l=(0,o.j)(["relative rounded-lg  bg-white dark:bg-zinc-900/60","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.05)]","dark:before:-inset-px dark:before:rounded-xl","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_rgba(0,_0,_0,_0.20),_0px_1px_0px_0px_rgba(255,_255,_255,_0.07)_inset]"]),Card=e=>(0,a.jsx)("div",{className:l({className:e.className}),children:e.children})},63440:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var a=n(26248),o=n(49738),l=n(40514);let s=o.forwardRef((e,t)=>{let{className:n,type:o,...s}=e;return(0,a.jsx)("input",{type:o,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground","focus:border-brand-400/70 focus:outline-none focus:ring-1 focus:ring-transparent disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});(0,l.h)(s,"Input")},24740:function(e,t,n){"use strict";n.d(t,{Jt:function(){return o},uo:function(){return xEndstopOptions}});var a=n(78185);let xEndstopOptions=(e,t)=>{let n=[];return(null==t?void 0:t.toolboard)!=null&&n.push({id:"endstop-toolboard",title:"Physical Endstop (toolboard)"}),(null==t?void 0:t.axis)===a.po.x&&(n.push({id:"endstop",title:"Physical Endstop"}),n.push({id:"sensorless",title:"Sensorless Homing"})),n},o={id:"endstop",title:"Physical Endstop"}},40514:function(e,t,n){"use strict";n.d(t,{cn:function(){return cn},h:function(){return setDisplayName}});var a=n(35209),o=n(44838);function cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m)((0,a.W)(t))}function setDisplayName(e,t){e.displayName=t}},33334:function(e,t,n){"use strict";n.d(t,{YC:function(){return useToolheads},yk:function(){return useToolheadConfiguration}});var a=n(51758),o=n(97370),l=n(55797),s=n(49738),i=n(48418),d=n(57674),c=n(89553),u=n(24740),f=n(31667);let useToolheads=()=>{let e=(0,l.sJ)(d.$T),t=(0,s.useMemo)(()=>null==e?void 0:e.filter(Boolean).map(e=>new a.D(e)),[e]);return t},useToolheadConfiguration=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,l.sJ)(d.wm),m=(0,s.useRef)(n);m.current!==n&&n.length>0&&(m.current=n.slice());let p=(0,s.useMemo)(()=>{var n;let o=null===(n=m.current)||void 0===n?void 0:n.filter(Boolean).map(e=>new a.D(e)),l=null==o?void 0:o.find(t=>t.getTool()===e||t.getMotionAxis()===e||t.getExtruderAxis()===e);if(null==l&&t)throw Error("Toolhead with number or axis ".concat(e," not found"));return null!=l?l:null},[t,e,m.current]),[x,h]=(0,s.useState)(!1),g=(0,l._8)(e=>{let{set:t,snapshot:n}=e;return async e=>{var l,s,m,p;let g=new a.D(e),b=await n.getPromise((0,d.AF)(g.getTool()));if(null==b)throw Error("Toolhead ".concat(g.getToolCommand()," not found"));let v=new a.D(b);if(e.extruder.id!=v.getExtruder().id&&null!=e.extruder.stepper){let n=(0,o.WZ)(e.extruder.stepper);null!=n&&t((0,i.ew)(g.getExtruderAxis()),t=>{var a;return null==t?null:{...t,stepper:n.id,current:null!==(a=e.extruder.current)&&void 0!==a?a:.71*n.maxPeakCurrent}})}if((null===(l=e.toolboard)||void 0===l?void 0:l.id)!==(null===(s=v.getToolboard())||void 0===s?void 0:s.id)){if(null==e.toolboard&&"endstop-toolboard"===e.xEndstop.id&&(e.xEndstop=u.Jt),null===(m=e.partFan)||void 0===m?void 0:m.id.endsWith("-toolboard")){let t=(0,f.gL)(null,e).shift();if(null==t)throw Error("No part fan options available for current T".concat(e.toolNumber," configuration"));e.partFan=t}if(null===(p=e.hotendFan)||void 0===p?void 0:p.id.endsWith("-toolboard")){let t=(0,f.Yo)(null,e).shift();if(null==t)throw Error("No hotend fan options available for current T".concat(e.toolNumber," configuration"));e.hotendFan=t}}e.thermistor!==v.getThermistor()&&e.thermistor!==e.hotend.thermistor?h(!0):e.hotend.id==v.getHotend().id||x||(e.thermistor=e.hotend.thermistor);let w=c.PY.extend({toolNumber:c.Qr}).nullable().safeParse({...e,toolNumber:v.getTool()});return w.success&&t((0,d.AF)(v.getTool()),w.data),w}},[x]);return{toolhead:p,setToolhead:g}}},30273:function(e,t){"use strict";t.Z={src:"/configure/_next/static/media/logo-white.6051cbc7.svg",height:443,width:1728,blurWidth:0,blurHeight:0}},39634:function(e,t,n){"use strict";let a;n.d(t,{Z:function(){return esm_browser_v4}});let o="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var l={randomUUID:o};let s=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,n){if(l.randomUUID&&!t&&!e)return l.randomUUID();e=e||{};let o=e.random||(e.rng||function(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(o)}},54456:function(e,t,n){"use strict";function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(e,[t,n]){return Math.min(n,Math.max(t,e))}n.d(t,{u:function(){return $ae6933e535247d3d$export$7d15b64cf5a3a4c4}})},76843:function(e,t,n){"use strict";n.d(t,{D:function(){return $010c2913dbd2fe3d$export$5cae361ad82dce8b}});var a=n(49738);function $010c2913dbd2fe3d$export$5cae361ad82dce8b(e){let t=(0,a.useRef)({value:e,previous:e});return(0,a.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},45489:function(e,t,n){"use strict";function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return _tagged_template_literal}})},73918:function(e,t,n){"use strict";n.d(t,{j:function(){return cva}});let falsyToString=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,cx=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e){if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t)}return a}(e))&&(a&&(a+=" "),a+=t);return a},cva=(e,t)=>n=>{var a;if((null==t?void 0:t.variants)==null)return cx(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:o,defaultVariants:l}=t,s=Object.keys(o).map(e=>{let t=null==n?void 0:n[e],a=null==l?void 0:l[e];if(null===t)return null;let s=falsyToString(t)||falsyToString(a);return o[e][s]}),i=n&&Object.entries(n).reduce((e,t)=>{let[n,a]=t;return void 0===a||(e[n]=a),e},{}),d=null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:n,className:a,...o}=t;return Object.entries(o).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...l,...i}[t]):({...l,...i})[t]===n})?[...e,n,a]:e},[]);return cx(e,s,d,null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[6545,4565,1691,6357,4962,9806,4998,2584,4838,1441,5956,1590,1629,95,3587,3926,9607,5557,9278,8055,2375,5670,9231,7370,7399,8625,1744],function(){return e(e.s=46538)}),_N_E=e.O()}]);
//# sourceMappingURL=page-e418fcd4082ec2a0.js.map