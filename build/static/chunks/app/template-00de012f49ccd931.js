(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5489],{16347:function(){},20819:function(e,t,r){Promise.resolve().then(r.bind(r,91469))},87155:function(e,t,r){"use strict";r.d(t,{j:function(){return getLogger}});var n=r(74958),a=r.n(n);let s={timestamp:!0};var i=r(29565),l=r(94594);let o=l.z.enum(["trace","debug","info","warn","error","fatal"]),c=l.z.object({ts:l.z.number(),messages:l.z.array(l.z.any()),bindings:l.z.array(l.z.record(l.z.string(),l.z.any())),level:l.z.object({label:o,value:l.z.number()})});var d=r(82189);let send=async function(e,t){i.u.clientLog.mutate({level:e,logEvent:c.parse(t)})},u=null,getLogger=()=>null!=u?u:u=a()({...s,browser:{asObject:!0,serialize:!0,transmit:{send},write:d.write}})},87473:function(e,t,r){"use strict";r.r(t),r.d(t,{Redirecter:function(){return Redirecter},useIsRouteActive:function(){return useIsRouteActive},useLocalPathname:function(){return useLocalPathname},useNavigation:function(){return useNavigation}});var n=r(33760),a=r(49738),s=r(68582),i=r(65792),l=r(83630),o=r(32232);let useLocalPathname=()=>{var e;let t=(null!==(e=(0,n.usePathname)())&&void 0!==e?e:"/").replace("/configure","");return t},useIsRouteActive=()=>{let e=useLocalPathname();return(0,a.useCallback)(t=>e.startsWith(t),[e])},c=[{name:"Setup Wizard",href:"/wizard",current:!1,icon:s.Z},{name:"Dashboard",href:"/",current:!1,icon:i.Z},{name:"Visual Calibration",href:"/calibration",current:!1,icon:l.Z},{name:"Resonance Analysis",href:"/analysis",current:!1,icon:o.Z}],useNavigation=()=>{let e=useIsRouteActive(),t=null,r=[];return c.forEach((n,a)=>{if(n.current=e(n.href),n.current){var s;null!==t&&(null===(s=r[t])||void 0===s?void 0:s.href.length)<n.href.length?(r[t].current=!1,t=a):null!==t?n.current=!1:t=a}r.push(n)}),r},Redirecter=e=>{let t=(0,n.useRouter)(),r=useIsRouteActive();if(e.hasLastPrinterSettings||r("/wizard"))return e.children;t.replace("/wizard")}},91469:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(26248),a=r(49738),s=r(14501),i=r(78263),l=r(30273),o=r(99407),c=r.n(o),d=r(64918),u=r(55797),m=r(72931),f=r(49039),x=r(92940);function HeroPattern(){return(0,n.jsx)("div",{className:"absolute inset-0 -z-10 mx-auto max-w-7xl overflow-hidden lg:left-72",children:(0,n.jsxs)("div",{className:"absolute left-1/2 top-0 -ml-[50%] h-[25rem] w-full bg-background dark:[mask-image:linear-gradient(white,transparent)]",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-400/60 to-lime-400/15 [mask-image:radial-gradient(farthest-side_at_top,white,transparent)]"}),(0,n.jsx)("div",{className:"relative flex h-full w-full items-center justify-center bg-grid-small-black/[0.2] [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] dark:bg-grid-small-brand-400/[0.3]",children:(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]"})})]})})}var h=r(31502),p=r(11590),g=r.n(p),b=r(44838),v=r(50962),j=r(87473),w=r(75450),y=r(41498);let N=[{name:"Debug Zip",href:"/configure/api/debug-zip",icon:w},{name:"Donate",href:"https://github.com/sponsors/miklschmidt",icon:y},{name:"Documentation",href:"https://os.ratrig.com/docs/introduction",icon:y},{name:"Blog",href:"https://os.ratrig.com/blog",icon:y}],SidebarNav=()=>{let e=(0,j.useNavigation)();return(0,n.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,n.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,n.jsx)("li",{children:(0,n.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:e.map(e=>(0,n.jsx)("li",{children:(0,n.jsxs)(g(),{href:e.href,className:(0,b.m)(e.current?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-800 hover:text-white","group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6"),children:[(0,n.jsx)(e.icon,{className:(0,v.d)("h-6 w-6 shrink-0",e.iconClass),"aria-hidden":"true"}),e.name]})},e.name))})}),(0,n.jsxs)("li",{children:[(0,n.jsx)("div",{className:"text-xs font-semibold leading-6 text-zinc-400",children:"External Links"}),(0,n.jsx)("ul",{role:"list",className:"-mx-2 mt-2 space-y-1",children:N.map(e=>(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:e.href,target:"_blank",className:(0,v.d)("text-zinc-400 hover:bg-zinc-800 hover:text-white","group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6"),children:[(0,n.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border border-zinc-700 bg-zinc-800 text-[0.625rem] font-medium text-zinc-400 group-hover:text-white",children:(0,n.jsx)(e.icon,{className:"h-4 w-4","aria-hidden":"true"})}),(0,n.jsx)("span",{className:"truncate",children:e.name})]})},e.name))})]}),(0,n.jsx)("li",{className:"mt-auto",children:(0,n.jsxs)("a",{href:"/",className:"group -mx-2 flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-zinc-400 hover:bg-zinc-800 hover:text-white",children:[(0,n.jsx)(h,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),"Mainsail"]})})]})})};var k=r(79008),z=r(83428),M=r(40514);let C=z.zt;z.fC,z.xz;let S=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...s}=e;return(0,n.jsx)(z.VY,{ref:t,sideOffset:a,className:(0,M.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})});(0,M.h)(S,z.VY.displayName);var R=r(98055);let Toaster=e=>{let{...t}=e;return(0,n.jsx)(R.x,{theme:"dark",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:border-border group-[.toaster]:shadow-lg items-start",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",icon:"mt-0.5"}},...t})},T=new f.S;var E=d.SX.withTRPC(function(e){let{children:t}=e,[r,o]=(0,a.useState)(!1),d=(0,k.Er)();return(0,n.jsx)(x.aH,{client:T,children:(0,n.jsx)(u.Wh,{children:(0,n.jsx)(m.YG,{children:(0,n.jsx)(C,{children:(0,n.jsxs)(k.Q,{...d.providerProps,children:[(0,n.jsxs)("div",{className:"relative flex min-h-full",children:[(0,n.jsxs)("div",{className:"ml-0 min-h-full flex-1 pt-14 transition-all lg:ml-72",children:[(0,n.jsx)(HeroPattern,{}),t]}),(0,n.jsx)(s.u.Root,{show:r,as:a.Fragment,children:(0,n.jsxs)(i.V,{as:"div",className:"relative z-40 lg:hidden",onClose:o,children:[(0,n.jsx)(s.u.Child,{as:a.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-background/80"})}),(0,n.jsx)("div",{className:"fixed inset-0 flex",children:(0,n.jsx)(s.u.Child,{as:a.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,n.jsx)(i.V.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:(0,n.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-zinc-900 bg-background px-6 pb-4 dark:border-white/10",children:[(0,n.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,n.jsx)(c(),{width:160,height:40,className:"h-8 w-auto",src:l.Z,alt:"Workflow"})}),(0,n.jsx)(SidebarNav,{})]})})})})]})}),(0,n.jsx)("div",{className:"pointer-events-none fixed inset-y-0 z-40 flex w-72 flex-col opacity-0 transition-all lg:pointer-events-auto lg:opacity-100",children:(0,n.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-zinc-900/10 bg-background/80 px-6 pb-4 dark:border-white/10 dark:bg-background",children:[(0,n.jsx)("div",{className:"relative -top-1 flex h-16 shrink-0 items-center transition-all lg:top-0",children:(0,n.jsx)(c(),{width:160,height:40,className:"h-8 w-auto",src:l.Z,alt:"Workflow"})}),(0,n.jsx)(SidebarNav,{})]})}),(0,n.jsx)(k.Ff,{setSidebarOpen:o,sidebarOpen:r,...d.topMenuProps})]}),(0,n.jsx)(Toaster,{})]})})})})})})},79008:function(e,t,r){"use strict";r.d(t,{Q:function(){return MenuBarProvider},Ff:function(){return TopMenu},Er:function(){return useMenuBarProvider},Ty:function(){return useTopMenu}});var n={};r.r(n),r.d(n,{Menubar:function(){return N},MenubarCheckboxItem:function(){return F},MenubarContent:function(){return T},MenubarContentIcon:function(){return C},MenubarGroup:function(){return v},MenubarIcon:function(){return z},MenubarItem:function(){return E},MenubarLabel:function(){return P},MenubarMenu:function(){return MenubarMenu},MenubarPortal:function(){return j},MenubarRadioGroup:function(){return y},MenubarRadioItem:function(){return _},MenubarSeparator:function(){return O},MenubarShortcut:function(){return MenubarShortcut},MenubarSub:function(){return w},MenubarSubContent:function(){return R},MenubarSubTrigger:function(){return S},MenubarTrigger:function(){return M}});var a=r(26248),s=r(65778),i=r(97570),l=r(21629),o=r(49738),c=r(50962),d=r(99407),u=r.n(d),m=r(30273),f=r(90077),x=r(65623),h=r(40514),p=r(87044),g=r(95106);let b=o.createContext({value:null}),v=x.ZA,j=x.h_,w=x.Tr,y=x.Ee,N=o.forwardRef((e,t)=>{let{className:r,children:n,...s}=e,[i,l]=o.useState(null);return(0,a.jsx)(b.Provider,{value:{value:i},children:(0,a.jsx)(x.fC,{ref:t,value:null!=i?i:void 0,className:(0,h.cn)("flex items-center space-x-1 rounded-md shadow-sm",r),onValueChange:l,...s,children:n})})});(0,h.h)(N,x.fC.displayName);let k=o.createContext({id:""}),MenubarMenu=e=>{let t=o.useId();return(0,a.jsx)(k.Provider,{value:{id:t},children:(0,a.jsx)(x.v2,{...e,value:t})})},z=o.forwardRef((e,t)=>{let{className:r,Icon:n,...s}=e;return o.cloneElement((0,a.jsx)(n,{ref:t,className:(0,h.cn)("size-4 text-white transition-colors group-data-[state=open]:text-white lg:text-white/60",r),...s}))}),M=o.forwardRef((e,t)=>{let{className:r,children:n,...s}=e,{value:i}=o.useContext(b),{id:d}=o.useContext(k);return(0,a.jsxs)(x.xz,{ref:t,className:(0,h.cn)("group relative flex cursor-default select-none items-center outline-none data-[state=open]:text-accent-foreground focus:text-accent-foreground",r),...s,children:[(0,a.jsx)(p.M,{children:(null==i?void 0:i.replace("radix-",""))==d&&(0,a.jsx)(l.E.div,{layoutId:"menubarTrigger",initial:{opacity:0},animate:{opacity:1,transition:{duration:.1,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.1,delay:.1,ease:"easeIn"}},transition:{type:"spring",damping:20,mass:.5,stiffness:450},className:(0,c.d)("pointer-events-none absolute inset-0 rounded-sm bg-brand-700")})}),(0,a.jsx)("div",{className:"relative z-20 flex flex-1 items-center gap-2 rounded-sm p-3 text-sm font-medium text-accent-foreground",children:n})]})});(0,h.h)(M,x.xz.displayName);let C=o.forwardRef((e,t)=>{let{className:r,Icon:n,...s}=e;return o.cloneElement((0,a.jsx)(n,{ref:t,className:(0,h.cn)("size-4 text-white/60",r),...s}))}),S=o.forwardRef((e,t)=>{let{className:r,inset:n,children:s,...i}=e;return(0,a.jsxs)(x.fF,{ref:t,className:(0,h.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",n&&"pl-8",r),...i,children:[s,(0,a.jsx)(f.XCv,{className:"ml-auto h-4 w-4"})]})});(0,h.h)(S,x.fF.displayName);let R=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(x.tu,{ref:t,sideOffset:4,alignOffset:-5,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})});(0,h.h)(R,x.tu.displayName);let T=o.forwardRef((e,t)=>{let{className:r,align:n="start",alignOffset:s=-4,sideOffset:i=8,...l}=e;return(0,a.jsx)(x.h_,{children:(0,a.jsx)(x.VY,{ref:t,align:n,alignOffset:s,sideOffset:i,className:(0,h.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});(0,h.h)(T,x.VY.displayName);let E=o.forwardRef((e,t)=>{let{className:r,inset:n,...s}=e;return(0,a.jsx)(x.ck,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n&&"pl-8",r),...s})});(0,h.h)(E,x.ck.displayName);let F=o.forwardRef((e,t)=>{let{className:r,children:n,checked:s,...i}=e;return(0,a.jsxs)(x.oC,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),checked:s,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(x.wU,{children:(0,a.jsx)(f.nQG,{className:"h-4 w-4"})})}),n]})});(0,h.h)(F,x.oC.displayName);let _=o.forwardRef((e,t)=>{let{className:r,children:n,...s}=e;return(0,a.jsxs)(x.Rk,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(x.wU,{children:(0,a.jsx)(g.Z,{className:"h-4 w-4 text-brand-400"})})}),n]})});(0,h.h)(_,x.Rk.displayName);let P=o.forwardRef((e,t)=>{let{className:r,inset:n,...s}=e;return(0,a.jsx)(x.__,{ref:t,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r),...s})});(0,h.h)(P,x.__.displayName);let O=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(x.Z0,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",r),...n})});(0,h.h)(O,x.Z0.displayName);let MenubarShortcut=e=>{let{className:t,...r}=e;return(0,a.jsx)("span",{className:(0,h.cn)("ml-auto text-xs tracking-widest text-muted-foreground",t),...r})};MenubarShortcut.displayname="MenubarShortcut";var A=r(11590),L=r.n(A),I=r(75663),Z=r(64107),W=r(29565),H=r(14501),V=r(78263),D=r(30461),B=r(35209);let MutationModal=e=>{let{open:t,setOpen:r}=e,n=e.isFailed?(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100 dark:bg-red-800",children:(0,a.jsx)(s,{className:"h-6 w-6 text-red-600 dark:text-red-300","aria-hidden":"true"})}):(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-700",children:(0,a.jsx)(D,{className:"h-6 w-6 text-green-600 dark:text-green-100","aria-hidden":"true"})}),i=(0,B.Z)("inline-flex w-full justify-center rounded-md border border-transparent px-4 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-zinc-900 sm:text-sm",e.isLoading?"bg-brand-600 text-base font-medium text-white opacity-50 cursor-not-allowed":"bg-brand-600 text-base font-medium text-white hover:bg-brand-700");return(0,a.jsx)(H.u.Root,{show:t,as:o.Fragment,appear:!0,children:(0,a.jsxs)(V.V,{as:"div",className:"relative z-10",onClose:r,children:[(0,a.jsx)(H.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-zinc-500 bg-opacity-75 transition-opacity dark:bg-zinc-800 dark:bg-opacity-75"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-400 scrollbar-thumb-rounded-md dark:scrollbar-thumb-zinc-600",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(H.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(V.V.Panel,{className:"dark relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all dark:bg-zinc-900 sm:my-8 sm:w-full sm:max-w-sm sm:p-6 md:max-w-lg lg:max-w-xl xl:max-w-3xl",children:[(0,a.jsxs)("div",{children:[e.isLoading?(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",children:(0,a.jsxs)("svg",{className:(0,B.Z)("h-6 w-6 animate-spin text-zinc-800 dark:text-zinc-200"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):n,(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,a.jsx)(V.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100",children:e.title}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:e.children})})]})]}),(0,a.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,a.jsx)("button",{type:"button",className:i,onClick:e.isLoading?void 0:()=>r(!1),disabled:e.isLoading,children:e.dismissText})})]})})})})]})})};var K=r(72426),Y=r(99196);let HelpActions=e=>{let{className:t}=e,[r,n]=(0,o.useState)(!1),[s,i]=(0,o.useState)(!1),[l,c]=(0,o.useState)({title:"",children:null,dismissText:"OK"}),[d,u]=(0,o.useState)({title:"",children:null,dismissText:"OK"}),m=W.S["klippy-extensions"].symlink.useMutation(),f=W.S.mcu.flashAllConnected.useMutation(),x=r?(0,a.jsx)(MutationModal,{...d,setOpen:n,open:r,isFailed:m.isError,isLoading:m.isLoading}):null,h=s?(0,a.jsx)(MutationModal,{...l,setOpen:i,open:s,isFailed:f.isError,isLoading:f.isLoading}):null,p=(0,o.useCallback)(()=>{c({title:"Flash Firmware",children:(0,a.jsx)("p",{children:"Please wait while RatOS is flashing your connected boards..."}),dismissText:"Please wait..."}),i(!0),f.mutateAsync().then(e=>{c({title:"Flashing Complete",children:(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.report.replace(/\n/g,"<br />")}}),dismissText:"OK"})},e=>{c({title:"Flashing Failed",children:"string"==typeof e||e instanceof String?(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.replace(/\n/g,"<br />")}}):(0,a.jsx)("p",{children:"Something wen't wrong while flashing the connected boards, please try again."}),dismissText:"OK"})})},[f]),g=(0,o.useCallback)(()=>{u({title:"Symlink Extensions",children:(0,a.jsx)("p",{children:"Please wait while RatOS is symlinking klippy extensions..."}),dismissText:"Please wait..."}),n(!0),m.mutateAsync({}).then(e=>{u({title:"Symlink Complete",children:(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.report.replace(/\n/g,"<br />")}}),dismissText:"OK"})},e=>{u({title:"Symlink Failed",children:"string"==typeof e||e instanceof String?(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.replace(/\n/g,"<br />")}}):(0,a.jsx)("p",{children:"Something wen't wrong while symlinking the extensions, please try again."}),dismissText:"OK"})})},[m]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(E,{onClick:g,className:"gap-2",children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 text-zinc-400"})," Symlink Extensions"]}),(0,a.jsxs)(E,{onClick:p,className:"gap-2",children:[(0,a.jsx)(Y.Z,{className:"h-4 w-4 text-zinc-400"})," Flash Connected Boards"]}),x,h]})},G=(0,o.createContext)({registerMenu:()=>{throw Error("No menu registered in context")},unregisterMenu:()=>{throw Error("No menu registered in context")},changed:()=>()=>{}}),useMenuBarProvider=()=>{let e=o.useRef(new Map),t=function(){let e=(0,o.useRef)(new Set);return(0,o.useCallback)(t=>{if("function"==typeof t)return e.current.add(t),()=>{e.current.delete(t)};e.current.forEach(e=>e(t))},[])}(),r=(0,o.useCallback)((r,n)=>{var a;e.current.has(r)&&n===(null===(a=e.current.get(r))||void 0===a?void 0:a.render)||(e.current=new Map(e.current).set(r,{render:n,id:r}),t())},[t]),n=(0,o.useCallback)(r=>{e.current.delete(r),t()},[t]);return{topMenuProps:{menus:e,menusChanged:t},providerProps:{registerMenu:r,unregisterMenu:n,changed:t}}},MenuBarProvider=e=>(0,a.jsx)(G.Provider,{value:e,children:e.children}),useTopMenu=(e,t)=>{let{registerMenu:r,unregisterMenu:n}=(0,o.useContext)(G);(0,o.useEffect)(()=>(r(e,t),()=>n(e)),[e,r,t,n])},TopMenu=e=>{var t;let{sidebarOpen:r,setSidebarOpen:d,menus:f,menusChanged:x}=e,[,h]=(0,o.useState)(Array.from(f.current.values()));return t=(0,o.useCallback)(()=>{h(Array.from(f.current.values()))},[f]),(0,o.useEffect)(()=>{let e=x(t);return e},[x,t]),(0,a.jsx)(l.E.div,{className:(0,c.d)("fixed inset-0 z-50 flex h-14 items-center justify-between gap-12 transition lg:left-72 lg:z-30","border-b border-zinc-900/10 backdrop-blur-sm dark:border-white/10 dark:backdrop-blur lg:left-72",!r&&"backdrop-blur-sm dark:backdrop-blur lg:left-72",r?"bg-background":"bg-background/80 dark:bg-background/50"),children:(0,a.jsx)("div",{className:"mx-auto flex-1",children:(0,a.jsxs)("div",{className:"flex h-16 items-center px-4 lg:justify-between",children:[(0,a.jsx)("div",{className:"flex flex-1 items-center justify-between space-x-4 lg:hidden",children:(0,a.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,a.jsx)(u(),{width:160,height:40,className:"h-8 w-auto",src:m.Z,alt:"Workflow"})})}),(0,a.jsxs)(N,{className:"lg:flex-1",children:[f.current.size>0&&Array.from(f.current.values()).map(e=>{let{id:t,render:r}=e;return(0,a.jsx)(o.Fragment,{children:r(n)},t)}),(0,a.jsx)(O,{className:"flex-1 bg-transparent"}),(0,a.jsxs)(MenubarMenu,{children:[(0,a.jsxs)(M,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[(0,a.jsx)(z,{Icon:I.Z})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Help"})]}),(0,a.jsxs)(T,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsx)(HelpActions,{}),(0,a.jsx)(O,{}),(0,a.jsx)(E,{asChild:!0,className:"gap-2",children:(0,a.jsxs)(L(),{href:"https://os.ratrig.com/docs/introduction",target:"_blank",rel:"noreferrer",children:[(0,a.jsx)(C,{Icon:Z.Z})," Docs"]})}),(0,a.jsx)(E,{asChild:!0,className:"gap-2",children:(0,a.jsxs)(L(),{href:"https://github.com/sponsors/miklschmidt",target:"_blank",rel:"noreferrer",children:[(0,a.jsx)(C,{Icon:Z.Z})," Donate"]})})]})]}),(0,a.jsx)(MenubarMenu,{children:(0,a.jsxs)(M,{onClick:()=>d(e=>!e),className:"flex-nowrap whitespace-nowrap text-nowrap lg:hidden",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),r?(0,a.jsx)(s,{className:(0,c.d)("block","-m-0.5 h-5 w-5"),"aria-hidden":"true"}):(0,a.jsx)(i,{className:(0,c.d)("block","-m-0.5 h-5 w-5"),"aria-hidden":"true"})]})})]})]})})})}},72931:function(e,t,r){"use strict";r.d(t,{YG:function(){return SyncWithMoonraker},rR:function(){return moonrakerWriteEffect}});var n=r(26248),a=r(49738),s=r(61352),i=r(83587),l=r(55797),o=r(87155);let c=new EventTarget,DispatchSaveAtomEvent=(e,t)=>{c.dispatchEvent(new CustomEvent("saveAtom",{detail:{itemKey:e,value:t}}))},moonrakerWriteEffect=()=>e=>{e.onSet(t=>{(0,o.j)().debug({key:e.node.key,value:t},'RatOS Atom Sync Effect: new value was saved to moonraker "'.concat(e.trigger,'"')),DispatchSaveAtomEvent(e.node.key,null==t?"null":t)})},SyncWithMoonraker=e=>{let{children:t}=e,r=(0,s.oK)(),o=(0,a.useCallback)(async e=>{let t=await r.getItem("RatOS",e);return null!=t&&"null"!=t?t:new l.nY},[r]),d=(0,a.useCallback)(async e=>{let{itemKey:t,value:n}=e.detail;await r.saveItem("RatOS",t,n)},[r]);return(0,a.useEffect)(()=>(c.addEventListener("saveAtom",d),()=>{c.removeEventListener("saveAtom",d)}),[d]),(0,n.jsx)(i.J1,{read:o,children:t})}},29565:function(e,t,r){"use strict";r.d(t,{S:function(){return n.SX},u:function(){return n.uF}});var n=r(64918)},40514:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn},h:function(){return setDisplayName}});var n=r(35209),a=r(44838);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m)((0,n.W)(t))}function setDisplayName(e,t){e.displayName=t}},30273:function(e,t){"use strict";t.Z={src:"/configure/_next/static/media/logo-white.6051cbc7.svg",height:443,width:1728,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[6545,4565,2584,4838,1441,5956,9302,6173,1629,95,3587,8055,5557,1914,4291,9529,5670,7399,8625,1744],function(){return e(e.s=20819)}),_N_E=e.O()}]);
//# sourceMappingURL=template-00de012f49ccd931.js.map