(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{85790:function(e,t,r){let n=r(49738),l=n.forwardRef(function({title:e,titleId:t,...r},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M2.25 2.25a.75.75 0 000 1.5H3v10.5a3 3 0 003 3h1.21l-1.172 3.513a.75.75 0 001.424.474l.329-.987h8.418l.33.987a.75.75 0 001.422-.474l-1.17-3.513H18a3 3 0 003-3V3.75h.75a.75.75 0 000-1.5H2.25zm6.54 15h6.42l.5 1.5H8.29l.5-1.5zm8.085-8.995a.75.75 0 10-.75-1.299 12.81 12.81 0 00-3.558 3.05L11.03 8.47a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l2.47-2.47 1.617 1.618a.75.75 0 001.146-.102 11.312 11.312 0 013.612-3.321z",clipRule:"evenodd"}))});e.exports=l},47348:function(e,t,r){let n=r(49738),l=n.forwardRef(function({title:e,titleId:t,...r},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5zM18 1.5a.75.75 0 01.728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 010 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 01-1.456 0l-.258-1.036a2.625 2.625 0 00-1.91-1.91l-1.036-.258a.75.75 0 010-1.456l1.036-.258a2.625 2.625 0 001.91-1.91l.258-1.036A.75.75 0 0118 1.5zM16.5 15a.75.75 0 01.712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 010 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 01-1.422 0l-.395-1.183a1.5 1.5 0 00-.948-.948l-1.183-.395a.75.75 0 010-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0116.5 15z",clipRule:"evenodd"}))});e.exports=l},68964:function(e,t,r){let n=r(49738),l=n.forwardRef(function({title:e,titleId:t,...r},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{d:"M19.5 6h-15v9h15V6z"}),n.createElement("path",{fillRule:"evenodd",d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v11.25C1.5 17.16 2.34 18 3.375 18H9.75v1.5H6A.75.75 0 006 21h12a.75.75 0 000-1.5h-3.75V18h6.375c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.839 21.66 3 20.625 3H3.375zm0 13.5h17.25a.375.375 0 00.375-.375V4.875a.375.375 0 00-.375-.375H3.375A.375.375 0 003 4.875v11.25c0 .207.168.375.375.375z",clipRule:"evenodd"}))});e.exports=l},21416:function(e,t,r){let n=r(49738),l=n.forwardRef(function({title:e,titleId:t,...r},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{d:"M4.5 4.5a3 3 0 00-3 3v9a3 3 0 003 3h8.25a3 3 0 003-3v-9a3 3 0 00-3-3H4.5zM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06z"}))});e.exports=l},14880:function(e,t,r){Promise.resolve().then(r.bind(r,87473)),Promise.resolve().then(r.bind(r,80434)),Promise.resolve().then(r.t.bind(r,73047,23)),Promise.resolve().then(r.t.bind(r,21945,23))},87473:function(e,t,r){"use strict";r.r(t),r.d(t,{Redirecter:function(){return Redirecter},useIsRouteActive:function(){return useIsRouteActive},useLocalPathname:function(){return useLocalPathname},useNavigation:function(){return useNavigation}});var n=r(47348),l=r(68964),a=r(21416),i=r(85790),o=r(33760),u=r(49738);let useLocalPathname=()=>{var e;let t=(null!==(e=(0,o.usePathname)())&&void 0!==e?e:"/").replace("/configure","");return t},useIsRouteActive=()=>{let e=useLocalPathname();return(0,u.useCallback)(t=>e===t,[e])},s=[{name:"Setup Wizard",href:"/wizard",current:!1,icon:n},{name:"Dashboard",href:"/",current:!1,icon:l},{name:"Visual Calibration",href:"/calibration",current:!1,icon:a},{name:"Analysis",href:"/analysis",current:!1,icon:i}],useNavigation=()=>{let e=useIsRouteActive();return s.map(t=>(t.current=e(t.href),t))},Redirecter=e=>{let t=(0,o.useRouter)(),r=useIsRouteActive();if(e.hasLastPrinterSettings||r("/wizard"))return e.children;t.replace("/wizard")}},80434:function(e,t,r){"use strict";r.r(t),r.d(t,{ControllerFanState:function(){return b},LoadablePrinterConfigurationState:function(){return P},PerformanceModeState:function(){return m},PrinterConfigurationState:function(){return z},StandstillStealthState:function(){return g},StealthchopState:function(){return p},serializePartialPrinterConfiguration:function(){return serializePartialPrinterConfiguration},serializePrinterConfiguration:function(){return serializePrinterConfiguration},usePrinterConfiguration:function(){return usePrinterConfiguration},useSerializedPrinterConfiguration:function(){return useSerializedPrinterConfiguration}});var n=r(55797),l=r(94594),a=r(21899),i=r(24948),o=r(83587),u=r(85582),s=r(49738),c=r(97370),d=r(48418),f=r(57674),h=r(31667),v=r(72931);let m=(0,n.cn)({key:"PerformanceMode",default:!1,effects:[(0,v.rR)(),(0,o.ok)({refine:(0,u.getRefineCheckerForZodSchema)(l.z.boolean().optional().nullable())})]}),p=(0,n.cn)({key:"Stealchop",default:!1,effects:[(0,v.rR)(),(0,o.ok)({refine:(0,u.getRefineCheckerForZodSchema)(l.z.boolean().optional().nullable())})]}),g=(0,n.cn)({key:"StandstillStealth",default:!1,effects:[(0,v.rR)(),(0,o.ok)({refine:(0,u.getRefineCheckerForZodSchema)(l.z.boolean().optional().nullable())})]}),b=(0,n.cn)({key:"ControllerFan",default:h.z2,effects:[(0,v.rR)(),(0,o.ok)({refine:(0,u.getRefineCheckerForZodSchema)(a.XG.nullable())})]}),z=(0,n.nZ)({key:"PrinterConfiguration",get:async e=>{let{get:t}=e,{printer:r,printerSize:l,performanceMode:a,stealthchop:o,standstillStealth:u,rails:s,controlboard:h,controllerFan:v,toolheads:z}=t((0,n.k9)({printer:d.H6,printerSize:d.hq,performanceMode:m,stealthchop:p,standstillStealth:g,rails:d.q7,controlboard:d.OS,controllerFan:b,toolheads:f.$T})),P=i.jz.safeParse({printer:null==r?null:{...r,defaults:{...r.defaults,toolheads:null==r?void 0:r.defaults.toolheads.map(e=>(0,c.m6)(e))}},size:l,performanceMode:a,stealthchop:o,standstillStealth:u,rails:s,controlboard:h,controllerFan:v,toolheads:z});return!1===P.success&&console.error(P.error.flatten().fieldErrors),P.success?P.data:null}}),P=(0,n.nZ)({key:"LoadablePrinterConfigurationState",get:async e=>{let{get:t}=e,r=t((0,n.Qv)(z));return({hasValue:()=>r.contents,hasError:()=>null,loading:()=>null})[r.state]()}}),serializePrinterConfiguration=e=>{let t={printer:e.printer.id,toolheads:e.toolheads.map(e=>(0,c.m6)(e)),size:e.size,controlboard:e.controlboard.id,controllerFan:e.controllerFan.id,performanceMode:e.performanceMode,stealthchop:e.stealthchop,standstillStealth:e.standstillStealth,rails:e.rails.map(e=>(0,c.Yz)(e))};return i.q_.parse(t)},serializePartialPrinterConfiguration=e=>{var t,r,n,l;let a=null==e?void 0:null===(t=e.toolheads)||void 0===t?void 0:t.map(e=>(0,c.od)(e)),o={printer:null==e?void 0:null===(r=e.printer)||void 0===r?void 0:r.id,toolheads:a,size:null==e?void 0:e.size,controlboard:null==e?void 0:null===(n=e.controlboard)||void 0===n?void 0:n.id,controllerFan:null==e?void 0:null===(l=e.controllerFan)||void 0===l?void 0:l.id,performanceMode:null==e?void 0:e.performanceMode,stealthchop:null==e?void 0:e.stealthchop,standstillStealth:null==e?void 0:e.standstillStealth};return i.NN.parse(o)},useSerializedPrinterConfiguration=()=>{let e=(0,n.sJ)(z),t=(0,s.useMemo)(()=>serializePartialPrinterConfiguration(null!=e?e:{}),[e]);return t},usePrinterConfiguration=()=>{let[e,t]=(0,n.FV)(d.H6),[r,l]=(0,n.FV)(d.hq),[a,o]=(0,n.FV)(d.OS),[u,s]=(0,n.FV)(m),[c,f]=(0,n.FV)(p),[h,v]=(0,n.FV)(g),[P,C]=(0,n.FV)(b),S=(0,n.sJ)(d.q7),w=(0,n.sJ)(z),R=useSerializedPrinterConfiguration(),k=i.dl.safeParse(w);return{selectedPrinter:e,setSelectedPrinter:t,selectedPrinterOption:r,setSelectedPrinterOption:l,selectedBoard:a,setSelectedBoard:o,performanceMode:u,setPerformanceMode:s,stealthchop:c,setStealthchop:f,standstillStealth:h,setStandstillStealth:v,selectedPrinterRails:S,selectedControllerFan:P,setSelectedControllerFan:C,partialPrinterConfiguration:w,serializedPrinterConfiguration:R,parsedPrinterConfiguration:k}}},21945:function(){},73047:function(e){e.exports={style:{fontFamily:"'__Inter_0d99fb', '__Inter_Fallback_0d99fb'",fontStyle:"normal"},className:"__className_0d99fb",variable:"__variable_0d99fb"}},33760:function(e,t,r){e.exports=r(75863)}},function(e){e.O(0,[4565,2584,1441,5956,3587,3926,5670,9231,7399,8625,1744],function(){return e(e.s=14880)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-6e3d2a0b9bfae51e.js.map