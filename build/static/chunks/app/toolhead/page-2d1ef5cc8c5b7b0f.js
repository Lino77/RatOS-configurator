(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7377],{53614:function(e,r,o){let l=o(49738),n=l.forwardRef(function({title:e,titleId:r,...o},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":r},o),e?l.createElement("title",{id:r},e):null,l.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))});e.exports=n},75470:function(e,r,o){Promise.resolve().then(o.bind(o,4935))},4935:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return Page}});var l=o(26248),n=o(81503),i=o(17533),t=o(49738),s=o(47262),a=o(80434);let Toolheads=()=>{let{serializedPrinterConfiguration:e}=(0,a.usePrinterConfiguration)();return(null==e?void 0:e.toolheads)==null?(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center p-8",children:(0,l.jsx)(n.$,{})}):(0,l.jsx)("div",{className:"space-y-4",children:e.toolheads.map((e,r)=>null==e||null==e.axis?null:(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)(n.$,{}),children:(0,l.jsx)(s.Y,{toolOrAxis:e.axis})},r))})},LoadScreen=()=>(0,l.jsxs)("div",{className:"p-8",children:[(0,l.jsxs)("div",{className:"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700",children:[(0,l.jsx)("h3",{className:"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100",children:"Loading printer configuration..."}),(0,l.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"Please wait while RatOS loads your printer configuration"})]}),(0,l.jsx)("div",{className:"mt-4 flex h-48 items-center justify-center",children:(0,l.jsx)(n.$,{})})]});function Page(){let e=(0,i.O)();return e?(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)(LoadScreen,{}),children:(0,l.jsx)(Toolheads,{})}):null}},47262:function(e,r,o){"use strict";o.d(r,{Y:function(){return ToolheadSettings}});var l=o(26248),n=o(49738),i=o(33334),t=o(97370),s=o(23709),a=o(81503),d=o(44838),c=o(73323),u=o(70270),x=o(21899),m=o(48542),v=o(17710);let ToolheadSettings=e=>{var r,o,g,h,j,f,p,b,z,y,N,E,k;let{toolhead:w,setToolhead:T}=(0,i.yk)(e.toolOrAxis),[S,A]=(0,n.useState)(null),O=(0,n.useCallback)((e,r)=>{let o=w.getChangeSet({[e]:r});if((null==o?void 0:o.success)&&o.data&&Object.keys(o.data).length>0){let e=T({...w.getConfig(),...o.data});e.then(e=>{e.success?null!=e.data&&A(null):A(e.error.formErrors)})}else if(null==o?void 0:o.success)A(null);else{var l;A(null!==(l=null==o?void 0:o.error.formErrors)&&void 0!==l?l:null)}},[w,T]);return null==w?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h3",{className:"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100",children:"Toolhead..."}),(0,l.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"Configure the hardware installed on your toolhead..."})]}),(0,l.jsx)("div",{className:"mt-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:(0,l.jsx)("div",{className:"mb-4 flex h-96 items-center justify-center",children:(0,l.jsx)(a.$,{})})})]}):(0,l.jsxs)("div",{className:(0,d.m)((0,c.iA)({color:"gray"}),"col-span-1 rounded-md border p-4 shadow-lg"),children:[(0,l.jsxs)("div",{className:(0,d.m)((0,c.xU)({color:"gray"}),(0,c._1)({color:"gray"}),(0,c.iA)({color:"gray"}),"-m-4 mb-0 rounded-t-md border-b p-4"),children:[(0,l.jsxs)("h3",{className:"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100",children:["Toolhead ",w.getToolCommand()," Hardware"]}),(0,l.jsxs)("p",{className:"mt-2 max-w-4xl text-sm",children:["Configure the hardware installed on ",w.getDescription().toLocaleLowerCase()]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 pt-4 sm:grid-cols-2",children:[(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{query:"hotends",value:w.getHotend(),error:null==S?void 0:null===(r=S.fieldErrors.hotend)||void 0===r?void 0:r.join("\n"),label:"Hotend",onSelect:e=>O("hotend",e)})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{label:"Hotend Thermistor",query:"thermistors",error:null==S?void 0:null===(o=S.fieldErrors.thermistor)||void 0===o?void 0:o.join("\n"),onSelect:e=>O("thermistor",e.id),value:(0,t.DX)(w.getThermistor())})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.Lt,{label:"Nozzle Type",onSelect:e=>O("nozzle",{...w.getNozzle(),type:e.id}),error:null==S?void 0:null===(g=S.fieldErrors.nozzle)||void 0===g?void 0:g.join("\n"),options:Object.values(x.ow.shape.type.Values).map(t.DX),value:(0,t.DX)(w.getNozzle().type)})}),(0,l.jsx)("div",{children:(0,l.jsx)(m.o,{type:"number",label:"Nozzle Diameter",error:null==S?void 0:null===(h=S.fieldErrors.nozzle)||void 0===h?void 0:h.join("\n"),value:w.getNozzle().diameter,onChange:e=>O("nozzle",{...w.getNozzle(),diameter:e}),inputMode:"decimal",step:.1,min:.2,max:1.8})}),(null===(j=w.getToolboard())||void 0===j?void 0:j.alternativePT1000Resistor)&&"PT1000"===w.getThermistor()&&(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)(u.j,{title:"RatOS uses your toolboards alternate pullup resistor setting",children:"Your toolboard has an option to use a separate pullup resistor for PT1000 sensors. This is usually done by inserting a jumper. Make sure you read the documentation for your board on how to enable the alternative resistor or you'll get ADC temperature errors in klipper."})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{label:"Extruder",query:"extruders",error:null==S?void 0:null===(f=S.fieldErrors.extruder)||void 0===f?void 0:f.join("\n"),onSelect:e=>O("extruder",e),value:w.getExtruder()})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{label:"Probe",query:"probes",error:null==S?void 0:null===(p=S.fieldErrors.probe)||void 0===p?void 0:p.join("\n"),onSelect:e=>O("probe",e),value:w.getProbe()})})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:[(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"X Endstop",error:null==S?void 0:null===(b=S.fieldErrors.xEndstop)||void 0===b?void 0:b.join("\n"),query:"xEndstops",onSelect:e=>O("xEndstop",e),value:w.getXEndstop()})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"Y Endstop",error:null==S?void 0:null===(z=S.fieldErrors.yEndstop)||void 0===z?void 0:z.join("\n"),query:"yEndstops",onSelect:e=>O("yEndstop",e),value:w.getYEndstop()})})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:[(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",error:null==S?void 0:null===(y=S.fieldErrors.partFan)||void 0===y?void 0:y.join("\n"),label:"Part cooling fan",query:"partFanOptions",help:v.Ie,onSelect:e=>O("partFan",e),value:w.getPartFan()})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",error:null==S?void 0:null===(N=S.fieldErrors.hotendFan)||void 0===N?void 0:N.join("\n"),label:"Hotend fan",query:"hotendFanOptions",help:v.Ie,onSelect:e=>O("hotendFan",e),value:w.getHotendFan()})})]}),(0,l.jsxs)("div",{className:"mt-4 border-t border-zinc-100 pt-4 dark:border-zinc-700",children:[(0,l.jsx)("h3",{className:"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100",children:"Accelerometers"}),(0,l.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"You can use the same accelerometer for both axes. If you don't plan on using an accelerometer, you can skip this and come back later if you change your mind."})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:[(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"X axis accelerometer",error:null==S?void 0:null===(E=S.fieldErrors.xAccelerometer)||void 0===E?void 0:E.join("\n"),query:"xAccelerometerOptions",onSelect:e=>O("xAccelerometer",e),value:w.getXAccelerometer(),sort:!1})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"Y axis accelerometer",error:null==S?void 0:null===(k=S.fieldErrors.yAccelerometer)||void 0===k?void 0:k.join("\n"),query:"yAccelerometerOptions",onSelect:e=>O("yAccelerometer",e),value:w.getYAccelerometer(),sort:!1})})]})]})}},70270:function(e,r,o){"use strict";o.d(r,{j:function(){return WarningMessage}});var l=o(26248),n=o(33964);o(49738);var i=o(26418);let WarningMessage=e=>(0,l.jsx)(i.j,{color:"yellow",Icon:n,title:e.title?"Warning: "+e.title:"Warning",className:e.className,children:e.children})}},function(e){e.O(0,[6545,4565,6006,5325,7190,5956,1526,3655,3587,8227,6032,3346,1160,573,5670,7705,2981,2240,7399,8625,1744],function(){return e(e.s=75470)}),_N_E=e.O()}]);
//# sourceMappingURL=page-2d1ef5cc8c5b7b0f.js.map