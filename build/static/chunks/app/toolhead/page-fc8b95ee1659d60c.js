(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7377],{53614:function(e,n,o){let i=o(49738),l=i.forwardRef(function({title:e,titleId:n,...o},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":n},o),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))});e.exports=l},7060:function(e,n,o){let i=o(49738),l=i.forwardRef(function({title:e,titleId:n,...o},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":n},o),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))});e.exports=l},75470:function(e,n,o){Promise.resolve().then(o.bind(o,4935))},4935:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return Page}});var i=o(26248),l=o(81503),a=o(17533),s=o(49738),d=o(47262),c=o(80434);let Toolheads=()=>{let{serializedPrinterConfiguration:e}=(0,c.usePrinterConfiguration)();return(null==e?void 0:e.toolheads)==null?(0,i.jsx)("div",{className:"mx-auto flex items-center justify-center p-8",children:(0,i.jsx)(l.$,{})}):(0,i.jsx)("div",{className:"space-y-4",children:e.toolheads.map((e,n)=>null==e||null==e.axis?null:(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)(l.$,{}),children:(0,i.jsx)(d.Y,{toolOrAxis:e.axis})},n))})},LoadScreen=()=>(0,i.jsxs)("div",{className:"p-8",children:[(0,i.jsxs)("div",{className:"mb-5 border-b border-zinc-200 pb-5 dark:border-zinc-700",children:[(0,i.jsx)("h3",{className:"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100",children:"Loading printer configuration..."}),(0,i.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"Please wait while RatOS loads your printer configuration"})]}),(0,i.jsx)("div",{className:"mt-4 flex h-48 items-center justify-center",children:(0,i.jsx)(l.$,{})})]});function Page(){let e=(0,a.O)();return e?(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)(LoadScreen,{}),children:(0,i.jsx)(Toolheads,{})}):null}},47262:function(e,n,o){"use strict";o.d(n,{Y:function(){return ToolheadSettings}});var i=o(26248),l=o(49738),a=o(33334),s=o(97370),d=o(23709),c=o(81503),p=o(44838),v=o(73323),f=o(70270),b=o(21899),g=o(48542);let ToolheadSettings=e=>{var n,o,m,h,y,O,j,R,z,S,T,L,E;let{toolhead:w,setToolhead:P}=(0,a.yk)(e.toolOrAxis),[k,I]=(0,l.useState)(null),N=(0,l.useCallback)((e,n)=>{let o=w.getChangeSet({[e]:n});if((null==o?void 0:o.success)&&o.data&&Object.keys(o.data).length>0){let e=P({...w.getConfig(),...o.data});e.then(e=>{e.success?null!=e.data&&I(null):I(e.error.formErrors)})}else if(null==o?void 0:o.success)I(null);else{var i;I(null!==(i=null==o?void 0:o.error.formErrors)&&void 0!==i?i:null)}},[w,P]);return null==w?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h3",{className:"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100",children:"Toolhead..."}),(0,i.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"Configure the hardware installed on your toolhead..."})]}),(0,i.jsx)("div",{className:"mt-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:(0,i.jsx)("div",{className:"mb-4 flex h-96 items-center justify-center",children:(0,i.jsx)(c.$,{})})})]}):(0,i.jsxs)("div",{className:(0,p.m)((0,v.iA)({color:"gray"}),"col-span-1 rounded-md border p-4 shadow-lg"),children:[(0,i.jsxs)("div",{className:(0,p.m)((0,v.xU)({color:"gray"}),(0,v._1)({color:"gray"}),(0,v.iA)({color:"gray"}),"-m-4 mb-0 rounded-t-md border-b p-4"),children:[(0,i.jsxs)("h3",{className:"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100",children:["Toolhead ",w.getToolCommand()," Hardware"]}),(0,i.jsxs)("p",{className:"mt-2 max-w-4xl text-sm",children:["Configure the hardware installed on ",w.getDescription().toLocaleLowerCase()]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4 pt-4 sm:grid-cols-2",children:[(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{query:"hotends",value:w.getHotend(),error:null==k?void 0:null===(n=k.fieldErrors.hotend)||void 0===n?void 0:n.join("\n"),label:"Hotend",onSelect:e=>N("hotend",e)})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{label:"Hotend Thermistor",query:"thermistors",error:null==k?void 0:null===(o=k.fieldErrors.thermistor)||void 0===o?void 0:o.join("\n"),onSelect:e=>N("thermistor",e.id),value:(0,s.DX)(w.getThermistor())})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.Lt,{label:"Nozzle Type",onSelect:e=>N("nozzle",{...w.getNozzle(),type:e.id}),error:null==k?void 0:null===(m=k.fieldErrors.nozzle)||void 0===m?void 0:m.join("\n"),options:Object.values(b.ow.shape.type.Values).map(s.DX),value:(0,s.DX)(w.getNozzle().type)})}),(0,i.jsx)("div",{children:(0,i.jsx)(g.o,{type:"number",label:"Nozzle Diameter",error:null==k?void 0:null===(h=k.fieldErrors.nozzle)||void 0===h?void 0:h.join("\n"),value:w.getNozzle().diameter,onChange:e=>N("nozzle",{...w.getNozzle(),diameter:e}),inputMode:"decimal",step:.1,min:.2,max:1.8})}),(null===(y=w.getToolboard())||void 0===y?void 0:y.alternativePT1000Resistor)&&"PT1000"===w.getThermistor()&&(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)(f.j,{title:"RatOS uses your toolboards alternate pullup resistor setting",children:"Your toolboard has an option to use a separate pullup resistor for PT1000 sensors. This is usually done by inserting a jumper. Make sure you read the documentation for your board on how to enable the alternative resistor or you'll get ADC temperature errors in klipper."})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{label:"Extruder",query:"extruders",error:null==k?void 0:null===(O=k.fieldErrors.extruder)||void 0===O?void 0:O.join("\n"),onSelect:e=>N("extruder",e),value:w.getExtruder()})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{label:"Probe",query:"probes",error:null==k?void 0:null===(j=k.fieldErrors.probe)||void 0===j?void 0:j.join("\n"),onSelect:e=>N("probe",e),value:w.getProbe()})})]}),(0,i.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:[(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"X Endstop",error:null==k?void 0:null===(R=k.fieldErrors.xEndstop)||void 0===R?void 0:R.join("\n"),query:"xEndstops",onSelect:e=>N("xEndstop",e),value:w.getXEndstop()})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"Y Endstop",error:null==k?void 0:null===(z=k.fieldErrors.yEndstop)||void 0===z?void 0:z.join("\n"),query:"yEndstops",onSelect:e=>N("yEndstop",e),value:w.getYEndstop()})})]}),(0,i.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:[(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",error:null==k?void 0:null===(S=k.fieldErrors.partFan)||void 0===S?void 0:S.join("\n"),label:"Part cooling fan",query:"partFanOptions",onSelect:e=>N("partFan",e),value:w.getPartFan()})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",error:null==k?void 0:null===(T=k.fieldErrors.hotendFan)||void 0===T?void 0:T.join("\n"),label:"Hotend fan",query:"hotendFanOptions",onSelect:e=>N("hotendFan",e),value:w.getHotendFan()})})]}),(0,i.jsxs)("div",{className:"mt-4 border-t border-zinc-100 pt-4 dark:border-zinc-700",children:[(0,i.jsx)("h3",{className:"text-base font-medium leading-7 text-zinc-900 dark:text-zinc-100",children:"Accelerometers"}),(0,i.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-zinc-500 dark:text-zinc-400",children:"You can use the same accelerometer for both axes. If you don't plan on using an accelerometer, you can skip this and come back later if you change your mind."})]}),(0,i.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 border-t border-zinc-100 pt-4 dark:border-zinc-700 sm:grid-cols-2",children:[(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"X axis accelerometer",error:null==k?void 0:null===(L=k.fieldErrors.xAccelerometer)||void 0===L?void 0:L.join("\n"),query:"xAccelerometerOptions",onSelect:e=>N("xAccelerometer",e),value:w.getXAccelerometer(),sort:!1})}),(0,i.jsx)("div",{children:(0,i.jsx)(d.LV,{vars:{toolOrAxis:w.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"Y axis accelerometer",error:null==k?void 0:null===(E=k.fieldErrors.yAccelerometer)||void 0===E?void 0:E.join("\n"),query:"yAccelerometerOptions",onSelect:e=>N("yAccelerometer",e),value:w.getYAccelerometer(),sort:!1})})]})]})}},70270:function(e,n,o){"use strict";o.d(n,{j:function(){return WarningMessage}});var i=o(26248),l=o(33964);o(49738);var a=o(26418);let WarningMessage=e=>(0,i.jsx)(a.j,{color:"yellow",Icon:l,title:e.title?"Warning: "+e.title:"Warning",className:e.className,children:e.children})},63337:function(e,n,o){"use strict";o.d(n,{R:function(){return X}});var i,l,a,s,d=o(49738),c=o(67792),p=o(1924),v=o(11169),f=o(87012);function use_computed_i(e,n){let[o,i]=(0,d.useState)(e),l=(0,f.E)(e);return(0,v.e)(()=>i(l.current),[l,i,...n]),o}var b=o(67234),g=o(1042),m=o(33808),h=o(30008),y=o(14278),O=o(57006),j=o(7385),R=o(6213),z=o(38010),S=o(788),T=o(15111),L=o(56625),E=o(15754),w=o(88884),P=o(93570),k=o(13531),I=o(73690),N=((i=N||{})[i.Open=0]="Open",i[i.Closed=1]="Closed",i),C=((l=C||{})[l.Single=0]="Single",l[l.Multi=1]="Multi",l),A=((a=A||{})[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a),D=((s=D||{})[s.OpenListbox=0]="OpenListbox",s[s.CloseListbox=1]="CloseListbox",s[s.GoToOption=2]="GoToOption",s[s.Search=3]="Search",s[s.ClearSearch=4]="ClearSearch",s[s.RegisterOption=5]="RegisterOption",s[s.UnregisterOption=6]="UnregisterOption",s[s.RegisterLabel=7]="RegisterLabel",s);function q(e,n=e=>e){let o=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,i=(0,R.z2)(n(e.options.slice()),e=>e.dataRef.current.domRef.current),l=o?i.indexOf(o):null;return -1===l&&(l=null),{options:i,activeOptionIndex:l}}let M={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let n=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,i=e.options.findIndex(e=>o(e.dataRef.current.value));return -1!==i&&(n=i),{...e,listboxState:0,activeOptionIndex:n}},2(e,n){var o;if(e.dataRef.current.disabled||1===e.listboxState)return e;let i=q(e),l=(0,O.d)(n,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...i,searchQuery:"",activeOptionIndex:l,activationTrigger:null!=(o=n.trigger)?o:1}},3:(e,n)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let o=""!==e.searchQuery?0:1,i=e.searchQuery+n.value.toLowerCase(),l=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+o).concat(e.options.slice(0,e.activeOptionIndex+o)):e.options).find(e=>{var n;return!e.dataRef.current.disabled&&(null==(n=e.dataRef.current.textValue)?void 0:n.startsWith(i))}),a=l?e.options.indexOf(l):-1;return -1===a||a===e.activeOptionIndex?{...e,searchQuery:i}:{...e,searchQuery:i,activeOptionIndex:a,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,n)=>{let o={id:n.id,dataRef:n.dataRef},i=q(e,e=>[...e,o]);return null===e.activeOptionIndex&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(o)),{...e,...i}},6:(e,n)=>{let o=q(e,e=>{let o=e.findIndex(e=>e.id===n.id);return -1!==o&&e.splice(o,1),e});return{...e,...o,activationTrigger:1}},7:(e,n)=>({...e,labelId:n.id})},F=(0,d.createContext)(null);function B(e){let n=(0,d.useContext)(F);if(null===n){let n=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,B),n}return n}F.displayName="ListboxActionsContext";let V=(0,d.createContext)(null);function H(e){let n=(0,d.useContext)(V);if(null===n){let n=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H),n}return n}function Ke(e,n){return(0,m.E)(n.type,M,e,n)}V.displayName="ListboxDataContext";let Y=d.Fragment,_=(0,g.yV)(function(e,n){let{value:o,defaultValue:i,name:l,onChange:a,by:s=(e,n)=>e===n,disabled:p=!1,horizontal:f=!1,multiple:h=!1,...y}=e,j=f?"horizontal":"vertical",S=(0,b.T)(n),[w=h?[]:void 0,I]=(0,k.q)(o,a,i),[N,C]=(0,d.useReducer)(Ke,{dataRef:(0,d.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),A=(0,d.useRef)({static:!1,hold:!1}),D=(0,d.useRef)(null),M=(0,d.useRef)(null),_=(0,d.useRef)(null),$=(0,P.z)("string"==typeof s?(e,n)=>(null==e?void 0:e[s])===(null==n?void 0:n[s]):s),Q=(0,d.useCallback)(e=>(0,m.E)(U.mode,{1:()=>w.some(n=>$(n,e)),0:()=>$(w,e)}),[w]),U=(0,d.useMemo)(()=>({...N,value:w,disabled:p,mode:h?1:0,orientation:j,compare:$,isSelected:Q,optionsPropsRef:A,labelRef:D,buttonRef:M,optionsRef:_}),[w,p,h,N]);(0,v.e)(()=>{N.dataRef.current=U},[U]),(0,T.O)([U.buttonRef,U.optionsRef],(e,n)=>{var o;C({type:1}),(0,R.sP)(n,R.tJ.Loose)||(e.preventDefault(),null==(o=U.buttonRef.current)||o.focus())},0===U.listboxState);let X=(0,d.useMemo)(()=>({open:0===U.listboxState,disabled:p,value:w}),[U,p,w]),G=(0,P.z)(e=>{let n=U.options.find(n=>n.id===e);n&&er(n.dataRef.current.value)}),K=(0,P.z)(()=>{if(null!==U.activeOptionIndex){let{dataRef:e,id:n}=U.options[U.activeOptionIndex];er(e.current.value),C({type:2,focus:O.T.Specific,id:n})}}),W=(0,P.z)(()=>C({type:0})),Z=(0,P.z)(()=>C({type:1})),J=(0,P.z)((e,n,o)=>e===O.T.Specific?C({type:2,focus:O.T.Specific,id:n,trigger:o}):C({type:2,focus:e,trigger:o})),ee=(0,P.z)((e,n)=>(C({type:5,id:e,dataRef:n}),()=>C({type:6,id:e}))),et=(0,P.z)(e=>(C({type:7,id:e}),()=>C({type:7,id:null}))),er=(0,P.z)(e=>(0,m.E)(U.mode,{0:()=>null==I?void 0:I(e),1(){let n=U.value.slice(),o=n.findIndex(n=>$(n,e));return -1===o?n.push(e):n.splice(o,1),null==I?void 0:I(n)}})),en=(0,P.z)(e=>C({type:3,value:e})),eo=(0,P.z)(()=>C({type:4})),ei=(0,d.useMemo)(()=>({onChange:er,registerOption:ee,registerLabel:et,goToOption:J,closeListbox:Z,openListbox:W,selectActiveOption:K,selectOption:G,search:en,clearSearch:eo}),[]),el=(0,d.useRef)(null),ea=(0,c.G)();return(0,d.useEffect)(()=>{el.current&&void 0!==i&&ea.addEventListener(el.current,"reset",()=>{er(i)})},[el,er]),d.createElement(F.Provider,{value:ei},d.createElement(V.Provider,{value:U},d.createElement(z.up,{value:(0,m.E)(U.listboxState,{0:z.ZM.Open,1:z.ZM.Closed})},null!=l&&null!=w&&(0,E.t)({[l]:w}).map(([e,n],o)=>d.createElement(L._,{features:L.A.Hidden,ref:0===o?e=>{var n;el.current=null!=(n=null==e?void 0:e.closest("form"))?n:null}:void 0,...(0,g.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:n})})),(0,g.sY)({ourProps:{ref:S},theirProps:y,slot:X,defaultTag:Y,name:"Listbox"}))))}),$=(0,g.yV)(function(e,n){var o;let i=(0,p.M)(),{id:l=`headlessui-listbox-button-${i}`,...a}=e,s=H("Listbox.Button"),v=B("Listbox.Button"),f=(0,b.T)(s.buttonRef,n),m=(0,c.G)(),h=(0,P.z)(e=>{switch(e.key){case y.R.Space:case y.R.Enter:case y.R.ArrowDown:e.preventDefault(),v.openListbox(),m.nextFrame(()=>{s.value||v.goToOption(O.T.First)});break;case y.R.ArrowUp:e.preventDefault(),v.openListbox(),m.nextFrame(()=>{s.value||v.goToOption(O.T.Last)})}}),R=(0,P.z)(e=>{e.key===y.R.Space&&e.preventDefault()}),z=(0,P.z)(e=>{if((0,j.P)(e.currentTarget))return e.preventDefault();0===s.listboxState?(v.closeListbox(),m.nextFrame(()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(e.preventDefault(),v.openListbox())}),T=use_computed_i(()=>{if(s.labelId)return[s.labelId,l].join(" ")},[s.labelId,l]),L=(0,d.useMemo)(()=>({open:0===s.listboxState,disabled:s.disabled,value:s.value}),[s]),E={ref:f,id:l,type:(0,S.f)(e,s.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(o=s.optionsRef.current)?void 0:o.id,"aria-expanded":s.disabled?void 0:0===s.listboxState,"aria-labelledby":T,disabled:s.disabled,onKeyDown:h,onKeyUp:R,onClick:z};return(0,g.sY)({ourProps:E,theirProps:a,slot:L,defaultTag:"button",name:"Listbox.Button"})}),Q=(0,g.yV)(function(e,n){let o=(0,p.M)(),{id:i=`headlessui-listbox-label-${o}`,...l}=e,a=H("Listbox.Label"),s=B("Listbox.Label"),c=(0,b.T)(a.labelRef,n);(0,v.e)(()=>s.registerLabel(i),[i]);let f=(0,P.z)(()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),m=(0,d.useMemo)(()=>({open:0===a.listboxState,disabled:a.disabled}),[a]);return(0,g.sY)({ourProps:{ref:c,id:i,onClick:f},theirProps:l,slot:m,defaultTag:"label",name:"Listbox.Label"})}),U=g.AN.RenderStrategy|g.AN.Static,X=Object.assign(_,{Button:$,Label:Q,Options:(0,g.yV)(function(e,n){var o;let i=(0,p.M)(),{id:l=`headlessui-listbox-options-${i}`,...a}=e,s=H("Listbox.Options"),v=B("Listbox.Options"),f=(0,b.T)(s.optionsRef,n),j=(0,c.G)(),R=(0,c.G)(),S=(0,z.oJ)(),T=null!==S?S===z.ZM.Open:0===s.listboxState;(0,d.useEffect)(()=>{var e;let n=s.optionsRef.current;n&&0===s.listboxState&&n!==(null==(e=(0,w.r)(n))?void 0:e.activeElement)&&n.focus({preventScroll:!0})},[s.listboxState,s.optionsRef]);let L=(0,P.z)(e=>{switch(R.dispose(),e.key){case y.R.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),v.search(e.key);case y.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==s.activeOptionIndex){let{dataRef:e}=s.options[s.activeOptionIndex];v.onChange(e.current.value)}0===s.mode&&(v.closeListbox(),(0,h.k)().nextFrame(()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case(0,m.E)(s.orientation,{vertical:y.R.ArrowDown,horizontal:y.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),v.goToOption(O.T.Next);case(0,m.E)(s.orientation,{vertical:y.R.ArrowUp,horizontal:y.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),v.goToOption(O.T.Previous);case y.R.Home:case y.R.PageUp:return e.preventDefault(),e.stopPropagation(),v.goToOption(O.T.First);case y.R.End:case y.R.PageDown:return e.preventDefault(),e.stopPropagation(),v.goToOption(O.T.Last);case y.R.Escape:return e.preventDefault(),e.stopPropagation(),v.closeListbox(),j.nextFrame(()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})});case y.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(v.search(e.key),R.setTimeout(()=>v.clearSearch(),350))}}),E=use_computed_i(()=>{var e,n,o;return null!=(o=null==(e=s.labelRef.current)?void 0:e.id)?o:null==(n=s.buttonRef.current)?void 0:n.id},[s.labelRef.current,s.buttonRef.current]),k=(0,d.useMemo)(()=>({open:0===s.listboxState}),[s]),I={"aria-activedescendant":null===s.activeOptionIndex||null==(o=s.options[s.activeOptionIndex])?void 0:o.id,"aria-multiselectable":1===s.mode||void 0,"aria-labelledby":E,"aria-orientation":s.orientation,id:l,onKeyDown:L,role:"listbox",tabIndex:0,ref:f};return(0,g.sY)({ourProps:I,theirProps:a,slot:k,defaultTag:"ul",features:U,visible:T,name:"Listbox.Options"})}),Option:(0,g.yV)(function(e,n){let o=(0,p.M)(),{id:i=`headlessui-listbox-option-${o}`,disabled:l=!1,value:a,...s}=e,c=H("Listbox.Option"),m=B("Listbox.Option"),y=null!==c.activeOptionIndex&&c.options[c.activeOptionIndex].id===i,j=c.isSelected(a),R=(0,d.useRef)(null),z=(0,f.E)({disabled:l,value:a,domRef:R,get textValue(){var S,T;return null==(T=null==(S=R.current)?void 0:S.textContent)?void 0:T.toLowerCase()}}),L=(0,b.T)(n,R);(0,v.e)(()=>{if(0!==c.listboxState||!y||0===c.activationTrigger)return;let e=(0,h.k)();return e.requestAnimationFrame(()=>{var e,n;null==(n=null==(e=R.current)?void 0:e.scrollIntoView)||n.call(e,{block:"nearest"})}),e.dispose},[R,y,c.listboxState,c.activationTrigger,c.activeOptionIndex]),(0,v.e)(()=>m.registerOption(i,z),[z,i]);let E=(0,P.z)(e=>{if(l)return e.preventDefault();m.onChange(a),0===c.mode&&(m.closeListbox(),(0,h.k)().nextFrame(()=>{var e;return null==(e=c.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),w=(0,P.z)(()=>{if(l)return m.goToOption(O.T.Nothing);m.goToOption(O.T.Specific,i)}),k=(0,I.g)(),N=(0,P.z)(e=>k.update(e)),C=(0,P.z)(e=>{!k.wasMoved(e)||l||y||m.goToOption(O.T.Specific,i,0)}),A=(0,P.z)(e=>{k.wasMoved(e)&&!l&&y&&m.goToOption(O.T.Nothing)}),D=(0,d.useMemo)(()=>({active:y,selected:j,disabled:l}),[y,j,l]);return(0,g.sY)({ourProps:{id:i,ref:L,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":j,disabled:void 0,onClick:E,onFocus:w,onPointerEnter:N,onMouseEnter:N,onPointerMove:C,onMouseMove:C,onPointerLeave:A,onMouseLeave:A},theirProps:s,slot:D,defaultTag:"li",name:"Listbox.Option"})})})},73690:function(e,n,o){"use strict";o.d(n,{g:function(){return u}});var i=o(49738);function t(e){return[e.screenX,e.screenY]}function u(){let e=(0,i.useRef)([-1,-1]);return{wasMoved(n){let o=t(n);return(e.current[0]!==o[0]||e.current[1]!==o[1])&&(e.current=o,!0)},update(n){e.current=t(n)}}}},57006:function(e,n,o){"use strict";o.d(n,{T:function(){return l},d:function(){return x}});var i,l=((i=l||{})[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing",i);function x(e,n){let o=n.resolveItems();if(o.length<=0)return null;let i=n.resolveActiveIndex(),l=null!=i?i:-1,a=(()=>{switch(e.focus){case 0:return o.findIndex(e=>!n.resolveDisabled(e));case 1:{let e=o.slice().reverse().findIndex((e,o,i)=>(-1===l||!(i.length-o-1>=l))&&!n.resolveDisabled(e));return -1===e?e:o.length-1-e}case 2:return o.findIndex((e,o)=>!(o<=l)&&!n.resolveDisabled(e));case 3:{let e=o.slice().reverse().findIndex(e=>!n.resolveDisabled(e));return -1===e?e:o.length-1-e}case 4:return o.findIndex(o=>n.resolveId(o)===e.id);case 5:return null;default:!function(e){throw Error("Unexpected object: "+e)}(e)}})();return -1===a?i:a}},73918:function(e,n,o){"use strict";o.d(n,{j:function(){return cva}});let falsyToString=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,cx=function(){for(var e,n,o=0,i="";o<arguments.length;)(e=arguments[o++])&&(n=function r(e){var n,o,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(o=r(e[n]))&&(i&&(i+=" "),i+=o);else for(n in e)e[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(i&&(i+=" "),i+=n);return i},cva=(e,n)=>o=>{var i;if((null==n?void 0:n.variants)==null)return cx(e,null==o?void 0:o.class,null==o?void 0:o.className);let{variants:l,defaultVariants:a}=n,s=Object.keys(l).map(e=>{let n=null==o?void 0:o[e],i=null==a?void 0:a[e];if(null===n)return null;let s=falsyToString(n)||falsyToString(i);return l[e][s]}),d=o&&Object.entries(o).reduce((e,n)=>{let[o,i]=n;return void 0===i||(e[o]=i),e},{}),c=null==n?void 0:null===(i=n.compoundVariants)||void 0===i?void 0:i.reduce((e,n)=>{let{class:o,className:i,...l}=n;return Object.entries(l).every(e=>{let[n,o]=e;return Array.isArray(o)?o.includes({...a,...d}[n]):({...a,...d})[n]===o})?[...e,o,i]:e},[]);return cx(e,s,c,null==o?void 0:o.class,null==o?void 0:o.className)}}},function(e){e.O(0,[4565,2584,4838,1441,5956,9302,3587,3926,8760,5670,9231,2383,7399,8625,1744],function(){return e(e.s=75470)}),_N_E=e.O()}]);
//# sourceMappingURL=page-fc8b95ee1659d60c.js.map