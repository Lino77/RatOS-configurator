(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{35209:function(e,t,n){"use strict";function clsx(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t)}return i}(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{W:function(){return clsx}}),t.Z=clsx},24360:function(e,t,n){"use strict";n.d(t,{Z:function(){return createLucideIcon}});var i=n(39164),o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let n=(0,i.forwardRef)(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:s="",children:c,...d},f)=>(0,i.createElement)("svg",{ref:f,...o,width:a,height:a,stroke:n,strokeWidth:u?24*Number(l)/Number(a):l,className:["lucide",`lucide-${toKebabCase(e)}`,s].join(" "),...d},[...t.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n}},32232:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]])},65792:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},83839:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("Move3d",[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]])},83630:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},68582:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},65292:function(e,t,n){Promise.resolve().then(n.bind(n,5709)),Promise.resolve().then(n.bind(n,37652)),Promise.resolve().then(n.t.bind(n,48488,23)),Promise.resolve().then(n.t.bind(n,56945,23))},5709:function(e,t,n){"use strict";n.r(t),n.d(t,{Redirecter:function(){return Redirecter},useIsRouteActive:function(){return useIsRouteActive},useLocalPathname:function(){return useLocalPathname},useNavigation:function(){return useNavigation}});var i=n(25374),o=n(39164),a=n(68582),l=n(65792),u=n(83839),s=n(83630),c=n(32232);let useLocalPathname=()=>{var e;let t=(null!==(e=(0,i.usePathname)())&&void 0!==e?e:"/").replace("/configure","");return t},useIsRouteActive=()=>{let e=useLocalPathname();return(0,o.useCallback)(t=>e.startsWith(t),[e])},d=[{name:"Setup Wizard",href:"/wizard",current:!1,icon:a.Z},{name:"Dashboard",href:"/",current:!1,icon:l.Z},{name:"Motion",href:"/motion",current:!1,icon:u.Z},{name:"Visual Calibration (BETA)",href:"/calibration",current:!1,icon:s.Z},{name:"Realtime Analysis (BETA)",href:"/analysis",current:!1,icon:c.Z}],useNavigation=()=>{let e=useIsRouteActive(),t=null,n=[];return d.forEach((i,o)=>{if(i.current=e(i.href),i.current){var a;null!==t&&(null===(a=n[t])||void 0===a?void 0:a.href.length)<i.href.length?(n[t].current=!1,t=o):null!==t?i.current=!1:t=o}n.push(i)}),n},Redirecter=e=>{let t=(0,i.useRouter)(),n=useIsRouteActive();if(e.hasLastPrinterSettings||n("/wizard"))return e.children;t.replace("/wizard")}},37652:function(e,t,n){"use strict";n.r(t),n.d(t,{ControllerFanState:function(){return b},LoadablePrinterConfigurationState:function(){return C},PerformanceModeState:function(){return k},PrinterConfigurationState:function(){return P},StandstillStealthState:function(){return g},StealthchopState:function(){return y},serializePartialPrinterConfiguration:function(){return serializePartialPrinterConfiguration},serializePrinterConfiguration:function(){return serializePrinterConfiguration},usePrinterConfiguration:function(){return usePrinterConfiguration},useSerializedPrinterConfiguration:function(){return useSerializedPrinterConfiguration}});var i=n(96588),o=n(94594),a=n(18954),l=n(61968),u=n(79535),s=n(79807),c=n(39164),d=n(21264),f=n(32342),h=n(65667),p=n(4840),v=n(54939),m=n(98948);let k=(0,i.cn)({key:"PerformanceMode",default:!1,effects:[(0,v.rR)(),(0,u.ok)({refine:(0,s.getRefineCheckerForZodSchema)(o.z.boolean().optional().nullable())})]}),y=(0,i.cn)({key:"Stealchop",default:!1,effects:[(0,v.rR)(),(0,u.ok)({refine:(0,s.getRefineCheckerForZodSchema)(o.z.boolean().optional().nullable())})]}),g=(0,i.cn)({key:"StandstillStealth",default:!1,effects:[(0,v.rR)(),(0,u.ok)({refine:(0,s.getRefineCheckerForZodSchema)(o.z.boolean().optional().nullable())})]}),b=(0,i.cn)({key:"ControllerFan",default:p.z2,effects:[(0,v.rR)(),(0,u.ok)({refine:(0,s.getRefineCheckerForZodSchema)(a.XG.nullable())})]}),P=(0,i.nZ)({key:"PrinterConfiguration",get:async e=>{let{get:t}=e,{printer:n,printerSize:o,performanceMode:a,stealthchop:u,standstillStealth:s,rails:c,controlboard:p,controllerFan:v,toolheads:P}=t((0,i.k9)({printer:f.H6,printerSize:f.hq,performanceMode:k,stealthchop:y,standstillStealth:g,rails:f.q7,controlboard:f.OS,controllerFan:b,toolheads:h.$T})),C=l.jz.safeParse({printer:null==n?null:{...n,defaults:{...n.defaults,toolheads:null==n?void 0:n.defaults.toolheads.map(e=>(0,d.m6)(e))}},size:o,performanceMode:a,stealthchop:u,standstillStealth:s,rails:c,controlboard:p,controllerFan:v,toolheads:P});return!1===C.success&&(0,m.j)().error(C.error.flatten().fieldErrors,"Couldn't parse printer configuration"),C.success?C.data:null}}),C=(0,i.nZ)({key:"LoadablePrinterConfigurationState",get:async e=>{let{get:t}=e,n=t((0,i.Qv)(P));return({hasValue:()=>n.contents,hasError:()=>null,loading:()=>null})[n.state]()}}),serializePrinterConfiguration=e=>{let t={printer:e.printer.id,toolheads:e.toolheads.map(e=>(0,d.m6)(e)),size:e.size,controlboard:e.controlboard.id,controllerFan:e.controllerFan.id,performanceMode:e.performanceMode,stealthchop:e.stealthchop,standstillStealth:e.standstillStealth,rails:e.rails.map(e=>(0,d.Yz)(e))};return l.q_.parse(t)},serializePartialPrinterConfiguration=e=>{var t,n,i,o;let a=null==e?void 0:null===(t=e.toolheads)||void 0===t?void 0:t.map(e=>(0,d.od)(e)),u={printer:null==e?void 0:null===(n=e.printer)||void 0===n?void 0:n.id,toolheads:a,size:null==e?void 0:e.size,controlboard:null==e?void 0:null===(i=e.controlboard)||void 0===i?void 0:i.id,controllerFan:null==e?void 0:null===(o=e.controllerFan)||void 0===o?void 0:o.id,performanceMode:null==e?void 0:e.performanceMode,stealthchop:null==e?void 0:e.stealthchop,standstillStealth:null==e?void 0:e.standstillStealth};return l.NN.parse(u)},useSerializedPrinterConfiguration=()=>{let e=(0,i.sJ)(P),t=(0,c.useMemo)(()=>serializePartialPrinterConfiguration(null!=e?e:{}),[e]);return t},usePrinterConfiguration=()=>{let[e,t]=(0,i.FV)(f.H6),[n,o]=(0,i.FV)(f.hq),[a,u]=(0,i.FV)(f.OS),[s,c]=(0,i.FV)(k),[d,h]=(0,i.FV)(y),[p,v]=(0,i.FV)(g),[m,C]=(0,i.FV)(b),S=(0,i.sJ)(f.q7),z=(0,i.sJ)(P),Z=useSerializedPrinterConfiguration(),F=l.dl.safeParse(z);return{selectedPrinter:e,setSelectedPrinter:t,selectedPrinterOption:n,setSelectedPrinterOption:o,selectedBoard:a,setSelectedBoard:u,performanceMode:s,setPerformanceMode:c,stealthchop:d,setStealthchop:h,standstillStealth:p,setStandstillStealth:v,selectedPrinterRails:S,selectedControllerFan:m,setSelectedControllerFan:C,partialPrinterConfiguration:z,serializedPrinterConfiguration:Z,parsedPrinterConfiguration:F}}},56945:function(){},48488:function(e){e.exports={style:{fontFamily:"'__Inter_0d99fb', '__Inter_Fallback_0d99fb'",fontStyle:"normal"},className:"__className_0d99fb",variable:"__variable_0d99fb"}},25374:function(e,t,n){e.exports=n(64839)}},function(e){e.O(0,[9996,966,8965,5360,453,9535,6303,2745,9633,9321,8458,1744],function(){return e(e.s=65292)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-21f73428640fac96.js.map