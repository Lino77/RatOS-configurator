"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9008],{79008:function(e,t,n){n.d(t,{Q:function(){return MenuBarProvider},Ff:function(){return TopMenu},Er:function(){return useMenuBarProvider},Ty:function(){return useTopMenu}});var r={};n.r(r),n.d(r,{Menubar:function(){return k},MenubarCheckboxItem:function(){return E},MenubarContent:function(){return R},MenubarContentIcon:function(){return S},MenubarGroup:function(){return w},MenubarIcon:function(){return C},MenubarItem:function(){return _},MenubarLabel:function(){return I},MenubarMenu:function(){return MenubarMenu},MenubarPortal:function(){return y},MenubarRadioGroup:function(){return N},MenubarRadioItem:function(){return O},MenubarSeparator:function(){return P},MenubarShortcut:function(){return MenubarShortcut},MenubarSub:function(){return v},MenubarSubContent:function(){return F},MenubarSubTrigger:function(){return T},MenubarTrigger:function(){return z}});var a=n(26248),s=n(65778),i=n(97570),l=n(21629),o=n(49738),d=n(50962),c=n(99407),u=n.n(c),m=n(30273),x=n(90077),f=n(65623),h=n(40514),p=n(87044),g=n(95106),b=n(21137);let j=o.createContext({value:null}),w=f.ZA,y=f.h_,v=f.Tr,N=f.Ee,k=o.forwardRef((e,t)=>{let{className:n,children:r,...s}=e,[i,l]=o.useState(null);return(0,a.jsx)(j.Provider,{value:{value:i},children:(0,a.jsx)(f.fC,{ref:t,value:null!=i?i:void 0,className:(0,h.cn)("flex items-center space-x-1 rounded-md shadow-sm",n),onValueChange:l,...s,children:r})})});(0,h.h)(k,f.fC.displayName);let M=o.createContext({id:""}),MenubarMenu=e=>{let t=o.useId();return(0,a.jsx)(M.Provider,{value:{id:t},children:(0,a.jsx)(f.v2,{...e,value:t})})},C=o.forwardRef((e,t)=>{let{className:n,Icon:r,...s}=e;return o.cloneElement((0,a.jsx)(r,{ref:t,className:(0,h.cn)("size-4 text-white transition-colors group-data-[state=open]:text-white lg:text-white/60",n),...s}))}),z=o.forwardRef((e,t)=>{let{className:n,children:r,asChild:s,...i}=e,{value:c}=o.useContext(j),{id:u}=o.useContext(M),m=s?b.g7:"div";return(0,a.jsxs)(f.xz,{ref:t,className:(0,h.cn)("group relative flex cursor-default select-none items-center outline-none data-[state=open]:text-accent-foreground focus:text-accent-foreground",i.disabled?"cursor-not-allowed opacity-50":"cursor-pointer",n),...i,children:[(0,a.jsx)(p.M,{children:(null==c?void 0:c.replace("radix-",""))==u&&!i.disabled&&(0,a.jsx)(l.E.div,{layoutId:"menubarTrigger",initial:{opacity:0},animate:{opacity:1,transition:{duration:.1,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.1,delay:.1,ease:"easeIn"}},transition:{type:"spring",damping:20,mass:.5,stiffness:450},className:(0,d.d)("pointer-events-none absolute inset-0 rounded-sm bg-brand-700")})}),(0,a.jsx)(m,{className:"relative z-20 flex flex-1 items-center gap-2 rounded-sm p-3 text-sm font-medium text-accent-foreground",children:r})]})});(0,h.h)(z,f.xz.displayName);let S=o.forwardRef((e,t)=>{let{className:n,Icon:r,...s}=e;return o.cloneElement((0,a.jsx)(r,{ref:t,className:(0,h.cn)("size-4 text-white/60",n),...s}))}),T=o.forwardRef((e,t)=>{let{className:n,inset:r,children:s,...i}=e;return(0,a.jsxs)(f.fF,{ref:t,className:(0,h.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",r&&"pl-8",n),...i,children:[s,(0,a.jsx)(x.XCv,{className:"ml-auto h-4 w-4"})]})});(0,h.h)(T,f.fF.displayName);let F=o.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(f.tu,{ref:t,sideOffset:4,alignOffset:-5,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})});(0,h.h)(F,f.tu.displayName);let R=o.forwardRef((e,t)=>{let{className:n,align:r="start",alignOffset:s=-4,sideOffset:i=8,...l}=e;return(0,a.jsx)(f.h_,{children:(0,a.jsx)(f.VY,{ref:t,align:r,alignOffset:s,sideOffset:i,className:(0,h.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})})});(0,h.h)(R,f.VY.displayName);let _=o.forwardRef((e,t)=>{let{className:n,inset:r,...s}=e;return(0,a.jsx)(f.ck,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",n),...s})});(0,h.h)(_,f.ck.displayName);let E=o.forwardRef((e,t)=>{let{className:n,children:r,checked:s,...i}=e;return(0,a.jsxs)(f.oC,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:s,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(f.wU,{children:(0,a.jsx)(x.nQG,{className:"h-4 w-4"})})}),r]})});(0,h.h)(E,f.oC.displayName);let O=o.forwardRef((e,t)=>{let{className:n,children:r,...s}=e;return(0,a.jsxs)(f.Rk,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(f.wU,{children:(0,a.jsx)(g.Z,{className:"h-4 w-4 text-brand-400"})})}),r]})});(0,h.h)(O,f.Rk.displayName);let I=o.forwardRef((e,t)=>{let{className:n,inset:r,...s}=e;return(0,a.jsx)(f.__,{ref:t,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",n),...s})});(0,h.h)(I,f.__.displayName);let P=o.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(f.Z0,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",n),...r})});(0,h.h)(P,f.Z0.displayName);let MenubarShortcut=e=>{let{className:t,...n}=e;return(0,a.jsx)("span",{className:(0,h.cn)("ml-auto text-xs tracking-widest text-muted-foreground",t),...n})};MenubarShortcut.displayname="MenubarShortcut";var L=n(11590),Z=n.n(L),A=n(75663),H=n(64107),V=n(29565),B=n(14501),K=n(78263),D=n(30461),G=n(35209);let MutationModal=e=>{let{open:t,setOpen:n}=e,r=e.isFailed?(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100 dark:bg-red-800",children:(0,a.jsx)(s,{className:"h-6 w-6 text-red-600 dark:text-red-300","aria-hidden":"true"})}):(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-700",children:(0,a.jsx)(D,{className:"h-6 w-6 text-green-600 dark:text-green-100","aria-hidden":"true"})}),i=(0,G.Z)("inline-flex w-full justify-center rounded-md border border-transparent px-4 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-zinc-900 sm:text-sm",e.isLoading?"bg-brand-600 text-base font-medium text-white opacity-50 cursor-not-allowed":"bg-brand-600 text-base font-medium text-white hover:bg-brand-700");return(0,a.jsx)(B.u.Root,{show:t,as:o.Fragment,appear:!0,children:(0,a.jsxs)(K.V,{as:"div",className:"relative z-10",onClose:n,children:[(0,a.jsx)(B.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-zinc-500 bg-opacity-75 transition-opacity dark:bg-zinc-800 dark:bg-opacity-75"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-400 scrollbar-thumb-rounded-md dark:scrollbar-thumb-zinc-600",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(B.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(K.V.Panel,{className:"dark relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all dark:bg-zinc-900 sm:my-8 sm:w-full sm:max-w-sm sm:p-6 md:max-w-lg lg:max-w-xl xl:max-w-3xl",children:[(0,a.jsxs)("div",{children:[e.isLoading?(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",children:(0,a.jsxs)("svg",{className:(0,G.Z)("h-6 w-6 animate-spin text-zinc-800 dark:text-zinc-200"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):r,(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,a.jsx)(K.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-zinc-900 dark:text-zinc-100",children:e.title}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:e.children})})]})]}),(0,a.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,a.jsx)("button",{type:"button",className:i,onClick:e.isLoading?void 0:()=>n(!1),disabled:e.isLoading,children:e.dismissText})})]})})})})]})})};var W=n(72426),Q=n(99196);let HelpActions=e=>{let{className:t}=e,[n,r]=(0,o.useState)(!1),[s,i]=(0,o.useState)(!1),[l,d]=(0,o.useState)({title:"",children:null,dismissText:"OK"}),[c,u]=(0,o.useState)({title:"",children:null,dismissText:"OK"}),m=V.S["klippy-extensions"].symlink.useMutation(),x=V.S.mcu.flashAllConnected.useMutation(),f=n?(0,a.jsx)(MutationModal,{...c,setOpen:r,open:n,isFailed:m.isError,isLoading:m.isLoading}):null,h=s?(0,a.jsx)(MutationModal,{...l,setOpen:i,open:s,isFailed:x.isError,isLoading:x.isLoading}):null,p=(0,o.useCallback)(()=>{d({title:"Flash Firmware",children:(0,a.jsx)("p",{children:"Please wait while RatOS is flashing your connected boards..."}),dismissText:"Please wait..."}),i(!0),x.mutateAsync().then(e=>{d({title:"Flashing Complete",children:(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.report.replace(/\n/g,"<br />")}}),dismissText:"OK"})},e=>{d({title:"Flashing Failed",children:"string"==typeof e||e instanceof String?(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.replace(/\n/g,"<br />")}}):(0,a.jsx)("p",{children:"Something wen't wrong while flashing the connected boards, please try again."}),dismissText:"OK"})})},[x]),g=(0,o.useCallback)(()=>{u({title:"Symlink Extensions",children:(0,a.jsx)("p",{children:"Please wait while RatOS is symlinking klippy extensions..."}),dismissText:"Please wait..."}),r(!0),m.mutateAsync({}).then(e=>{u({title:"Symlink Complete",children:(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.report.replace(/\n/g,"<br />")}}),dismissText:"OK"})},e=>{u({title:"Symlink Failed",children:"string"==typeof e||e instanceof String?(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.replace(/\n/g,"<br />")}}):(0,a.jsx)("p",{children:"Something wen't wrong while symlinking the extensions, please try again."}),dismissText:"OK"})})},[m]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_,{onClick:g,className:"gap-2",children:[(0,a.jsx)(W.Z,{className:"h-4 w-4 text-zinc-400"})," Symlink Extensions"]}),(0,a.jsxs)(_,{onClick:p,className:"gap-2",children:[(0,a.jsx)(Q.Z,{className:"h-4 w-4 text-zinc-400"})," Flash Connected Boards"]}),f,h]})},U=(0,o.createContext)({registerMenu:()=>{throw Error("No menu registered in context")},unregisterMenu:()=>{throw Error("No menu registered in context")},changed:()=>()=>{}}),useMenuBarProvider=()=>{let e=o.useRef(new Map),t=function(){let e=(0,o.useRef)(new Set);return(0,o.useCallback)(t=>{if("function"==typeof t)return e.current.add(t),()=>{e.current.delete(t)};e.current.forEach(e=>e(t))},[])}(),n=(0,o.useCallback)((n,r)=>{var a;e.current.has(n)&&r===(null===(a=e.current.get(n))||void 0===a?void 0:a.render)||(e.current=new Map(e.current).set(n,{render:r,id:n}),t())},[t]),r=(0,o.useCallback)(n=>{e.current.delete(n),t()},[t]);return{topMenuProps:{menus:e,menusChanged:t},providerProps:{registerMenu:n,unregisterMenu:r,changed:t}}},MenuBarProvider=e=>(0,a.jsx)(U.Provider,{value:e,children:e.children}),useTopMenu=(e,t)=>{let{registerMenu:n,unregisterMenu:r}=(0,o.useContext)(U);(0,o.useEffect)(()=>(n(e,t),()=>r(e)),[e,n,t,r])},TopMenu=e=>{var t;let{sidebarOpen:n,setSidebarOpen:c,menus:x,menusChanged:f}=e,[,h]=(0,o.useState)(Array.from(x.current.values()));return t=(0,o.useCallback)(()=>{h(Array.from(x.current.values()))},[x]),(0,o.useEffect)(()=>{let e=f(t);return e},[f,t]),(0,a.jsx)(l.E.div,{className:(0,d.d)("fixed inset-0 z-50 flex h-14 items-center justify-between gap-12 transition lg:left-72 lg:z-30","border-b border-zinc-900/10 backdrop-blur-sm dark:border-white/10 dark:backdrop-blur lg:left-72",!n&&"backdrop-blur-sm dark:backdrop-blur lg:left-72",n?"bg-background":"bg-background/80 dark:bg-background/50"),children:(0,a.jsx)("div",{className:"mx-auto flex-1",children:(0,a.jsxs)("div",{className:"flex h-16 items-center px-4 lg:justify-between",children:[(0,a.jsx)("div",{className:"flex flex-1 items-center justify-between space-x-4 lg:hidden",children:(0,a.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,a.jsx)(u(),{width:160,height:40,className:"h-8 w-auto",src:m.Z,alt:"Workflow"})})}),(0,a.jsxs)(k,{className:"lg:flex-1",children:[x.current.size>0&&Array.from(x.current.values()).map(e=>{let{id:t,render:n}=e;return(0,a.jsx)(o.Fragment,{children:n(r)},t)}),(0,a.jsx)(P,{className:"flex-1 bg-transparent"}),(0,a.jsxs)(MenubarMenu,{children:[(0,a.jsxs)(z,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[(0,a.jsx)(C,{Icon:A.Z})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Help"})]}),(0,a.jsxs)(R,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsx)(HelpActions,{}),(0,a.jsx)(P,{}),(0,a.jsx)(_,{asChild:!0,className:"gap-2",children:(0,a.jsxs)(Z(),{href:"https://os.ratrig.com/docs/introduction",target:"_blank",rel:"noreferrer",children:[(0,a.jsx)(S,{Icon:H.Z})," Docs"]})}),(0,a.jsx)(_,{asChild:!0,className:"gap-2",children:(0,a.jsxs)(Z(),{href:"https://github.com/sponsors/miklschmidt",target:"_blank",rel:"noreferrer",children:[(0,a.jsx)(S,{Icon:H.Z})," Donate"]})})]})]}),(0,a.jsx)(MenubarMenu,{children:(0,a.jsxs)(z,{onClick:()=>c(e=>!e),className:"flex-nowrap whitespace-nowrap text-nowrap lg:hidden",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?(0,a.jsx)(s,{className:(0,d.d)("block","-m-0.5 h-5 w-5"),"aria-hidden":"true"}):(0,a.jsx)(i,{className:(0,d.d)("block","-m-0.5 h-5 w-5"),"aria-hidden":"true"})]})})]})]})})})}},30273:function(e,t){t.Z={src:"/configure/_next/static/media/logo-white.6051cbc7.svg",height:443,width:1728,blurWidth:0,blurHeight:0}}}]);
//# sourceMappingURL=9008-d3b566a0594c0512.js.map