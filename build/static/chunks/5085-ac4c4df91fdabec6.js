"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5085],{26418:function(e,r,t){t.d(r,{j:function(){return Banner}});var a=t(26248);t(49738);var n=t(73323),o=t(44838),l=t(50962),i=t(73918);let s=(0,i.j)("rounded-md p-4 border",{variants:{color:{red:[(0,n.xU)({color:"red"}),(0,n.iA)({color:"red"}),(0,n._1)({color:"red"})],yellow:[(0,n.xU)({color:"yellow"}),(0,n.iA)({color:"yellow"}),(0,n._1)({color:"yellow"})],orange:[(0,n.xU)({color:"orange"}),(0,n.iA)({color:"orange"}),(0,n._1)({color:"orange"})],green:[(0,n.xU)({color:"green"}),(0,n.iA)({color:"green"}),(0,n._1)({color:"green"})],lime:[(0,n.xU)({color:"lime"}),(0,n.iA)({color:"lime"}),(0,n._1)({color:"lime"})],blue:[(0,n.xU)({color:"blue"}),(0,n.iA)({color:"blue"}),(0,n._1)({color:"blue"})],sky:[(0,n.xU)({color:"sky"}),(0,n.iA)({color:"sky"}),(0,n._1)({color:"sky"})],indigo:[(0,n.xU)({color:"indigo"}),(0,n.iA)({color:"indigo"}),(0,n._1)({color:"indigo"})],purple:[(0,n.xU)({color:"purple"}),(0,n.iA)({color:"purple"}),(0,n._1)({color:"purple"})],pink:[(0,n.xU)({color:"pink"}),(0,n.iA)({color:"pink"}),(0,n._1)({color:"pink"})],brand:[(0,n.xU)({color:"brand"}),(0,n.iA)({color:"brand"}),(0,n._1)({color:"brand"})],gray:[(0,n.xU)({color:"gray"}),(0,n.iA)({color:"gray"}),(0,n._1)({color:"gray"})]}},defaultVariants:{color:"gray"}}),Banner=e=>{let{Icon:r,className:t,title:n}=e;return(0,a.jsx)("div",{className:(0,o.m)(s({color:e.color}),e.className),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(r,{className:(0,l.d)("h-5 w-5"),"aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("h3",{className:(0,l.d)("text-sm font-bold"),children:e.title}),(0,a.jsx)("div",{className:"mt-2 text-sm",children:(0,a.jsx)("div",{children:e.children})})]})]})})}},23709:function(e,r,t){t.d(r,{LV:function(){return DropdownWithPrinterQuery},Lt:function(){return Dropdown}});var a=t(26248),n=t(49738),o=t(53614),l=t(50962),i=t(44838),s=t(73323),d=t(64918),c=t(81503),u=t(80434),f=t(88116),p=t(27432),m=t(90077),x=t(95505),h=t(17635),g=t(99771),b=t(40514),v=t(73727),y=t(17471);let OnDropdownOpened=e=>{let{open:r,onShown:t}=e;return(0,n.useEffect)(()=>{r&&t()},[r,t]),null},useDropdownPrinterQueryState=(e,r,t)=>{var a;let[o,l]=(0,n.useState)(!1),i=(0,u.useSerializedPrinterConfiguration)(),s=null!=r?r:t?{}:void 0;s&&null!=t&&(s[t]=i);let c=d.SX.printer[e].useQuery(s,{enabled:o,keepPreviousData:!0});return{options:null!==(a=c.data)&&void 0!==a?a:[],onShown:()=>l(!0),isFetching:c.isFetching}},DropdownWithPrinterQuery=e=>{let{query:r,vars:t,serializedPrinterConfiguration:o,...l}=e,i=useDropdownPrinterQueryState(r,t,o);return(0,a.jsx)(n.Suspense,{children:(0,a.jsx)(Dropdown,{...l,...i})})},badgeDescription=e=>e?Array.isArray(e)?e.map(e=>e.children).join(", "):e.children:"",Dropdown=e=>{var r;let{onSelect:t,value:d}=e,[u,j]=n.useState(!1),k=(0,n.useCallback)(r=>{let a=e.options.find(e=>e.id===r);a&&(null==t||t(a))},[t,e.options]),N=!1==e.sort?e.options:e.options.slice(0).sort((e,r)=>e.title.localeCompare(r.title)),w=(0,l.d)(e.error&&"ring-red-500 ring-2 text-red-900 placeholder-red-300 dark:text-red-400 dark:placeholder-red-700"),[z]=(0,f.u)(),S=(Array.isArray(null==d?void 0:d.badge)?d.badge:(null==d?void 0:d.badge)?[d.badge]:[]).concat(Array.isArray(e.badge)?e.badge:e.badge?[e.badge]:[]),C=e.help?(0,a.jsx)("div",{className:"mb-2 whitespace-pre-line text-sm text-sky-200/50 opacity-70",id:"email-description",children:e.help}):null;return(0,a.jsxs)(p.J2,{open:u,onOpenChange:j,children:[(0,a.jsx)(h._,{className:(0,i.m)("block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300",e.error&&"text-red-600 dark:text-red-400"),children:e.label}),C,e.onShown&&(0,a.jsx)(OnDropdownOpened,{open:u,onShown:e.onShown}),(0,a.jsx)(p.xo,{asChild:!0,children:(0,a.jsxs)(x.z,{variant:"outline",role:"combobox","aria-expanded":u,className:(0,l.d)("w-full justify-between bg-zinc-800 px-2",w),children:[(0,a.jsxs)("span",{className:"flex flex-1 items-center justify-start gap-2 text-left",children:[(0,a.jsx)("span",{className:"min-w-0 flex-1 items-center truncate",children:null!==(r=null==d?void 0:d.title)&&void 0!==r?r:"Pick from the list..."}),(0,a.jsx)("span",{className:(0,l.d)("flex items-center space-x-1",!e.disabled&&"-mr-2"),children:S&&S.map((r,t)=>{var a;return(0,n.createElement)(s.Ct,{...r,key:t,color:null!==(a=r.color)&&void 0!==a?a:e.disabled?"plain":r.color,size:"sm"})})})]}),!e.disabled&&(0,a.jsx)(m.jnn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,a.jsx)("div",{ref:z,children:e.error&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:e.error})}),(0,a.jsxs)(p.yk,{className:"min-w-[var(--radix-popover-trigger-width)] p-0",children:[(0,a.jsxs)(g.mY,{children:[(0,a.jsx)(g.sZ,{placeholder:"Search for option...",className:"h-9"}),(0,a.jsxs)(g.e8,{children:[(0,a.jsx)(g.rb,{children:"No option found."}),(0,a.jsx)(g.fu,{children:N.map(e=>(0,a.jsxs)(g.di,{value:e.title+badgeDescription(e.badge)+e.id,onSelect:()=>{k(e.id),j(!1)},className:(0,l.d)("gap-2",(null==d?void 0:d.id)===e.id&&"text-brand-400 aria-selected:text-brand-400 hover:text-brand-400"),children:[e.badge&&(Array.isArray(e.badge)?e.badge.map((e,r)=>(0,n.createElement)(s.Ct,{...e,color:e.color,size:"sm",key:r})):(0,a.jsx)(s.Ct,{...e.badge,color:e.badge.color,size:"sm"})),e.title,(0,a.jsx)(o,{className:(0,b.cn)("ml-auto h-4 w-4 text-brand-400",(null==d?void 0:d.id)===e.id?"opacity-100":"opacity-0")})]},e.id))})]})]}),(0,a.jsx)(y.i,{children:e.isFetching&&(0,a.jsx)(v.U5,{className:"flex justify-center px-3 py-2 text-sm text-zinc-400 dark:text-zinc-500",children:(0,a.jsx)(c.$,{})})})]})]})}},48542:function(e,r,t){t.d(r,{o:function(){return TextInput}});var a=t(26248),n=t(96148),o=t(6181),l=t(33964),i=t(43920),s=t(32836),d=t.n(s),c=t(49738),u=t(50962),f=t(63440);let TextInput=e=>{let r=(0,c.useRef)(d()(e)),{onChange:t}=e,[s,p]=(0,c.useState)(!1);(0,u.d)("h-5 w-5",(e.error,"text-red-500"));let m=e.error?(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,a.jsx)(l,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}):null,x=(0,u.d)(e.error&&"border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700"),h=e.error?(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",id:r.current+"-error",children:e.error}):null,g=e.help?(0,a.jsx)("p",{className:"mt-2 text-sm text-zinc-500",id:"email-description",children:e.help}):null,b=(0,c.useCallback)(r=>{null==t||t("number"===e.type?parseFloat(r.currentTarget.value):r.currentTarget.value)},[t,e.type]),v=(0,c.useCallback)(()=>{p(e=>!e)},[]),y="password"===e.type?(0,a.jsx)("div",{onClick:v,className:"absolute inset-y-0 ".concat(null!=m?"right-6":"right-0"," flex cursor-pointer items-center pr-3"),children:s?(0,a.jsx)(n,{className:"h-5 w-5 text-zinc-400"}):(0,a.jsx)(o,{className:"h-5 w-5 text-zinc-400"})}):null;return(0,a.jsxs)("div",{children:[(0,a.jsx)(i._,{className:"block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300",children:e.label}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)(f.I,{...e,type:s?"text":e.type,className:x,placeholder:e.placeholder,defaultValue:e.defaultValue,value:e.value,onChange:b,variant:e.error?"error":"default","aria-invalid":!!e.error,"aria-describedby":e.error?r.current+"-error":void 0}),m,y]}),null!=h?h:g]})}},99771:function(e,r,t){t.d(r,{mY:function(){return h},rb:function(){return v},fu:function(){return y},sZ:function(){return g},di:function(){return k},e8:function(){return b},zz:function(){return j}});var a=t(26248),n=t(49738),o=t(90077),l=t(73727),i=t(40514),s=t(23546);s.fC,s.xz;let d=s.h_;s.x8;let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(s.aV,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n})});(0,i.h)(c,s.aV.displayName);let u=n.forwardRef((e,r)=>{let{className:t,children:n,...l}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(s.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[n,(0,a.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,a.jsx)(o.Pxu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});(0,i.h)(u,s.VY.displayName);let f=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(s.Dx,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...n})});(0,i.h)(f,s.Dx.displayName);let p=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(s.dk,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})});(0,i.h)(p,s.dk.displayName);var m=t(27452),x=t(63440);let h=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(l.mY,{ref:r,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...n})});(0,i.h)(h,l.mY.displayName);let g=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsxs)("div",{className:"flex items-center rounded-t-md border-b pl-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(o._Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(l.mY.Input,{ref:r,asChild:!0,className:(0,i.cn)("flex w-full rounded-md bg-transparent text-sm shadow-none outline-none placeholder:text-muted-foreground focus:ring-inset focus:ring-transparent disabled:cursor-not-allowed disabled:opacity-50 dark:border-transparent dark:focus:border-transparent dark:focus:ring-transparent dark:focus:ring-offset-0 dark:focus:ring-offset-transparent",t),...n,children:(0,a.jsx)(x.I,{variant:"plain"})})]})});(0,i.h)(g,l.mY.Input.displayName);let b=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(l.mY.List,{ref:r,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",m.Z,t),...n})});(0,i.h)(b,l.mY.List.displayName);let v=n.forwardRef((e,r)=>(0,a.jsx)(l.mY.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));(0,i.h)(v,l.mY.Empty.displayName);let y=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(l.mY.Group,{ref:r,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...n})});(0,i.h)(y,l.mY.Group.displayName);let j=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(l.mY.Separator,{ref:r,className:(0,i.cn)("-mx-1 h-px bg-border",t),...n})});(0,i.h)(j,l.mY.Separator.displayName);let k=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(l.mY.Item,{ref:r,className:(0,i.cn)('relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled="true"]:pointer-events-none data-[disabled="true"]:opacity-50',t),...n})});(0,i.h)(k,l.mY.Item.displayName)},27432:function(e,r,t){t.d(r,{J2:function(){return i},xo:function(){return s},yk:function(){return d}});var a=t(26248),n=t(49738),o=t(88315),l=t(40514);let i=o.fC,s=o.xz;o.ee;let d=n.forwardRef((e,r)=>{let{className:t,align:n="center",sideOffset:i=4,...s}=e;return(0,a.jsx)(o.h_,{children:(0,a.jsx)(o.VY,{ref:r,align:n,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})})});(0,l.h)(d,o.VY.displayName)},80434:function(e,r,t){t.r(r),t.d(r,{ControllerFanState:function(){return b},LoadablePrinterConfigurationState:function(){return y},PerformanceModeState:function(){return x},PrinterConfigurationState:function(){return v},StandstillStealthState:function(){return g},StealthchopState:function(){return h},serializePartialPrinterConfiguration:function(){return serializePartialPrinterConfiguration},serializePrinterConfiguration:function(){return serializePrinterConfiguration},usePrinterConfiguration:function(){return usePrinterConfiguration},useSerializedPrinterConfiguration:function(){return useSerializedPrinterConfiguration}});var a=t(55797),n=t(94594),o=t(21899),l=t(24948),i=t(83587),s=t(85582),d=t(49738),c=t(97370),u=t(48418),f=t(57674),p=t(17710),m=t(72931);let x=(0,a.cn)({key:"PerformanceMode",default:!1,effects:[(0,m.rR)(),(0,i.ok)({refine:(0,s.getRefineCheckerForZodSchema)(n.z.boolean().optional().nullable())})]}),h=(0,a.cn)({key:"Stealchop",default:!1,effects:[(0,m.rR)(),(0,i.ok)({refine:(0,s.getRefineCheckerForZodSchema)(n.z.boolean().optional().nullable())})]}),g=(0,a.cn)({key:"StandstillStealth",default:!1,effects:[(0,m.rR)(),(0,i.ok)({refine:(0,s.getRefineCheckerForZodSchema)(n.z.boolean().optional().nullable())})]}),b=(0,a.cn)({key:"ControllerFan",default:p.z2,effects:[(0,m.rR)(),(0,i.ok)({refine:(0,s.getRefineCheckerForZodSchema)(o.XG.nullable())})]}),v=(0,a.nZ)({key:"PrinterConfiguration",get:async e=>{let{get:r}=e,{printer:t,printerSize:n,performanceMode:o,stealthchop:i,standstillStealth:s,rails:d,controlboard:p,controllerFan:m,toolheads:v}=r((0,a.k9)({printer:u.H6,printerSize:u.hq,performanceMode:x,stealthchop:h,standstillStealth:g,rails:u.q7,controlboard:u.OS,controllerFan:b,toolheads:f.$T})),y=l.jz.safeParse({printer:null==t?null:{...t,defaults:{...t.defaults,toolheads:null==t?void 0:t.defaults.toolheads.map(e=>(0,c.m6)(e))}},size:n,performanceMode:o,stealthchop:i,standstillStealth:s,rails:d,controlboard:p,controllerFan:m,toolheads:v});return!1===y.success&&console.error(y.error.flatten().fieldErrors),y.success?y.data:null}}),y=(0,a.nZ)({key:"LoadablePrinterConfigurationState",get:async e=>{let{get:r}=e,t=r((0,a.Qv)(v));return({hasValue:()=>t.contents,hasError:()=>null,loading:()=>null})[t.state]()}}),serializePrinterConfiguration=e=>{let r={printer:e.printer.id,toolheads:e.toolheads.map(e=>(0,c.m6)(e)),size:e.size,controlboard:e.controlboard.id,controllerFan:e.controllerFan.id,performanceMode:e.performanceMode,stealthchop:e.stealthchop,standstillStealth:e.standstillStealth,rails:e.rails.map(e=>(0,c.Yz)(e))};return l.q_.parse(r)},serializePartialPrinterConfiguration=e=>{var r,t,a,n;let o=null==e?void 0:null===(r=e.toolheads)||void 0===r?void 0:r.map(e=>(0,c.od)(e)),i={printer:null==e?void 0:null===(t=e.printer)||void 0===t?void 0:t.id,toolheads:o,size:null==e?void 0:e.size,controlboard:null==e?void 0:null===(a=e.controlboard)||void 0===a?void 0:a.id,controllerFan:null==e?void 0:null===(n=e.controllerFan)||void 0===n?void 0:n.id,performanceMode:null==e?void 0:e.performanceMode,stealthchop:null==e?void 0:e.stealthchop,standstillStealth:null==e?void 0:e.standstillStealth};return l.NN.parse(i)},useSerializedPrinterConfiguration=()=>{let e=(0,a.sJ)(v),r=(0,d.useMemo)(()=>serializePartialPrinterConfiguration(null!=e?e:{}),[e]);return r},usePrinterConfiguration=()=>{let[e,r]=(0,a.FV)(u.H6),[t,n]=(0,a.FV)(u.hq),[o,i]=(0,a.FV)(u.OS),[s,d]=(0,a.FV)(x),[c,f]=(0,a.FV)(h),[p,m]=(0,a.FV)(g),[y,j]=(0,a.FV)(b),k=(0,a.sJ)(u.q7),N=(0,a.sJ)(v),w=useSerializedPrinterConfiguration(),z=l.dl.safeParse(N);return{selectedPrinter:e,setSelectedPrinter:r,selectedPrinterOption:t,setSelectedPrinterOption:n,selectedBoard:o,setSelectedBoard:i,performanceMode:s,setPerformanceMode:d,stealthchop:c,setStealthchop:f,standstillStealth:p,setStandstillStealth:m,selectedPrinterRails:k,selectedControllerFan:y,setSelectedControllerFan:j,partialPrinterConfiguration:N,serializedPrinterConfiguration:w,parsedPrinterConfiguration:z}}}}]);
//# sourceMappingURL=5085-ac4c4df91fdabec6.js.map